{"version":3,"file":"dialog.js","names":["_uiComponent","extend","show","_knockout","observable","modal","defaults","dialogTemplate","contentTemplate","undefined","elementConfig","class","initialize","options","_this","constructor","template","_super","subscribe","shown","dialogElement","open","close","showModal","afterRenderDialog","element","addEventListener","onCancel","bind","onClose","getContentTemplate","event","defaultPrevented","_default"],"sources":["../../ts/js/view/dialog.ts"],"sourcesContent":["import Component from \"uiComponent\";\nimport ko from 'knockout';\n\nexport default Component.extend({\n    show: ko.observable<boolean>(false),\n    modal: false,\n    defaults: {\n        dialogTemplate: 'VMPL_BugReplay/dialog-wrapper',\n        contentTemplate: undefined,\n        elementConfig: {\n            class: ko.observable<string>('left-bottom'),\n        }\n    },\n    initialize(options: object) {\n        !!this.constructor.defaults.contentTemplate\n            || (this.constructor.defaults.contentTemplate = this.constructor.defaults.template);\n        this.constructor.defaults.template = this.constructor.defaults.dialogTemplate;\n\n        this._super(options);\n        this.show.subscribe((shown: boolean) => {\n            if (this.dialogElement.open !== shown) {\n                if(!shown) {\n                    this.dialogElement.close();\n                } else {\n                    this.modal\n                        ? this.dialogElement.showModal()\n                        : this.dialogElement.show();\n                }\n            }\n        });\n\n        return this;\n    },\n    afterRenderDialog(element: HTMLDialogElement) {\n        this.dialogElement = element;\n        this.dialogElement.addEventListener('cancel', this.onCancel.bind(this));\n        this.dialogElement.addEventListener('close', this.onClose.bind(this));\n    },\n    getContentTemplate() {\n        return this.contentTemplate;\n    },\n    onCancel(event: Event) {\n        if (!event.defaultPrevented) {\n            this.show(false);\n        }\n    },\n    onClose(event: Event) {\n        this.show(false);\n    }\n})\n"],"mappings":";;;iBAGeA,YAAA,CAAUC,MAAM,CAAC;IAC5BC,IAAI,EAAEC,SAAA,CAAGC,UAAU,CAAU,KAAK,CAAC;IACnCC,KAAK,EAAE,KAAK;IACZC,QAAQ,EAAE;MACNC,cAAc,EAAE,+BAA+B;MAC/CC,eAAe,EAAEC,SAAS;MAC1BC,aAAa,EAAE;QACXC,KAAK,EAAER,SAAA,CAAGC,UAAU,CAAS,aAAa;MAC9C;IACJ,CAAC;IACDQ,UAAU,WAAAA,WAACC,OAAe,EAAE;MAAA,IAAAC,KAAA;MACxB,CAAC,CAAC,IAAI,CAACC,WAAW,CAACT,QAAQ,CAACE,eAAe,KACnC,IAAI,CAACO,WAAW,CAACT,QAAQ,CAACE,eAAe,GAAG,IAAI,CAACO,WAAW,CAACT,QAAQ,CAACU,QAAQ,CAAC;MACvF,IAAI,CAACD,WAAW,CAACT,QAAQ,CAACU,QAAQ,GAAG,IAAI,CAACD,WAAW,CAACT,QAAQ,CAACC,cAAc;MAE7E,IAAI,CAACU,MAAM,CAACJ,OAAO,CAAC;MACpB,IAAI,CAACX,IAAI,CAACgB,SAAS,CAAC,UAACC,KAAc,EAAK;QACpC,IAAIL,KAAI,CAACM,aAAa,CAACC,IAAI,KAAKF,KAAK,EAAE;UACnC,IAAG,CAACA,KAAK,EAAE;YACPL,KAAI,CAACM,aAAa,CAACE,KAAK,CAAC,CAAC;UAC9B,CAAC,MAAM;YACHR,KAAI,CAACT,KAAK,GACJS,KAAI,CAACM,aAAa,CAACG,SAAS,CAAC,CAAC,GAC9BT,KAAI,CAACM,aAAa,CAAClB,IAAI,CAAC,CAAC;UACnC;QACJ;MACJ,CAAC,CAAC;MAEF,OAAO,IAAI;IACf,CAAC;IACDsB,iBAAiB,WAAAA,kBAACC,OAA0B,EAAE;MAC1C,IAAI,CAACL,aAAa,GAAGK,OAAO;MAC5B,IAAI,CAACL,aAAa,CAACM,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MACvE,IAAI,CAACR,aAAa,CAACM,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACG,OAAO,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;IACzE,CAAC;IACDE,kBAAkB,WAAAA,mBAAA,EAAG;MACjB,OAAO,IAAI,CAACtB,eAAe;IAC/B,CAAC;IACDmB,QAAQ,WAAAA,SAACI,KAAY,EAAE;MACnB,IAAI,CAACA,KAAK,CAACC,gBAAgB,EAAE;QACzB,IAAI,CAAC9B,IAAI,CAAC,KAAK,CAAC;MACpB;IACJ,CAAC;IACD2B,OAAO,WAAAA,QAACE,KAAY,EAAE;MAClB,IAAI,CAAC7B,IAAI,CAAC,KAAK,CAAC;IACpB;EACJ,CAAC,CAAC;EAAA,OAAA+B,QAAA;AAAA"}