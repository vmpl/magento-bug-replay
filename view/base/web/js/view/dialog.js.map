{"version":3,"file":"dialog.js","names":["_uiComponent","extend","defaults","dialogTemplate","contentTemplate","undefined","elementConfig","class","_knockout","observable","modal","show","listens","initialize","options","constructor","template","_super","initObservable","observe","afterRenderDialog","element","dialogElement","addEventListener","onCancel","bind","onClose","getContentTemplate","onShow","shown","open","close","showModal","event","defaultPrevented","_default"],"sources":["../../ts/js/view/dialog.ts"],"sourcesContent":["import Component from \"uiComponent\";\nimport ko from 'knockout';\n\nexport default Component.extend({\n    defaults: {\n        dialogTemplate: 'VMPL_BugReplay/dialog-wrapper',\n        contentTemplate: undefined,\n        elementConfig: {\n            class: ko.observable<string>('left-bottom'),\n        },\n        modal: false,\n        show: false,\n        listens: {\n            show: 'onShow',\n        }\n    },\n    initialize(options: object) {\n        !!this.constructor.defaults.contentTemplate\n            || (this.constructor.defaults.contentTemplate = this.constructor.defaults.template);\n        this.constructor.defaults.template = this.constructor.defaults.dialogTemplate;\n\n        this._super(options);\n        return this;\n    },\n    initObservable() {\n        this._super();\n        this.observe([\n            'show',\n        ]);\n        return this;\n    },\n    afterRenderDialog(element: HTMLDialogElement) {\n        this.dialogElement = element;\n        this.dialogElement.addEventListener('cancel', this.onCancel.bind(this));\n        this.dialogElement.addEventListener('close', this.onClose.bind(this));\n    },\n    getContentTemplate() {\n        return this.contentTemplate;\n    },\n    onShow(shown: boolean) {\n        if (this.dialogElement.open !== shown) {\n            if(!shown) {\n                this.dialogElement.close();\n            } else {\n                this.modal\n                    ? this.dialogElement.showModal()\n                    : this.dialogElement.show();\n            }\n        }\n    },\n    onCancel(event: Event) {\n        if (!event.defaultPrevented) {\n            this.show(false);\n        }\n    },\n    onClose(event: Event) {\n        this.show(false);\n    }\n})\n"],"mappings":";;;iBAGeA,YAAA,CAAUC,MAAM,CAAC;IAC5BC,QAAQ,EAAE;MACNC,cAAc,EAAE,+BAA+B;MAC/CC,eAAe,EAAEC,SAAS;MAC1BC,aAAa,EAAE;QACXC,KAAK,EAAEC,SAAA,CAAGC,UAAU,CAAS,aAAa;MAC9C,CAAC;MACDC,KAAK,EAAE,KAAK;MACZC,IAAI,EAAE,KAAK;MACXC,OAAO,EAAE;QACLD,IAAI,EAAE;MACV;IACJ,CAAC;IACDE,UAAU,WAAAA,WAACC,OAAe,EAAE;MACxB,CAAC,CAAC,IAAI,CAACC,WAAW,CAACb,QAAQ,CAACE,eAAe,KACnC,IAAI,CAACW,WAAW,CAACb,QAAQ,CAACE,eAAe,GAAG,IAAI,CAACW,WAAW,CAACb,QAAQ,CAACc,QAAQ,CAAC;MACvF,IAAI,CAACD,WAAW,CAACb,QAAQ,CAACc,QAAQ,GAAG,IAAI,CAACD,WAAW,CAACb,QAAQ,CAACC,cAAc;MAE7E,IAAI,CAACc,MAAM,CAACH,OAAO,CAAC;MACpB,OAAO,IAAI;IACf,CAAC;IACDI,cAAc,WAAAA,eAAA,EAAG;MACb,IAAI,CAACD,MAAM,CAAC,CAAC;MACb,IAAI,CAACE,OAAO,CAAC,CACT,MAAM,CACT,CAAC;MACF,OAAO,IAAI;IACf,CAAC;IACDC,iBAAiB,WAAAA,kBAACC,OAA0B,EAAE;MAC1C,IAAI,CAACC,aAAa,GAAGD,OAAO;MAC5B,IAAI,CAACC,aAAa,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MACvE,IAAI,CAACH,aAAa,CAACC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACG,OAAO,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;IACzE,CAAC;IACDE,kBAAkB,WAAAA,mBAAA,EAAG;MACjB,OAAO,IAAI,CAACvB,eAAe;IAC/B,CAAC;IACDwB,MAAM,WAAAA,OAACC,KAAc,EAAE;MACnB,IAAI,IAAI,CAACP,aAAa,CAACQ,IAAI,KAAKD,KAAK,EAAE;QACnC,IAAG,CAACA,KAAK,EAAE;UACP,IAAI,CAACP,aAAa,CAACS,KAAK,CAAC,CAAC;QAC9B,CAAC,MAAM;UACH,IAAI,CAACrB,KAAK,GACJ,IAAI,CAACY,aAAa,CAACU,SAAS,CAAC,CAAC,GAC9B,IAAI,CAACV,aAAa,CAACX,IAAI,CAAC,CAAC;QACnC;MACJ;IACJ,CAAC;IACDa,QAAQ,WAAAA,SAACS,KAAY,EAAE;MACnB,IAAI,CAACA,KAAK,CAACC,gBAAgB,EAAE;QACzB,IAAI,CAACvB,IAAI,CAAC,KAAK,CAAC;MACpB;IACJ,CAAC;IACDe,OAAO,WAAAA,QAACO,KAAY,EAAE;MAClB,IAAI,CAACtB,IAAI,CAAC,KAAK,CAAC;IACpB;EACJ,CAAC,CAAC;EAAA,OAAAwB,QAAA;AAAA"}