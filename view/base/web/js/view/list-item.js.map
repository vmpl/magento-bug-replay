{"version":3,"file":"list-item.js","names":["_uiComponent","extend","itemActive","_knockout","observable","defaults","template","links","item","afterRender","element","addEventListener","onEventFireGesture","bind","passive","onTap","type","event","tapEvent","dispatchEvent","MouseEvent","_default"],"sources":["../../ts/js/view/list-item.ts"],"sourcesContent":["import Component from 'uiComponent';\nimport ko from 'knockout';\nimport ItemSession from \"VMPL_BugReplay/js/model/item-session\";\n\nexport default Component.extend({\n    itemActive: ko.observable<ItemSession>(),\n    defaults: {\n        template: 'VMPL_BugReplay/player/list/item',\n        links: {\n            item: '${ $.provider }:sessions.${ $.itemIndex }',\n            itemActive: '${ $.provider }:activeSession',\n        },\n    },\n    afterRender(element: HTMLElement) {\n        this.element = element;\n        element.addEventListener('mousedown', this.onEventFireGesture.bind(this, 'mousedown'), {passive: true});\n        element.addEventListener('mousemove', this.onEventFireGesture.bind(this, 'mousemove'), {passive: true});\n        element.addEventListener('mouseup', this.onEventFireGesture.bind(this, 'mouseup'), {passive: true});\n        element.addEventListener('touchstart', this.onEventFireGesture.bind(this, 'touchstart'), {passive: true});\n        element.addEventListener('touchmove', this.onEventFireGesture.bind(this, 'touchmove'), {passive: true});\n        element.addEventListener('touchend', this.onEventFireGesture.bind(this, 'touchend'), {passive: true});\n\n        element.addEventListener('tap', this.onTap.bind(this), {passive: true});\n    },\n    onEventFireGesture(type: string, event: MouseEvent | TouchEvent) {\n        switch (type) {\n            case 'mousedown':\n            case 'touchstart':\n                this.tapEvent = event;\n                break;\n            case 'mousemove':\n            case 'touchmove':\n                delete this.tapEvent;\n                break;\n            case 'mouseup':\n            case 'touchend':\n                !this.tapEvent\n                    || this.element.dispatchEvent(new MouseEvent('tap', event));\n                break;\n        }\n    },\n    onTap(event: MouseEvent | TouchEvent) {\n        this.itemActive(this.item);\n    }\n});\n"],"mappings":";;;iBAIeA,YAAA,CAAUC,MAAM,CAAC;IAC5BC,UAAU,EAAEC,SAAA,CAAGC,UAAU,CAAc,CAAC;IACxCC,QAAQ,EAAE;MACNC,QAAQ,EAAE,iCAAiC;MAC3CC,KAAK,EAAE;QACHC,IAAI,EAAE,2CAA2C;QACjDN,UAAU,EAAE;MAChB;IACJ,CAAC;IACDO,WAAW,WAAAA,YAACC,OAAoB,EAAE;MAC9B,IAAI,CAACA,OAAO,GAAGA,OAAO;MACtBA,OAAO,CAACC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,EAAE;QAACC,OAAO,EAAE;MAAI,CAAC,CAAC;MACvGJ,OAAO,CAACC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,EAAE;QAACC,OAAO,EAAE;MAAI,CAAC,CAAC;MACvGJ,OAAO,CAACC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE;QAACC,OAAO,EAAE;MAAI,CAAC,CAAC;MACnGJ,OAAO,CAACC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAAC,IAAI,EAAE,YAAY,CAAC,EAAE;QAACC,OAAO,EAAE;MAAI,CAAC,CAAC;MACzGJ,OAAO,CAACC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,EAAE;QAACC,OAAO,EAAE;MAAI,CAAC,CAAC;MACvGJ,OAAO,CAACC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE;QAACC,OAAO,EAAE;MAAI,CAAC,CAAC;MAErGJ,OAAO,CAACC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAACI,KAAK,CAACF,IAAI,CAAC,IAAI,CAAC,EAAE;QAACC,OAAO,EAAE;MAAI,CAAC,CAAC;IAC3E,CAAC;IACDF,kBAAkB,WAAAA,mBAACI,IAAY,EAAEC,KAA8B,EAAE;MAC7D,QAAQD,IAAI;QACR,KAAK,WAAW;QAChB,KAAK,YAAY;UACb,IAAI,CAACE,QAAQ,GAAGD,KAAK;UACrB;QACJ,KAAK,WAAW;QAChB,KAAK,WAAW;UACZ,OAAO,IAAI,CAACC,QAAQ;UACpB;QACJ,KAAK,SAAS;QACd,KAAK,UAAU;UACX,CAAC,IAAI,CAACA,QAAQ,IACP,IAAI,CAACR,OAAO,CAACS,aAAa,CAAC,IAAIC,UAAU,CAAC,KAAK,EAAEH,KAAK,CAAC,CAAC;UAC/D;MACR;IACJ,CAAC;IACDF,KAAK,WAAAA,MAACE,KAA8B,EAAE;MAClC,IAAI,CAACf,UAAU,CAAC,IAAI,CAACM,IAAI,CAAC;IAC9B;EACJ,CAAC,CAAC;EAAA,OAAAa,QAAA;AAAA"}