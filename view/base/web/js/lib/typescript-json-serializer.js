/*! For license information please see typescript-json-serializer.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(self,(()=>(()=>{var e={664:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i;!function(e){!function(t){var i="object"===(void 0===r.g?"undefined":n(r.g))?r.g:"object"===("undefined"==typeof self?"undefined":n(self))?self:"object"===n(this)?this:Function("return this;")(),o=a(e);function a(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===i.Reflect?i.Reflect=e:o=a(i.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,u=!a&&!s,c={create:a?function(){return F(Object.create(null))}:s?function(){return F({__proto__:null})}:function(){return F({})},has:u?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:u?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"===("undefined"==typeof process?"undefined":n(process))&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,i)},t.prototype.entries=function(){return new r(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}():Map,y=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,d=new(f||"function"!=typeof WeakMap?function(){var e=16,r=c.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+s()}while(c.has(r,e));return r[e]=!0,e}function o(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function a(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function s(){var t,r=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t):a(new Array(t),t));r[6]=79&r[6]|64,r[8]=191&r[8]|128;for(var n="",i=0;i<e;++i){var o=r[i];4!==i&&6!==i&&8!==i||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function h(e,t,r){var n=d.get(e);if(j(n)){if(!r)return;n=new p,d.set(e,n)}var i=n.get(t);if(j(i)){if(!r)return;i=new p,n.set(t,i)}return i}function v(e,t,r){if(b(e,t,r))return!0;var n=D(t);return!S(n)&&v(e,n,r)}function b(e,t,r){var n=h(t,r,!1);return!j(n)&&!!n.has(e)}function g(e,t,r){if(b(e,t,r))return _(e,t,r);var n=D(t);return S(n)?void 0:g(e,n,r)}function _(e,t,r){var n=h(t,r,!1);if(!j(n))return n.get(e)}function w(e,t,r,n){h(r,n,!0).set(e,t)}function m(e,t){var r=P(e,t),n=D(e);if(null===n)return r;var i=m(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var o=new y,a=[],s=0,u=r;s<u.length;s++){var c=u[s];o.has(c)||(o.add(c),a.push(c))}for(var l=0,f=i;l<f.length;l++)c=f[l],o.has(c)||(o.add(c),a.push(c));return a}function P(e,t){var r=[],n=h(e,t,!1);if(j(n))return r;for(var i=function(e){var t=x(e,o);if(!T(t))throw new TypeError;var r=t.call(e);if(!z(r))throw new TypeError;return r}(n.keys()),a=0;;){var s=J(i);if(!s)return r.length=a,r;var u=s.value;try{r[a]=u}catch(e){try{R(i)}finally{throw e}}a++}}function O(e){if(null===e)return 1;switch(n(e)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function j(e){return void 0===e}function S(e){return null===e}function z(e){return"object"===n(e)?null!==e:"function"==typeof e}function M(e,t){switch(O(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=x(e,i);if(void 0!==n){var o=n.call(e,r);if(z(o))throw new TypeError;return o}return function(e,t){if("string"===t){var r=e.toString;if(T(r)&&!z(i=r.call(e)))return i;if(T(n=e.valueOf)&&!z(i=n.call(e)))return i}else{var n;if(T(n=e.valueOf)&&!z(i=n.call(e)))return i;var i,o=e.toString;if(T(o)&&!z(i=o.call(e)))return i}throw new TypeError}(e,"default"===r?"number":r)}function A(e){var t=M(e,3);return"symbol"===n(t)?t:function(e){return""+e}(t)}function E(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function T(e){return"function"==typeof e}function k(e){return"function"==typeof e}function x(e,t){var r=e[t];if(null!=r){if(!T(r))throw new TypeError;return r}}function J(e){var t=e.next();return!t.done&&t}function R(e){var t=e.return;t&&t.call(e)}function D(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function F(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,r,n){if(j(r)){if(!E(e))throw new TypeError;if(!k(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!j(n)&&!S(n)){if(!k(n))throw new TypeError;t=n}}return t}(e,t)}if(!E(e))throw new TypeError;if(!z(t))throw new TypeError;if(!z(n)&&!j(n)&&!S(n))throw new TypeError;return S(n)&&(n=void 0),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,r,n);if(!j(o)&&!S(o)){if(!z(o))throw new TypeError;n=o}}return n}(e,t,r=A(r),n)})),e("metadata",(function(e,t){return function(r,n){if(!z(r))throw new TypeError;if(!j(n)&&!function(e){switch(O(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;w(e,t,r,n)}})),e("defineMetadata",(function(e,t,r,n){if(!z(r))throw new TypeError;return j(n)||(n=A(n)),w(e,t,r,n)})),e("hasMetadata",(function(e,t,r){if(!z(t))throw new TypeError;return j(r)||(r=A(r)),v(e,t,r)})),e("hasOwnMetadata",(function(e,t,r){if(!z(t))throw new TypeError;return j(r)||(r=A(r)),b(e,t,r)})),e("getMetadata",(function(e,t,r){if(!z(t))throw new TypeError;return j(r)||(r=A(r)),g(e,t,r)})),e("getOwnMetadata",(function(e,t,r){if(!z(t))throw new TypeError;return j(r)||(r=A(r)),_(e,t,r)})),e("getMetadataKeys",(function(e,t){if(!z(e))throw new TypeError;return j(t)||(t=A(t)),m(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!z(e))throw new TypeError;return j(t)||(t=A(t)),P(e,t)})),e("deleteMetadata",(function(e,t,r){if(!z(t))throw new TypeError;j(r)||(r=A(r));var n=h(t,r,!1);if(j(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=d.get(t);return i.delete(r),i.size>0||d.delete(t),!0}))}(o)}()}(i||(i={}))},8:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.r(t),r.d(t,{__assign:()=>a,__asyncDelegator:()=>z,__asyncGenerator:()=>S,__asyncValues:()=>M,__await:()=>j,__awaiter:()=>h,__classPrivateFieldGet:()=>x,__classPrivateFieldIn:()=>R,__classPrivateFieldSet:()=>J,__createBinding:()=>b,__decorate:()=>u,__esDecorate:()=>l,__exportStar:()=>g,__extends:()=>o,__generator:()=>v,__importDefault:()=>k,__importStar:()=>T,__makeTemplateObject:()=>A,__metadata:()=>d,__param:()=>c,__propKey:()=>p,__read:()=>w,__rest:()=>s,__runInitializers:()=>f,__setFunctionName:()=>y,__spread:()=>m,__spreadArray:()=>O,__spreadArrays:()=>P,__values:()=>_});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function u(e,t,r,i){var o,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(s=(a<3?o(s):a>3?o(t,r,s):o(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t,r,i,o,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var u,c=i.kind,l="getter"===c?"get":"setter"===c?"set":"value",f=!t&&e?i.static?e:e.prototype:null,p=t||(f?Object.getOwnPropertyDescriptor(f,i.name):{}),y=!1,d=r.length-1;d>=0;d--){var h={};for(var v in i)h[v]="access"===v?{}:i[v];for(var v in i.access)h.access[v]=i.access[v];h.addInitializer=function(e){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var b=(0,r[d])("accessor"===c?{get:p.get,set:p.set}:p[l],h);if("accessor"===c){if(void 0===b)continue;if(null===b||"object"!==n(b))throw new TypeError("Object expected");(u=s(b.get))&&(p.get=u),(u=s(b.set))&&(p.set=u),(u=s(b.init))&&o.push(u)}else(u=s(b))&&("field"===c?o.push(u):p[l]=u)}f&&Object.defineProperty(f,i.name,p),y=!0}function f(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function p(e){return"symbol"===n(e)?e:"".concat(e)}function y(e,t,r){return"symbol"===n(t)&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function d(e,t){if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function v(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var b=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function g(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||b(t,e,r)}function _(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}function P(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function O(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function j(e){return this instanceof j?(this.v=e,this):new j(e)}function S(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof j?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function z(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:j(e[n](t)),done:!1}:i?i(t):t}:i}}function M(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=_(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&b(t,e,r);return E(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function x(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function J(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function R(e,t){if(null===t||"object"!==n(t)&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";var e=n;function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}Object.defineProperty(e,"__esModule",{value:!0});var i=r(8);r(664);var o=function(){function e(){}return e.getBaseClass=function(e){return e?Reflect.getPrototypeOf(e):void 0},e.getJsonPropertiesMetadata=function(t,r){if(t){var n=""+e.apiMap+(r||t.constructor.name);return Reflect.getMetadata(n,t)}},e.getParamTypes=function(t){return t?Reflect.getMetadata(e.designParamTypes,t):void 0},e.getJsonObjectMetadata=function(t){return t?Reflect.getMetadata(e.apiMapJsonObject,t):void 0},e.getType=function(t,r){return t?Reflect.getMetadata(e.designType,t,r):void 0},e.isJsonObject=function(t){return!!t&&Reflect.hasOwnMetadata(e.apiMapJsonObject,t)},e.setJsonPropertiesMetadata=function(t,r){if(r){var n=""+e.apiMap+r.constructor.name;Reflect.defineMetadata(n,t,r)}},e.setJsonObject=function(t,r){r&&Reflect.defineMetadata(e.apiMapJsonObject,t,r)},e.setType=function(t,r,n){r&&t&&Reflect.defineMetadata(e.designType,t,r,n)},e.apiMap="api:map:",e.apiMapJsonObject=e.apiMap+"jsonObject",e.designType="design:type",e.designParamTypes="design:paramtypes",e}(),a=function(e){return"string"==typeof e},s=function(e){return null!==e&&"object"==t(e)&&!u(e)},u=function(e){return Array.isArray(e)},c=function(e){return"[object Date]"===toString.call(e)},l=function(e){return o.isJsonObject(e)},f=function(e){return[null,void 0].includes(e)},p=function(e){return e instanceof Set},y=function(e){try{var r=JSON.parse(e);return"object"==t(r)?r:e}catch(r){return e}},d=function(e,t){return e.filter((function(e){return!t.some((function(t){return e===t}))}))},h=function(){this.errorCallback=v,this.nullishPolicy={undefined:"remove",null:"allow"},this.additionalPropertiesPolicy="remove"},v=function(e){console.error(e)},b=function(){function e(e){this.options=new h,this.options=i.__assign(i.__assign({},this.options),e)}return e.prototype.deserialize=function(e,t){return a(e)&&(e=y(e)),u(e)?this.deserializeObjectArray(e,t):s(e)?this.deserializeObject(e,t):void this.error("Fail to deserialize: value is not an Array nor an Object.\nReceived: "+JSON.stringify(e)+".")},e.prototype.deserializeObject=function(e,r){var n,u=this;if(null===e)return"disallow"===this.options.nullishPolicy.null&&this.error("Fail to deserialize: null is not assignable to type Object."),null;if(void 0!==e){if(a(e)&&(e=y(e)),s(e)){var c;if(function(e){if("function"!=typeof e)return!1;try{Reflect.construct(String,[],e)}catch(e){return!1}return!0}(r)){var l=Object.create(r.prototype),p=o.getJsonObjectMetadata(l.constructor),h=null!==(n=null==p?void 0:p.constructorParams)&&void 0!==n?n:[];c=new(r.bind.apply(r,i.__spreadArray([void 0],h)))}else c=r;var v=this.getJsonPropertiesMetadata(c);if(!v)return c;var b=Object.keys(v);if(b.forEach((function(t){var r=v[t],n=u.deserializeProperty(c,t,e,r);u.checkRequiredProperty(r,c,t,n,e,!1);var i=c[t];n===i||(null!==n||void 0!==i)&&f(n)||(i=n),u.isAllowedProperty(t,i)&&(c[t]=i)})),"remove"===this.options.additionalPropertiesPolicy)return c;var g=d(Object.keys(e),b);return g.length?("disallow"===this.options.additionalPropertiesPolicy?this.error("Additional properties detected in "+JSON.stringify(e)+": "+g+"."):"allow"===this.options.additionalPropertiesPolicy&&g.forEach((function(t){return c[t]=e[t]})),c):c}this.error("Fail to deserialize: type '"+t(e)+"' is not assignable to type 'Object'.\nReceived: "+JSON.stringify(e))}else"disallow"===this.options.nullishPolicy.undefined&&this.error("Fail to deserialize: undefined is not assignable to type Object.")},e.prototype.deserializeObjectArray=function(e,r){var n=this;if(null===e)return"disallow"===this.options.nullishPolicy.null&&this.error("Fail to deserialize: null is not assignable to type Array."),null;if(void 0!==e){if(a(e)&&(e=y(e)),u(e))return e.reduce((function(e,t){var i=n.deserializeObject(t,r);return(!f(i)||null===i&&"remove"!==n.options.nullishPolicy.null||void 0===i&&"remove"!==n.options.nullishPolicy.undefined)&&e.push(i),e}),[]);this.error("Fail to deserialize: type '"+t(e)+"' is not assignable to type 'Array'.\nReceived: "+JSON.stringify(e))}else"disallow"===this.options.nullishPolicy.undefined&&this.error("Fail to deserialize: undefined is not assignable to type Array.")},e.prototype.serialize=function(e){return u(e)?this.serializeObjectArray(e):s(e)?this.serializeObject(e):void this.error("Fail to serialize: value is not an Array nor an Object.\nReceived: "+JSON.stringify(e)+".")},e.prototype.serializeObject=function(e){var t=this;if(null===e)return"disallow"===this.options.nullishPolicy.null&&this.error("Fail to serialize: null is not assignable to type Object."),null;if(void 0!==e){if(!s(e))return e;var r=this.getJsonPropertiesMetadata(e);if(!r)return e;var n={},i=Object.keys(e),o=Object.keys(r);if(o.forEach((function(o){var a=r[o];if(i.includes(o)){var s=void 0;a.beforeSerialize&&(s=e[o],e[o]=a.beforeSerialize(e[o],e));var c=t.serializeProperty(e,o,a);if(a.afterSerialize&&(c=a.afterSerialize(c,e)),e[o]=s||e[o],u(a.name))a.name.forEach((function(e){t.isAllowedProperty(e,c[e])&&(n[e]=c[e])}));else if(t.checkRequiredProperty(a,e,o,c,e),t.isAllowedProperty(o,c))if(a.isNameOverridden||void 0===t.options.formatPropertyName)n[a.name]=c;else{var l=t.options.formatPropertyName(a.name);n[l]=c}}else u(a.name)?a.name.forEach((function(e){t.isAllowedProperty(e,void 0)&&(n[e]=void 0)})):(t.checkRequiredProperty(a,e,o,void 0,e),t.isAllowedProperty(o,void 0)&&(n[a.name]=void 0))})),"remove"===this.options.additionalPropertiesPolicy)return n;var a=d(i,o);return a.length?("disallow"===this.options.additionalPropertiesPolicy?this.error("Additional properties detected in "+JSON.stringify(e)+": "+a+"."):"allow"===this.options.additionalPropertiesPolicy&&a.forEach((function(t){return n[t]=e[t]})),n):n}"disallow"===this.options.nullishPolicy.undefined&&this.error("Fail to serialize: undefined is not assignable to type Object.")},e.prototype.serializeObjectArray=function(e){var r=this;if(null===e)return"disallow"===this.options.nullishPolicy.null&&this.error("Fail to serialize: null is not assignable to type Array."),null;if(void 0!==e){if(u(e))return e.reduce((function(e,t){var n=r.serializeObject(t);return(!f(n)||null===n&&"remove"!==r.options.nullishPolicy.null||void 0===n&&"remove"!==r.options.nullishPolicy.undefined)&&e.push(n),e}),[]);this.error("Fail to serialize: type '"+t(e)+"' is not assignable to type 'Array'.\nReceived: "+JSON.stringify(e)+".")}else"disallow"===this.options.nullishPolicy.undefined&&this.error("Fail to serialize: undefined is not assignable to type Array.")},e.prototype.checkRequiredProperty=function(e,t,r,n,i,o){if(void 0===o&&(o=!0),e.required&&f(n)&&f(t[r])){var a=t.constructor.name;this.error("Fail to "+(o?"serialize":"deserialize")+": Property '"+r+"' is required in "+a+" "+JSON.stringify(i)+".")}},e.prototype.deserializeProperty=function(e,t,r,n){if(!f(r)){var i=this.getDataSource(r,n,this.options.formatPropertyName);if(f(i))return i;var a,s=o.getType(e,t),u=this.getDataStructureInformation(s,e[t],n),c=u.isArrayProperty,p=u.isSetProperty,y=u.isMapProperty,d=u.isDictionaryProperty,h=n.type||s;n.beforeDeserialize&&(i=n.beforeDeserialize(i,e));var v=n.predicate;return d||y?(a=this.deserializeDictionary(i,h,v),y&&(a=new Map(Object.entries(a)))):c||p?(a=this.deserializeArray(i,h,v),p&&(a=new Set(a))):!l(h)&&!v||v&&!v(i,r)?a=this.deserializePrimitive(i,h.name):(h=n.predicate?n.predicate(i,r):h,a=this.deserializeObject(i,h)),n.afterDeserialize&&(a=n.afterDeserialize(a,e)),a}},e.prototype.deserializePrimitive=function(e,r){if(f(r))return e;if(t(e)===(r=r.toLowerCase()))return e;var n="Fail to deserialize: type '"+t(e)+"' is not assignable to type '"+r+"'.\nReceived: "+JSON.stringify(e);switch(r){case"string":var i=e.toString();return"[object Object]"===i?void this.error(n):i;case"number":return function(e){return"number"==typeof e}(e)?+e:void this.error(n);case"boolean":return void this.error(n);case"date":return function(e){return!c(e)&&!u(e)&&!isNaN(Date.parse(e))}(e)?new Date(e):void this.error(n);default:return e}},e.prototype.deserializeDictionary=function(e,r,n){var i=this;if(s(e)){var o={};return Object.keys(e).forEach((function(a){var s=n?n(e[a],e):void 0;l(r)||s?o[a]=i.deserializeObject(e[a],s||r):o[a]=i.deserializePrimitive(e[a],t(e[a]))})),o}this.error("Fail to deserialize: type '"+t(e)+"' is not assignable to type 'Dictionary'.\nReceived: "+JSON.stringify(e)+".")},e.prototype.deserializeArray=function(e,r,n){var i=this;if(u(e))return e.reduce((function(o,a){var s;return l(r)||n?(r=n?n(a,e):r,s=i.deserializeObject(a,r)):s=i.deserializePrimitive(a,t(a)),(!f(s)||null===s&&"remove"!==i.options.nullishPolicy.null||void 0===s&&"remove"!==i.options.nullishPolicy.undefined)&&o.push(s),o}),[]);this.error("Fail to deserialize: type '"+t(e)+"' is not assignable to type 'Array'.\nReceived: "+JSON.stringify(e))},e.prototype.error=function(e){this.options.errorCallback&&this.options.errorCallback(e)},e.prototype.getClassesJsonPropertiesMetadata=function(e,t){return e?e.reduce((function(e,r){var n=o.getJsonPropertiesMetadata(t,r);return n&&e.push(n),e}),[]):[]},e.prototype.getDataSource=function(e,t,r){var n=t.name,i=t.isNameOverridden;if(u(n)){var o={};return n.forEach((function(t){return o[t]=e[t]})),o}return!i&&r?(n=r(n),e[n]):e[n]},e.prototype.getDataStructureInformation=function(e,t,r){var n,i,o,a,s;if(r.dataStructure)return{isArrayProperty:null!==(n="array"===r.dataStructure)&&void 0!==n&&n,isDictionaryProperty:null!==(i="dictionary"===r.dataStructure)&&void 0!==i&&i,isMapProperty:null!==(o="map"===r.dataStructure)&&void 0!==o&&o,isSetProperty:null!==(a="set"===r.dataStructure)&&void 0!==a&&a};var c,l=null===(s=null==e?void 0:e.name)||void 0===s?void 0:s.toLowerCase();return"object"===l?{isArrayProperty:u(t),isDictionaryProperty:!1,isMapProperty:(c=t,c instanceof Map),isSetProperty:p(t)}:{isArrayProperty:"array"===l,isDictionaryProperty:!1,isMapProperty:"map"===l,isSetProperty:"set"===l}},e.prototype.getJsonPropertiesMetadata=function(e){var t,r=(null!==(t=o.getJsonObjectMetadata(e.constructor))&&void 0!==t?t:{}).baseClassNames,n=o.getJsonPropertiesMetadata(e);if(!(n||r&&r.length))return n;if(r&&r.length){var a=this.getClassesJsonPropertiesMetadata(r,e);return this.mergeJsonPropertiesMetadata.apply(this,i.__spreadArray(i.__spreadArray([],a),[n]))}return n},e.prototype.isAllowedProperty=function(e,t){if(f(t)){if("disallow"===this.options.nullishPolicy[""+t])return this.error("Disallowed "+t+" value detected: "+e+"."),!1;if("remove"===this.options.nullishPolicy[""+t])return!1}return!0},e.prototype.mergeJsonPropertiesMetadata=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={};return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){r[t]=i.__assign(i.__assign({},r[t]),e[t])}))})),r},e.prototype.serializeDictionary=function(e){var r=this;if(s(e)){var n={};return Object.keys(e).forEach((function(t){n[t]=r.serializeObject(e[t])})),n}this.error("Fail to serialize: type '"+t(e)+"' is not assignable to type 'Dictionary'.\nReceived: "+JSON.stringify(e)+".")},e.prototype.serializeProperty=function(e,r,n){var i,s=this,u=e[r],f=o.getType(e,r),p=this.getDataStructureInformation(f,u,n),y=p.isArrayProperty,d=p.isDictionaryProperty,h=p.isMapProperty,v=p.isSetProperty,b=n.predicate,g=n.type||f,_=l(g);if(u&&(_||b)){if(y||v){var w=v?Array.from(u):u;return this.serializeObjectArray(w)}if(d||h){if(!h)return this.serializeDictionary(u);var m={};return u.forEach((function(e,r){a(r)?m[r]=e:s.error("Fail to serialize: type of '"+t(r)+"' is not assignable to type 'string'.\nReceived: "+JSON.stringify(r)+".")})),this.serializeDictionary(m)}return this.serializeObject(u)}return"date"===(null===(i=null==g?void 0:g.name)||void 0===i?void 0:i.toLocaleLowerCase())&&c(u)?u.toISOString():u},e}(),g=function e(t){var r=o.getBaseClass(t);return r&&r.name?i.__spreadArray(i.__spreadArray([],e(r)),[r.name]):[]},_=function(e,t){var r={name:e.toString()};return t?a(t)?(r.name=t,r.isNameOverridden=!0,r):(s(t)&&(r=i.__assign(i.__assign({},r),t),t.name&&(r.name=t.name,r.isNameOverridden=!0),function(e){if(!e)return!1;var t=o.getParamTypes(e),r=e.length;return(1===r||2===r)&&!t}(t.type)&&(delete r.type,r.predicate=t.type)),r):r};e.JsonObject=function(e){return function(t){var r,n=g(t),i=null!==(r=null==e?void 0:e.constructorParams)&&void 0!==r?r:[];o.setJsonObject({baseClassNames:n,constructorParams:i},t)}},e.JsonProperty=function(e){return function(t,r,n){var i;if(void 0===r&&t.prototype){var a=o.getParamTypes(t)[n];r=function(e){var t,r=e.toString().split("}")[0].replace(/(\/\*[\s\S]*?\*\/|\/\/.*$)/gm,"").replace(/[\r\t\n\v\f ]/g,""),n=r.length;","===r[n-2]&&(t=r[n-1]);var i=t?new RegExp("(?:(this|"+t+"|\\("+t+"=t.call\\(this(,.)*\\)\\))\\.)([^,;\n}]+)","gm"):new RegExp("(?:(this)\\.)([^,;\n}]+)","gm"),o=new Map,a=/(?:.*(?:constructor|function).*?(?=\())(?:\()(.+?(?=\)))/m.exec(r);if(!a||!a.length)return o;for(var s,u=a[1].split(","),c=function(){var e=s.length-1,t=s[e].split("="),r=u.findIndex((function(e){return e===t[1]}));r>-1&&o.set(r,t[0])};s=i.exec(r);)c();return o}(t.prototype.constructor).get(n),t=t.prototype,o.setType(a,t,r)}var s=null!==(i=o.getJsonPropertiesMetadata(t))&&void 0!==i?i:{};s[r]=_(r,e),o.setJsonPropertiesMetadata(s,t)}},e.JsonSerializer=b,e.JsonSerializerOptions=h,e.isNullish=f,e.logError=v,e.throwError=function(e){throw new Error(e)}})(),n})()));
//# sourceMappingURL=typescript-json-serializer.js.map