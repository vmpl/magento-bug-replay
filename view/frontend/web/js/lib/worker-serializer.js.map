{"version":3,"file":"worker-serializer.js","names":["serializer","serialize","input","defaultSerialize","deserialize","message","defaultDeserialize","hasOwnProperty","console","log","_message$$$classModul","split","ScriptUrl","ModuleClass","DeserializeClass","moduleDefinition","require","async","_default"],"sources":["../../ts/js/lib/worker-serializer.ts"],"sourcesContent":["import {JsonSerializable, SerializerImplementation} from \"threads\";\n\nconst serializer: SerializerImplementation = {\n    serialize(input: any, defaultSerialize: (inp: any) => JsonSerializable): JsonSerializable {\n        return defaultSerialize(input);\n    },\n\n    deserialize(message: JsonSerializable, defaultDeserialize: (msg: JsonSerializable) => any): any {\n        if (message.hasOwnProperty('$$classModule')) {\n            console.log(message['$$classModule']);\n            const [ScriptUrl, ModuleClass, DeserializeClass] = message['$$classModule'].split(';')\n            const moduleDefinition = require.async([ModuleClass]);\n            console.log(moduleDefinition)\n        }\n        return defaultDeserialize(message);\n    }\n}\nexport default serializer;\n"],"mappings":";;;EAEA,IAAMA,UAAoC,GAAG;IACzCC,SAAS,WAAAA,UAACC,KAAU,EAAEC,gBAAgD,EAAoB;MACtF,OAAOA,gBAAgB,CAACD,KAAK,CAAC;IAClC,CAAC;IAEDE,WAAW,WAAAA,YAACC,OAAyB,EAAEC,kBAAkD,EAAO;MAC5F,IAAID,OAAO,CAACE,cAAc,CAAC,eAAe,CAAC,EAAE;QACzCC,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC,eAAe,CAAC,CAAC;QACrC,IAAAK,qBAAA,GAAmDL,OAAO,CAAC,eAAe,CAAC,CAACM,KAAK,CAAC,GAAG,CAAC;UAA/EC,SAAS,GAAAF,qBAAA;UAAEG,WAAW,GAAAH,qBAAA;UAAEI,gBAAgB,GAAAJ,qBAAA;QAC/C,IAAMK,gBAAgB,GAAGC,OAAO,CAACC,KAAK,CAAC,CAACJ,WAAW,CAAC,CAAC;QACrDL,OAAO,CAACC,GAAG,CAACM,gBAAgB,CAAC;MACjC;MACA,OAAOT,kBAAkB,CAACD,OAAO,CAAC;IACtC;EACJ,CAAC;EAAA,IAAAa,QAAA,GACclB,UAAU;EAAA,OAAAkB,QAAA;AAAA"}