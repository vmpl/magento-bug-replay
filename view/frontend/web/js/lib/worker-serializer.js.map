{"version":3,"file":"worker-serializer.js","names":["serializable","target","propertyKey","descriptor","_target$__serializabl","__serializable","push","serializer","serialize","input","defaultSerialize","hasOwnProperty","deserialize","message","defaultDeserialize","_default","Object","assign"],"sources":["../../ts/js/lib/worker-serializer.ts"],"sourcesContent":["import {JsonSerializable, SerializerImplementation} from \"threads\";\n\nexport function serializable(): Function {\n    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n        target.__serializable = (target.__serializable ?? []);\n        target.__serializable.push(propertyKey);\n    }\n}\n\nconst serializer: SerializerImplementation = {\n    serialize(input: any, defaultSerialize: (inp: any) => JsonSerializable): JsonSerializable {\n        if (!input.hasOwnProperty('__serializable')) {\n            return defaultSerialize(input);\n        }\n    },\n\n    deserialize(message: JsonSerializable, defaultDeserialize: (msg: JsonSerializable) => any): any {\n        return defaultDeserialize(message);\n    }\n}\nexport default serializer;\n"],"mappings":";;;EAEO,SAASA,YAAYA,CAAA,EAAa;IACrC,OAAO,UAAUC,MAAW,EAAEC,WAAmB,EAAEC,UAA8B,EAAE;MAAA,IAAAC,qBAAA;MAC/EH,MAAM,CAACI,cAAc,IAAAD,qBAAA,GAAIH,MAAM,CAACI,cAAc,YAAAD,qBAAA,GAAI,EAAG;MACrDH,MAAM,CAACI,cAAc,CAACC,IAAI,CAACJ,WAAW,CAAC;IAC3C,CAAC;EACL;EAEA,IAAMK,UAAoC,GAAG;IACzCC,SAAS,WAAAA,UAACC,KAAU,EAAEC,gBAAgD,EAAoB;MACtF,IAAI,CAACD,KAAK,CAACE,cAAc,CAAC,gBAAgB,CAAC,EAAE;QACzC,OAAOD,gBAAgB,CAACD,KAAK,CAAC;MAClC;IACJ,CAAC;IAEDG,WAAW,WAAAA,YAACC,OAAyB,EAAEC,kBAAkD,EAAO;MAC5F,OAAOA,kBAAkB,CAACD,OAAO,CAAC;IACtC;EACJ,CAAC;EAAA,IAAAE,QAAA,GACcR,UAAU;EAAA,OAAAS,MAAA,CAAAC,MAAA,CAAAF,QAAA;IAAAf,YAAA,EAAAA;EAAA;AAAA"}