{"version":3,"file":"recorder-manager.js","names":["RecorderManager","sessionWorker","_proto","prototype","sayHello","init","instance","spawn","Worker","then","initInstance"],"sources":["../../ts/js/lib/recorder-manager.ts"],"sourcesContent":["import {spawn} from \"threads\";\nimport SessionWorker from \"VMPL_BugReplay/js/lib/session-worker\";\n\nexport default class RecorderManager {\n    protected constructor(protected readonly sessionWorker: SessionWorker) {\n    }\n\n    sayHello() {\n        this.sessionWorker.sayHello();\n    }\n\n    static init(instance: string = 'BugReplay'): Promise<RecorderManager> {\n        return spawn(new Worker('./session-worker'))\n            .then((sessionWorker: SessionWorker) => {\n                return sessionWorker.initInstance(instance)\n                    .then(() => new RecorderManager((sessionWorker)))\n            })\n    }\n}\n"],"mappings":";;;MAGqBA,eAAe;IAAA;;IAChC,SAAAA,gBAAyCC,aAA4B,EAAE;MAAA,KAA9BA,aAA4B,GAA5BA,aAA4B;IACrE;IAAC,IAAAC,MAAA,GAAAF,eAAA,CAAAG,SAAA;IAAAD,MAAA,CAEDE,QAAQ,GAAR,SAAAA,SAAA,EAAW;MACP,IAAI,CAACH,aAAa,CAACG,QAAQ,CAAC,CAAC;IACjC,CAAC;IAAAJ,eAAA,CAEMK,IAAI,GAAX,SAAAA,KAAYC,QAAgB,EAA0C;MAAA,IAA1DA,QAAgB;QAAhBA,QAAgB,GAAG,WAAW;MAAA;MACtC,OAAO,IAAAC,cAAK,EAAC,IAAIC,MAAM,CAAC,kBAAkB,CAAC,CAAC,CACvCC,IAAI,CAAC,UAACR,aAA4B,EAAK;QACpC,OAAOA,aAAa,CAACS,YAAY,CAACJ,QAAQ,CAAC,CACtCG,IAAI,CAAC;UAAA,OAAM,IAAIT,eAAe,CAAEC,aAAc,CAAC;QAAA,EAAC;MACzD,CAAC,CAAC;IACV,CAAC;IAAA,OAAAD,eAAA;EAAA;EAAA,OAAAA,eAAA;AAAA"}