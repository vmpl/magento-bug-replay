{"version":3,"file":"./rrweb.js","mappings":"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","sources":["webpack://@vmpl/module-bug-replay/webpack/universalModuleDefinition","webpack://@vmpl/module-bug-replay/webpack/bootstrap","webpack://@vmpl/module-bug-replay/webpack/runtime/make namespace object","webpack://@vmpl/module-bug-replay/./node_modules/rrweb/dist/rrweb-all.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var rrweb = (function (exports) {\n    'use strict';\n\n    var NodeType$2;\n    (function(NodeType2) {\n      NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n      NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n      NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n      NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n      NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n      NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n    })(NodeType$2 || (NodeType$2 = {}));\n    function isElement(n) {\n      return n.nodeType === n.ELEMENT_NODE;\n    }\n    function isShadowRoot(n) {\n      var host = n === null || n === void 0 ? void 0 : n.host;\n      return Boolean((host === null || host === void 0 ? void 0 : host.shadowRoot) === n);\n    }\n    function isNativeShadowDom(shadowRoot) {\n      return Object.prototype.toString.call(shadowRoot) === \"[object ShadowRoot]\";\n    }\n    function fixBrowserCompatibilityIssuesInCSS(cssText) {\n      if (cssText.includes(\" background-clip: text;\") && !cssText.includes(\" -webkit-background-clip: text;\")) {\n        cssText = cssText.replace(\" background-clip: text;\", \" -webkit-background-clip: text; background-clip: text;\");\n      }\n      return cssText;\n    }\n    function getCssRulesString(s) {\n      try {\n        var rules = s.rules || s.cssRules;\n        return rules ? fixBrowserCompatibilityIssuesInCSS(Array.from(rules).map(getCssRuleString).join(\"\")) : null;\n      } catch (error) {\n        return null;\n      }\n    }\n    function getCssRuleString(rule) {\n      var cssStringified = rule.cssText;\n      if (isCSSImportRule(rule)) {\n        try {\n          cssStringified = getCssRulesString(rule.styleSheet) || cssStringified;\n        } catch (_a) {\n        }\n      }\n      return cssStringified;\n    }\n    function isCSSImportRule(rule) {\n      return \"styleSheet\" in rule;\n    }\n    var Mirror$2 = function() {\n      function Mirror2() {\n        this.idNodeMap = /* @__PURE__ */ new Map();\n        this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n      }\n      Mirror2.prototype.getId = function(n) {\n        var _a;\n        if (!n)\n          return -1;\n        var id = (_a = this.getMeta(n)) === null || _a === void 0 ? void 0 : _a.id;\n        return id !== null && id !== void 0 ? id : -1;\n      };\n      Mirror2.prototype.getNode = function(id) {\n        return this.idNodeMap.get(id) || null;\n      };\n      Mirror2.prototype.getIds = function() {\n        return Array.from(this.idNodeMap.keys());\n      };\n      Mirror2.prototype.getMeta = function(n) {\n        return this.nodeMetaMap.get(n) || null;\n      };\n      Mirror2.prototype.removeNodeFromMap = function(n) {\n        var _this = this;\n        var id = this.getId(n);\n        this.idNodeMap[\"delete\"](id);\n        if (n.childNodes) {\n          n.childNodes.forEach(function(childNode) {\n            return _this.removeNodeFromMap(childNode);\n          });\n        }\n      };\n      Mirror2.prototype.has = function(id) {\n        return this.idNodeMap.has(id);\n      };\n      Mirror2.prototype.hasNode = function(node) {\n        return this.nodeMetaMap.has(node);\n      };\n      Mirror2.prototype.add = function(n, meta) {\n        var id = meta.id;\n        this.idNodeMap.set(id, n);\n        this.nodeMetaMap.set(n, meta);\n      };\n      Mirror2.prototype.replace = function(id, n) {\n        var oldNode = this.getNode(id);\n        if (oldNode) {\n          var meta = this.nodeMetaMap.get(oldNode);\n          if (meta)\n            this.nodeMetaMap.set(n, meta);\n        }\n        this.idNodeMap.set(id, n);\n      };\n      Mirror2.prototype.reset = function() {\n        this.idNodeMap = /* @__PURE__ */ new Map();\n        this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n      };\n      return Mirror2;\n    }();\n    function createMirror$2() {\n      return new Mirror$2();\n    }\n    function maskInputValue(_a) {\n      var maskInputOptions = _a.maskInputOptions, tagName = _a.tagName, type = _a.type, value = _a.value, maskInputFn = _a.maskInputFn;\n      var text = value || \"\";\n      if (maskInputOptions[tagName.toLowerCase()] || maskInputOptions[type]) {\n        if (maskInputFn) {\n          text = maskInputFn(text);\n        } else {\n          text = \"*\".repeat(text.length);\n        }\n      }\n      return text;\n    }\n    var ORIGINAL_ATTRIBUTE_NAME$1 = \"__rrweb_original__\";\n    function is2DCanvasBlank(canvas) {\n      var ctx = canvas.getContext(\"2d\");\n      if (!ctx)\n        return true;\n      var chunkSize = 50;\n      for (var x = 0; x < canvas.width; x += chunkSize) {\n        for (var y = 0; y < canvas.height; y += chunkSize) {\n          var getImageData = ctx.getImageData;\n          var originalGetImageData = ORIGINAL_ATTRIBUTE_NAME$1 in getImageData ? getImageData[ORIGINAL_ATTRIBUTE_NAME$1] : getImageData;\n          var pixelBuffer = new Uint32Array(originalGetImageData.call(ctx, x, y, Math.min(chunkSize, canvas.width - x), Math.min(chunkSize, canvas.height - y)).data.buffer);\n          if (pixelBuffer.some(function(pixel) {\n            return pixel !== 0;\n          }))\n            return false;\n        }\n      }\n      return true;\n    }\n    var _id = 1;\n    var tagNameRegex = new RegExp(\"[^a-z0-9-_:]\");\n    var IGNORED_NODE = -2;\n    function genId() {\n      return _id++;\n    }\n    function getValidTagName$1(element) {\n      if (element instanceof HTMLFormElement) {\n        return \"form\";\n      }\n      var processedTagName = element.tagName.toLowerCase().trim();\n      if (tagNameRegex.test(processedTagName)) {\n        return \"div\";\n      }\n      return processedTagName;\n    }\n    function stringifyStyleSheet(sheet) {\n      return sheet.cssRules ? Array.from(sheet.cssRules).map(function(rule) {\n        return rule.cssText || \"\";\n      }).join(\"\") : \"\";\n    }\n    function extractOrigin(url) {\n      var origin = \"\";\n      if (url.indexOf(\"//\") > -1) {\n        origin = url.split(\"/\").slice(0, 3).join(\"/\");\n      } else {\n        origin = url.split(\"/\")[0];\n      }\n      origin = origin.split(\"?\")[0];\n      return origin;\n    }\n    var canvasService;\n    var canvasCtx;\n    var URL_IN_CSS_REF = /url\\((?:(')([^']*)'|(\")(.*?)\"|([^)]*))\\)/gm;\n    var RELATIVE_PATH = /^(?!www\\.|(?:http|ftp)s?:\\/\\/|[A-Za-z]:\\\\|\\/\\/|#).*/;\n    var DATA_URI = /^(data:)([^,]*),(.*)/i;\n    function absoluteToStylesheet(cssText, href) {\n      return (cssText || \"\").replace(URL_IN_CSS_REF, function(origin, quote1, path1, quote2, path2, path3) {\n        var filePath = path1 || path2 || path3;\n        var maybeQuote = quote1 || quote2 || \"\";\n        if (!filePath) {\n          return origin;\n        }\n        if (!RELATIVE_PATH.test(filePath)) {\n          return \"url(\".concat(maybeQuote).concat(filePath).concat(maybeQuote, \")\");\n        }\n        if (DATA_URI.test(filePath)) {\n          return \"url(\".concat(maybeQuote).concat(filePath).concat(maybeQuote, \")\");\n        }\n        if (filePath[0] === \"/\") {\n          return \"url(\".concat(maybeQuote).concat(extractOrigin(href) + filePath).concat(maybeQuote, \")\");\n        }\n        var stack = href.split(\"/\");\n        var parts = filePath.split(\"/\");\n        stack.pop();\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n          var part = parts_1[_i];\n          if (part === \".\") {\n            continue;\n          } else if (part === \"..\") {\n            stack.pop();\n          } else {\n            stack.push(part);\n          }\n        }\n        return \"url(\".concat(maybeQuote).concat(stack.join(\"/\")).concat(maybeQuote, \")\");\n      });\n    }\n    var SRCSET_NOT_SPACES = /^[^ \\t\\n\\r\\u000c]+/;\n    var SRCSET_COMMAS_OR_SPACES = /^[, \\t\\n\\r\\u000c]+/;\n    function getAbsoluteSrcsetString(doc, attributeValue) {\n      if (attributeValue.trim() === \"\") {\n        return attributeValue;\n      }\n      var pos = 0;\n      function collectCharacters(regEx) {\n        var chars;\n        var match = regEx.exec(attributeValue.substring(pos));\n        if (match) {\n          chars = match[0];\n          pos += chars.length;\n          return chars;\n        }\n        return \"\";\n      }\n      var output = [];\n      while (true) {\n        collectCharacters(SRCSET_COMMAS_OR_SPACES);\n        if (pos >= attributeValue.length) {\n          break;\n        }\n        var url = collectCharacters(SRCSET_NOT_SPACES);\n        if (url.slice(-1) === \",\") {\n          url = absoluteToDoc(doc, url.substring(0, url.length - 1));\n          output.push(url);\n        } else {\n          var descriptorsStr = \"\";\n          url = absoluteToDoc(doc, url);\n          var inParens = false;\n          while (true) {\n            var c = attributeValue.charAt(pos);\n            if (c === \"\") {\n              output.push((url + descriptorsStr).trim());\n              break;\n            } else if (!inParens) {\n              if (c === \",\") {\n                pos += 1;\n                output.push((url + descriptorsStr).trim());\n                break;\n              } else if (c === \"(\") {\n                inParens = true;\n              }\n            } else {\n              if (c === \")\") {\n                inParens = false;\n              }\n            }\n            descriptorsStr += c;\n            pos += 1;\n          }\n        }\n      }\n      return output.join(\", \");\n    }\n    function absoluteToDoc(doc, attributeValue) {\n      if (!attributeValue || attributeValue.trim() === \"\") {\n        return attributeValue;\n      }\n      var a = doc.createElement(\"a\");\n      a.href = attributeValue;\n      return a.href;\n    }\n    function isSVGElement(el) {\n      return Boolean(el.tagName === \"svg\" || el.ownerSVGElement);\n    }\n    function getHref() {\n      var a = document.createElement(\"a\");\n      a.href = \"\";\n      return a.href;\n    }\n    function transformAttribute(doc, tagName, name, value) {\n      if (name === \"src\" || name === \"href\" && value && !(tagName === \"use\" && value[0] === \"#\")) {\n        return absoluteToDoc(doc, value);\n      } else if (name === \"xlink:href\" && value && value[0] !== \"#\") {\n        return absoluteToDoc(doc, value);\n      } else if (name === \"background\" && value && (tagName === \"table\" || tagName === \"td\" || tagName === \"th\")) {\n        return absoluteToDoc(doc, value);\n      } else if (name === \"srcset\" && value) {\n        return getAbsoluteSrcsetString(doc, value);\n      } else if (name === \"style\" && value) {\n        return absoluteToStylesheet(value, getHref());\n      } else if (tagName === \"object\" && name === \"data\" && value) {\n        return absoluteToDoc(doc, value);\n      } else {\n        return value;\n      }\n    }\n    function _isBlockedElement(element, blockClass, blockSelector) {\n      if (typeof blockClass === \"string\") {\n        if (element.classList.contains(blockClass)) {\n          return true;\n        }\n      } else {\n        for (var eIndex = element.classList.length; eIndex--; ) {\n          var className = element.classList[eIndex];\n          if (blockClass.test(className)) {\n            return true;\n          }\n        }\n      }\n      if (blockSelector) {\n        return element.matches(blockSelector);\n      }\n      return false;\n    }\n    function classMatchesRegex(node, regex, checkAncestors) {\n      if (!node)\n        return false;\n      if (node.nodeType !== node.ELEMENT_NODE) {\n        if (!checkAncestors)\n          return false;\n        return classMatchesRegex(node.parentNode, regex, checkAncestors);\n      }\n      for (var eIndex = node.classList.length; eIndex--; ) {\n        var className = node.classList[eIndex];\n        if (regex.test(className)) {\n          return true;\n        }\n      }\n      if (!checkAncestors)\n        return false;\n      return classMatchesRegex(node.parentNode, regex, checkAncestors);\n    }\n    function needMaskingText(node, maskTextClass, maskTextSelector) {\n      var el = node.nodeType === node.ELEMENT_NODE ? node : node.parentElement;\n      if (el === null)\n        return false;\n      if (typeof maskTextClass === \"string\") {\n        if (el.classList.contains(maskTextClass))\n          return true;\n        if (el.closest(\".\".concat(maskTextClass)))\n          return true;\n      } else {\n        if (classMatchesRegex(el, maskTextClass, true))\n          return true;\n      }\n      if (maskTextSelector) {\n        if (el.matches(maskTextSelector))\n          return true;\n        if (el.closest(maskTextSelector))\n          return true;\n      }\n      return false;\n    }\n    function onceIframeLoaded(iframeEl, listener, iframeLoadTimeout) {\n      var win = iframeEl.contentWindow;\n      if (!win) {\n        return;\n      }\n      var fired = false;\n      var readyState;\n      try {\n        readyState = win.document.readyState;\n      } catch (error) {\n        return;\n      }\n      if (readyState !== \"complete\") {\n        var timer_1 = setTimeout(function() {\n          if (!fired) {\n            listener();\n            fired = true;\n          }\n        }, iframeLoadTimeout);\n        iframeEl.addEventListener(\"load\", function() {\n          clearTimeout(timer_1);\n          fired = true;\n          listener();\n        });\n        return;\n      }\n      var blankUrl = \"about:blank\";\n      if (win.location.href !== blankUrl || iframeEl.src === blankUrl || iframeEl.src === \"\") {\n        setTimeout(listener, 0);\n        return iframeEl.addEventListener(\"load\", listener);\n      }\n      iframeEl.addEventListener(\"load\", listener);\n    }\n    function onceStylesheetLoaded(link, listener, styleSheetLoadTimeout) {\n      var fired = false;\n      var styleSheetLoaded;\n      try {\n        styleSheetLoaded = link.sheet;\n      } catch (error) {\n        return;\n      }\n      if (styleSheetLoaded)\n        return;\n      var timer = setTimeout(function() {\n        if (!fired) {\n          listener();\n          fired = true;\n        }\n      }, styleSheetLoadTimeout);\n      link.addEventListener(\"load\", function() {\n        clearTimeout(timer);\n        fired = true;\n        listener();\n      });\n    }\n    function serializeNode(n, options) {\n      var doc = options.doc, mirror = options.mirror, blockClass = options.blockClass, blockSelector = options.blockSelector, maskTextClass = options.maskTextClass, maskTextSelector = options.maskTextSelector, inlineStylesheet = options.inlineStylesheet, _a = options.maskInputOptions, maskInputOptions = _a === void 0 ? {} : _a, maskTextFn = options.maskTextFn, maskInputFn = options.maskInputFn, _b = options.dataURLOptions, dataURLOptions = _b === void 0 ? {} : _b, inlineImages = options.inlineImages, recordCanvas = options.recordCanvas, keepIframeSrcFn = options.keepIframeSrcFn, _c = options.newlyAddedElement, newlyAddedElement = _c === void 0 ? false : _c;\n      var rootId = getRootId(doc, mirror);\n      switch (n.nodeType) {\n        case n.DOCUMENT_NODE:\n          if (n.compatMode !== \"CSS1Compat\") {\n            return {\n              type: NodeType$2.Document,\n              childNodes: [],\n              compatMode: n.compatMode\n            };\n          } else {\n            return {\n              type: NodeType$2.Document,\n              childNodes: []\n            };\n          }\n        case n.DOCUMENT_TYPE_NODE:\n          return {\n            type: NodeType$2.DocumentType,\n            name: n.name,\n            publicId: n.publicId,\n            systemId: n.systemId,\n            rootId\n          };\n        case n.ELEMENT_NODE:\n          return serializeElementNode(n, {\n            doc,\n            blockClass,\n            blockSelector,\n            inlineStylesheet,\n            maskInputOptions,\n            maskInputFn,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            keepIframeSrcFn,\n            newlyAddedElement,\n            rootId\n          });\n        case n.TEXT_NODE:\n          return serializeTextNode(n, {\n            maskTextClass,\n            maskTextSelector,\n            maskTextFn,\n            rootId\n          });\n        case n.CDATA_SECTION_NODE:\n          return {\n            type: NodeType$2.CDATA,\n            textContent: \"\",\n            rootId\n          };\n        case n.COMMENT_NODE:\n          return {\n            type: NodeType$2.Comment,\n            textContent: n.textContent || \"\",\n            rootId\n          };\n        default:\n          return false;\n      }\n    }\n    function getRootId(doc, mirror) {\n      if (!mirror.hasNode(doc))\n        return void 0;\n      var docId = mirror.getId(doc);\n      return docId === 1 ? void 0 : docId;\n    }\n    function serializeTextNode(n, options) {\n      var _a;\n      var maskTextClass = options.maskTextClass, maskTextSelector = options.maskTextSelector, maskTextFn = options.maskTextFn, rootId = options.rootId;\n      var parentTagName = n.parentNode && n.parentNode.tagName;\n      var textContent = n.textContent;\n      var isStyle = parentTagName === \"STYLE\" ? true : void 0;\n      var isScript = parentTagName === \"SCRIPT\" ? true : void 0;\n      if (isStyle && textContent) {\n        try {\n          if (n.nextSibling || n.previousSibling) {\n          } else if ((_a = n.parentNode.sheet) === null || _a === void 0 ? void 0 : _a.cssRules) {\n            textContent = stringifyStyleSheet(n.parentNode.sheet);\n          }\n        } catch (err) {\n          console.warn(\"Cannot get CSS styles from text's parentNode. Error: \".concat(err), n);\n        }\n        textContent = absoluteToStylesheet(textContent, getHref());\n      }\n      if (isScript) {\n        textContent = \"SCRIPT_PLACEHOLDER\";\n      }\n      if (!isStyle && !isScript && textContent && needMaskingText(n, maskTextClass, maskTextSelector)) {\n        textContent = maskTextFn ? maskTextFn(textContent) : textContent.replace(/[\\S]/g, \"*\");\n      }\n      return {\n        type: NodeType$2.Text,\n        textContent: textContent || \"\",\n        isStyle,\n        rootId\n      };\n    }\n    function serializeElementNode(n, options) {\n      var doc = options.doc, blockClass = options.blockClass, blockSelector = options.blockSelector, inlineStylesheet = options.inlineStylesheet, _a = options.maskInputOptions, maskInputOptions = _a === void 0 ? {} : _a, maskInputFn = options.maskInputFn, _b = options.dataURLOptions, dataURLOptions = _b === void 0 ? {} : _b, inlineImages = options.inlineImages, recordCanvas = options.recordCanvas, keepIframeSrcFn = options.keepIframeSrcFn, _c = options.newlyAddedElement, newlyAddedElement = _c === void 0 ? false : _c, rootId = options.rootId;\n      var needBlock = _isBlockedElement(n, blockClass, blockSelector);\n      var tagName = getValidTagName$1(n);\n      var attributes = {};\n      var len = n.attributes.length;\n      for (var i = 0; i < len; i++) {\n        var attr = n.attributes[i];\n        attributes[attr.name] = transformAttribute(doc, tagName, attr.name, attr.value);\n      }\n      if (tagName === \"link\" && inlineStylesheet) {\n        var stylesheet = Array.from(doc.styleSheets).find(function(s) {\n          return s.href === n.href;\n        });\n        var cssText = null;\n        if (stylesheet) {\n          cssText = getCssRulesString(stylesheet);\n        }\n        if (cssText) {\n          delete attributes.rel;\n          delete attributes.href;\n          attributes._cssText = absoluteToStylesheet(cssText, stylesheet.href);\n        }\n      }\n      if (tagName === \"style\" && n.sheet && !(n.innerText || n.textContent || \"\").trim().length) {\n        var cssText = getCssRulesString(n.sheet);\n        if (cssText) {\n          attributes._cssText = absoluteToStylesheet(cssText, getHref());\n        }\n      }\n      if (tagName === \"input\" || tagName === \"textarea\" || tagName === \"select\") {\n        var value = n.value;\n        var checked = n.checked;\n        if (attributes.type !== \"radio\" && attributes.type !== \"checkbox\" && attributes.type !== \"submit\" && attributes.type !== \"button\" && value) {\n          attributes.value = maskInputValue({\n            type: attributes.type,\n            tagName,\n            value,\n            maskInputOptions,\n            maskInputFn\n          });\n        } else if (checked) {\n          attributes.checked = checked;\n        }\n      }\n      if (tagName === \"option\") {\n        if (n.selected && !maskInputOptions[\"select\"]) {\n          attributes.selected = true;\n        } else {\n          delete attributes.selected;\n        }\n      }\n      if (tagName === \"canvas\" && recordCanvas) {\n        if (n.__context === \"2d\") {\n          if (!is2DCanvasBlank(n)) {\n            attributes.rr_dataURL = n.toDataURL(dataURLOptions.type, dataURLOptions.quality);\n          }\n        } else if (!(\"__context\" in n)) {\n          var canvasDataURL = n.toDataURL(dataURLOptions.type, dataURLOptions.quality);\n          var blankCanvas = document.createElement(\"canvas\");\n          blankCanvas.width = n.width;\n          blankCanvas.height = n.height;\n          var blankCanvasDataURL = blankCanvas.toDataURL(dataURLOptions.type, dataURLOptions.quality);\n          if (canvasDataURL !== blankCanvasDataURL) {\n            attributes.rr_dataURL = canvasDataURL;\n          }\n        }\n      }\n      if (tagName === \"img\" && inlineImages) {\n        if (!canvasService) {\n          canvasService = doc.createElement(\"canvas\");\n          canvasCtx = canvasService.getContext(\"2d\");\n        }\n        var image_1 = n;\n        var oldValue_1 = image_1.crossOrigin;\n        image_1.crossOrigin = \"anonymous\";\n        var recordInlineImage = function() {\n          try {\n            canvasService.width = image_1.naturalWidth;\n            canvasService.height = image_1.naturalHeight;\n            canvasCtx.drawImage(image_1, 0, 0);\n            attributes.rr_dataURL = canvasService.toDataURL(dataURLOptions.type, dataURLOptions.quality);\n          } catch (err) {\n            console.warn(\"Cannot inline img src=\".concat(image_1.currentSrc, \"! Error: \").concat(err));\n          }\n          oldValue_1 ? attributes.crossOrigin = oldValue_1 : image_1.removeAttribute(\"crossorigin\");\n        };\n        if (image_1.complete && image_1.naturalWidth !== 0)\n          recordInlineImage();\n        else\n          image_1.onload = recordInlineImage;\n      }\n      if (tagName === \"audio\" || tagName === \"video\") {\n        attributes.rr_mediaState = n.paused ? \"paused\" : \"played\";\n        attributes.rr_mediaCurrentTime = n.currentTime;\n      }\n      if (!newlyAddedElement) {\n        if (n.scrollLeft) {\n          attributes.rr_scrollLeft = n.scrollLeft;\n        }\n        if (n.scrollTop) {\n          attributes.rr_scrollTop = n.scrollTop;\n        }\n      }\n      if (needBlock) {\n        var _d = n.getBoundingClientRect(), width = _d.width, height = _d.height;\n        attributes = {\n          \"class\": attributes[\"class\"],\n          rr_width: \"\".concat(width, \"px\"),\n          rr_height: \"\".concat(height, \"px\")\n        };\n      }\n      if (tagName === \"iframe\" && !keepIframeSrcFn(attributes.src)) {\n        if (!n.contentDocument) {\n          attributes.rr_src = attributes.src;\n        }\n        delete attributes.src;\n      }\n      return {\n        type: NodeType$2.Element,\n        tagName,\n        attributes,\n        childNodes: [],\n        isSVG: isSVGElement(n) || void 0,\n        needBlock,\n        rootId\n      };\n    }\n    function lowerIfExists(maybeAttr) {\n      if (maybeAttr === void 0) {\n        return \"\";\n      } else {\n        return maybeAttr.toLowerCase();\n      }\n    }\n    function slimDOMExcluded(sn, slimDOMOptions) {\n      if (slimDOMOptions.comment && sn.type === NodeType$2.Comment) {\n        return true;\n      } else if (sn.type === NodeType$2.Element) {\n        if (slimDOMOptions.script && (sn.tagName === \"script\" || sn.tagName === \"link\" && sn.attributes.rel === \"preload\" && sn.attributes.as === \"script\" || sn.tagName === \"link\" && sn.attributes.rel === \"prefetch\" && typeof sn.attributes.href === \"string\" && sn.attributes.href.endsWith(\".js\"))) {\n          return true;\n        } else if (slimDOMOptions.headFavicon && (sn.tagName === \"link\" && sn.attributes.rel === \"shortcut icon\" || sn.tagName === \"meta\" && (lowerIfExists(sn.attributes.name).match(/^msapplication-tile(image|color)$/) || lowerIfExists(sn.attributes.name) === \"application-name\" || lowerIfExists(sn.attributes.rel) === \"icon\" || lowerIfExists(sn.attributes.rel) === \"apple-touch-icon\" || lowerIfExists(sn.attributes.rel) === \"shortcut icon\"))) {\n          return true;\n        } else if (sn.tagName === \"meta\") {\n          if (slimDOMOptions.headMetaDescKeywords && lowerIfExists(sn.attributes.name).match(/^description|keywords$/)) {\n            return true;\n          } else if (slimDOMOptions.headMetaSocial && (lowerIfExists(sn.attributes.property).match(/^(og|twitter|fb):/) || lowerIfExists(sn.attributes.name).match(/^(og|twitter):/) || lowerIfExists(sn.attributes.name) === \"pinterest\")) {\n            return true;\n          } else if (slimDOMOptions.headMetaRobots && (lowerIfExists(sn.attributes.name) === \"robots\" || lowerIfExists(sn.attributes.name) === \"googlebot\" || lowerIfExists(sn.attributes.name) === \"bingbot\")) {\n            return true;\n          } else if (slimDOMOptions.headMetaHttpEquiv && sn.attributes[\"http-equiv\"] !== void 0) {\n            return true;\n          } else if (slimDOMOptions.headMetaAuthorship && (lowerIfExists(sn.attributes.name) === \"author\" || lowerIfExists(sn.attributes.name) === \"generator\" || lowerIfExists(sn.attributes.name) === \"framework\" || lowerIfExists(sn.attributes.name) === \"publisher\" || lowerIfExists(sn.attributes.name) === \"progid\" || lowerIfExists(sn.attributes.property).match(/^article:/) || lowerIfExists(sn.attributes.property).match(/^product:/))) {\n            return true;\n          } else if (slimDOMOptions.headMetaVerification && (lowerIfExists(sn.attributes.name) === \"google-site-verification\" || lowerIfExists(sn.attributes.name) === \"yandex-verification\" || lowerIfExists(sn.attributes.name) === \"csrf-token\" || lowerIfExists(sn.attributes.name) === \"p:domain_verify\" || lowerIfExists(sn.attributes.name) === \"verify-v1\" || lowerIfExists(sn.attributes.name) === \"verification\" || lowerIfExists(sn.attributes.name) === \"shopify-checkout-api-token\")) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n    function serializeNodeWithId(n, options) {\n      var doc = options.doc, mirror = options.mirror, blockClass = options.blockClass, blockSelector = options.blockSelector, maskTextClass = options.maskTextClass, maskTextSelector = options.maskTextSelector, _a = options.skipChild, skipChild = _a === void 0 ? false : _a, _b = options.inlineStylesheet, inlineStylesheet = _b === void 0 ? true : _b, _c = options.maskInputOptions, maskInputOptions = _c === void 0 ? {} : _c, maskTextFn = options.maskTextFn, maskInputFn = options.maskInputFn, slimDOMOptions = options.slimDOMOptions, _d = options.dataURLOptions, dataURLOptions = _d === void 0 ? {} : _d, _e = options.inlineImages, inlineImages = _e === void 0 ? false : _e, _f = options.recordCanvas, recordCanvas = _f === void 0 ? false : _f, onSerialize = options.onSerialize, onIframeLoad = options.onIframeLoad, _g = options.iframeLoadTimeout, iframeLoadTimeout = _g === void 0 ? 5e3 : _g, onStylesheetLoad = options.onStylesheetLoad, _h = options.stylesheetLoadTimeout, stylesheetLoadTimeout = _h === void 0 ? 5e3 : _h, _j = options.keepIframeSrcFn, keepIframeSrcFn = _j === void 0 ? function() {\n        return false;\n      } : _j, _k = options.newlyAddedElement, newlyAddedElement = _k === void 0 ? false : _k;\n      var _l = options.preserveWhiteSpace, preserveWhiteSpace = _l === void 0 ? true : _l;\n      var _serializedNode = serializeNode(n, {\n        doc,\n        mirror,\n        blockClass,\n        blockSelector,\n        maskTextClass,\n        maskTextSelector,\n        inlineStylesheet,\n        maskInputOptions,\n        maskTextFn,\n        maskInputFn,\n        dataURLOptions,\n        inlineImages,\n        recordCanvas,\n        keepIframeSrcFn,\n        newlyAddedElement\n      });\n      if (!_serializedNode) {\n        console.warn(n, \"not serialized\");\n        return null;\n      }\n      var id;\n      if (mirror.hasNode(n)) {\n        id = mirror.getId(n);\n      } else if (slimDOMExcluded(_serializedNode, slimDOMOptions) || !preserveWhiteSpace && _serializedNode.type === NodeType$2.Text && !_serializedNode.isStyle && !_serializedNode.textContent.replace(/^\\s+|\\s+$/gm, \"\").length) {\n        id = IGNORED_NODE;\n      } else {\n        id = genId();\n      }\n      var serializedNode = Object.assign(_serializedNode, { id });\n      mirror.add(n, serializedNode);\n      if (id === IGNORED_NODE) {\n        return null;\n      }\n      if (onSerialize) {\n        onSerialize(n);\n      }\n      var recordChild = !skipChild;\n      if (serializedNode.type === NodeType$2.Element) {\n        recordChild = recordChild && !serializedNode.needBlock;\n        delete serializedNode.needBlock;\n        var shadowRoot = n.shadowRoot;\n        if (shadowRoot && isNativeShadowDom(shadowRoot))\n          serializedNode.isShadowHost = true;\n      }\n      if ((serializedNode.type === NodeType$2.Document || serializedNode.type === NodeType$2.Element) && recordChild) {\n        if (slimDOMOptions.headWhitespace && serializedNode.type === NodeType$2.Element && serializedNode.tagName === \"head\") {\n          preserveWhiteSpace = false;\n        }\n        var bypassOptions = {\n          doc,\n          mirror,\n          blockClass,\n          blockSelector,\n          maskTextClass,\n          maskTextSelector,\n          skipChild,\n          inlineStylesheet,\n          maskInputOptions,\n          maskTextFn,\n          maskInputFn,\n          slimDOMOptions,\n          dataURLOptions,\n          inlineImages,\n          recordCanvas,\n          preserveWhiteSpace,\n          onSerialize,\n          onIframeLoad,\n          iframeLoadTimeout,\n          onStylesheetLoad,\n          stylesheetLoadTimeout,\n          keepIframeSrcFn\n        };\n        for (var _i = 0, _m = Array.from(n.childNodes); _i < _m.length; _i++) {\n          var childN = _m[_i];\n          var serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n          if (serializedChildNode) {\n            serializedNode.childNodes.push(serializedChildNode);\n          }\n        }\n        if (isElement(n) && n.shadowRoot) {\n          for (var _o = 0, _p = Array.from(n.shadowRoot.childNodes); _o < _p.length; _o++) {\n            var childN = _p[_o];\n            var serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n            if (serializedChildNode) {\n              isNativeShadowDom(n.shadowRoot) && (serializedChildNode.isShadow = true);\n              serializedNode.childNodes.push(serializedChildNode);\n            }\n          }\n        }\n      }\n      if (n.parentNode && isShadowRoot(n.parentNode) && isNativeShadowDom(n.parentNode)) {\n        serializedNode.isShadow = true;\n      }\n      if (serializedNode.type === NodeType$2.Element && serializedNode.tagName === \"iframe\") {\n        onceIframeLoaded(n, function() {\n          var iframeDoc = n.contentDocument;\n          if (iframeDoc && onIframeLoad) {\n            var serializedIframeNode = serializeNodeWithId(iframeDoc, {\n              doc: iframeDoc,\n              mirror,\n              blockClass,\n              blockSelector,\n              maskTextClass,\n              maskTextSelector,\n              skipChild: false,\n              inlineStylesheet,\n              maskInputOptions,\n              maskTextFn,\n              maskInputFn,\n              slimDOMOptions,\n              dataURLOptions,\n              inlineImages,\n              recordCanvas,\n              preserveWhiteSpace,\n              onSerialize,\n              onIframeLoad,\n              iframeLoadTimeout,\n              onStylesheetLoad,\n              stylesheetLoadTimeout,\n              keepIframeSrcFn\n            });\n            if (serializedIframeNode) {\n              onIframeLoad(n, serializedIframeNode);\n            }\n          }\n        }, iframeLoadTimeout);\n      }\n      if (serializedNode.type === NodeType$2.Element && serializedNode.tagName === \"link\" && serializedNode.attributes.rel === \"stylesheet\") {\n        onceStylesheetLoaded(n, function() {\n          if (onStylesheetLoad) {\n            var serializedLinkNode = serializeNodeWithId(n, {\n              doc,\n              mirror,\n              blockClass,\n              blockSelector,\n              maskTextClass,\n              maskTextSelector,\n              skipChild: false,\n              inlineStylesheet,\n              maskInputOptions,\n              maskTextFn,\n              maskInputFn,\n              slimDOMOptions,\n              dataURLOptions,\n              inlineImages,\n              recordCanvas,\n              preserveWhiteSpace,\n              onSerialize,\n              onIframeLoad,\n              iframeLoadTimeout,\n              onStylesheetLoad,\n              stylesheetLoadTimeout,\n              keepIframeSrcFn\n            });\n            if (serializedLinkNode) {\n              onStylesheetLoad(n, serializedLinkNode);\n            }\n          }\n        }, stylesheetLoadTimeout);\n      }\n      return serializedNode;\n    }\n    function snapshot(n, options) {\n      var _a = options || {}, _b = _a.mirror, mirror = _b === void 0 ? new Mirror$2() : _b, _c = _a.blockClass, blockClass = _c === void 0 ? \"rr-block\" : _c, _d = _a.blockSelector, blockSelector = _d === void 0 ? null : _d, _e = _a.maskTextClass, maskTextClass = _e === void 0 ? \"rr-mask\" : _e, _f = _a.maskTextSelector, maskTextSelector = _f === void 0 ? null : _f, _g = _a.inlineStylesheet, inlineStylesheet = _g === void 0 ? true : _g, _h = _a.inlineImages, inlineImages = _h === void 0 ? false : _h, _j = _a.recordCanvas, recordCanvas = _j === void 0 ? false : _j, _k = _a.maskAllInputs, maskAllInputs = _k === void 0 ? false : _k, maskTextFn = _a.maskTextFn, maskInputFn = _a.maskInputFn, _l = _a.slimDOM, slimDOM = _l === void 0 ? false : _l, dataURLOptions = _a.dataURLOptions, preserveWhiteSpace = _a.preserveWhiteSpace, onSerialize = _a.onSerialize, onIframeLoad = _a.onIframeLoad, iframeLoadTimeout = _a.iframeLoadTimeout, onStylesheetLoad = _a.onStylesheetLoad, stylesheetLoadTimeout = _a.stylesheetLoadTimeout, _m = _a.keepIframeSrcFn, keepIframeSrcFn = _m === void 0 ? function() {\n        return false;\n      } : _m;\n      var maskInputOptions = maskAllInputs === true ? {\n        color: true,\n        date: true,\n        \"datetime-local\": true,\n        email: true,\n        month: true,\n        number: true,\n        range: true,\n        search: true,\n        tel: true,\n        text: true,\n        time: true,\n        url: true,\n        week: true,\n        textarea: true,\n        select: true,\n        password: true\n      } : maskAllInputs === false ? {\n        password: true\n      } : maskAllInputs;\n      var slimDOMOptions = slimDOM === true || slimDOM === \"all\" ? {\n        script: true,\n        comment: true,\n        headFavicon: true,\n        headWhitespace: true,\n        headMetaDescKeywords: slimDOM === \"all\",\n        headMetaSocial: true,\n        headMetaRobots: true,\n        headMetaHttpEquiv: true,\n        headMetaAuthorship: true,\n        headMetaVerification: true\n      } : slimDOM === false ? {} : slimDOM;\n      return serializeNodeWithId(n, {\n        doc: n,\n        mirror,\n        blockClass,\n        blockSelector,\n        maskTextClass,\n        maskTextSelector,\n        skipChild: false,\n        inlineStylesheet,\n        maskInputOptions,\n        maskTextFn,\n        maskInputFn,\n        slimDOMOptions,\n        dataURLOptions,\n        inlineImages,\n        recordCanvas,\n        preserveWhiteSpace,\n        onSerialize,\n        onIframeLoad,\n        iframeLoadTimeout,\n        onStylesheetLoad,\n        stylesheetLoadTimeout,\n        keepIframeSrcFn,\n        newlyAddedElement: false\n      });\n    }\n    var commentre = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n    function parse(css, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var lineno = 1;\n      var column = 1;\n      function updatePosition(str) {\n        var lines = str.match(/\\n/g);\n        if (lines) {\n          lineno += lines.length;\n        }\n        var i = str.lastIndexOf(\"\\n\");\n        column = i === -1 ? column + str.length : str.length - i;\n      }\n      function position() {\n        var start = { line: lineno, column };\n        return function(node) {\n          node.position = new Position(start);\n          whitespace();\n          return node;\n        };\n      }\n      var Position = function() {\n        function Position2(start) {\n          this.start = start;\n          this.end = { line: lineno, column };\n          this.source = options.source;\n        }\n        return Position2;\n      }();\n      Position.prototype.content = css;\n      var errorsList = [];\n      function error(msg) {\n        var err = new Error(\"\".concat(options.source || \"\", \":\").concat(lineno, \":\").concat(column, \": \").concat(msg));\n        err.reason = msg;\n        err.filename = options.source;\n        err.line = lineno;\n        err.column = column;\n        err.source = css;\n        if (options.silent) {\n          errorsList.push(err);\n        } else {\n          throw err;\n        }\n      }\n      function stylesheet() {\n        var rulesList = rules();\n        return {\n          type: \"stylesheet\",\n          stylesheet: {\n            source: options.source,\n            rules: rulesList,\n            parsingErrors: errorsList\n          }\n        };\n      }\n      function open() {\n        return match(/^{\\s*/);\n      }\n      function close() {\n        return match(/^}/);\n      }\n      function rules() {\n        var node;\n        var rules2 = [];\n        whitespace();\n        comments(rules2);\n        while (css.length && css.charAt(0) !== \"}\" && (node = atrule() || rule())) {\n          if (node !== false) {\n            rules2.push(node);\n            comments(rules2);\n          }\n        }\n        return rules2;\n      }\n      function match(re) {\n        var m = re.exec(css);\n        if (!m) {\n          return;\n        }\n        var str = m[0];\n        updatePosition(str);\n        css = css.slice(str.length);\n        return m;\n      }\n      function whitespace() {\n        match(/^\\s*/);\n      }\n      function comments(rules2) {\n        if (rules2 === void 0) {\n          rules2 = [];\n        }\n        var c;\n        while (c = comment()) {\n          if (c !== false) {\n            rules2.push(c);\n          }\n          c = comment();\n        }\n        return rules2;\n      }\n      function comment() {\n        var pos = position();\n        if (css.charAt(0) !== \"/\" || css.charAt(1) !== \"*\") {\n          return;\n        }\n        var i = 2;\n        while (css.charAt(i) !== \"\" && (css.charAt(i) !== \"*\" || css.charAt(i + 1) !== \"/\")) {\n          ++i;\n        }\n        i += 2;\n        if (css.charAt(i - 1) === \"\") {\n          return error(\"End of comment missing\");\n        }\n        var str = css.slice(2, i - 2);\n        column += 2;\n        updatePosition(str);\n        css = css.slice(i);\n        column += 2;\n        return pos({\n          type: \"comment\",\n          comment: str\n        });\n      }\n      function selector() {\n        var m = match(/^([^{]+)/);\n        if (!m) {\n          return;\n        }\n        return trim(m[0]).replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g, \"\").replace(/\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g, function(m2) {\n          return m2.replace(/,/g, \"\\u200C\");\n        }).split(/\\s*(?![^(]*\\)),\\s*/).map(function(s) {\n          return s.replace(/\\u200C/g, \",\");\n        });\n      }\n      function declaration() {\n        var pos = position();\n        var propMatch = match(/^(\\*?[-#\\/\\*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/);\n        if (!propMatch) {\n          return;\n        }\n        var prop = trim(propMatch[0]);\n        if (!match(/^:\\s*/)) {\n          return error(\"property missing ':'\");\n        }\n        var val = match(/^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)/);\n        var ret = pos({\n          type: \"declaration\",\n          property: prop.replace(commentre, \"\"),\n          value: val ? trim(val[0]).replace(commentre, \"\") : \"\"\n        });\n        match(/^[;\\s]*/);\n        return ret;\n      }\n      function declarations() {\n        var decls = [];\n        if (!open()) {\n          return error(\"missing '{'\");\n        }\n        comments(decls);\n        var decl;\n        while (decl = declaration()) {\n          if (decl !== false) {\n            decls.push(decl);\n            comments(decls);\n          }\n          decl = declaration();\n        }\n        if (!close()) {\n          return error(\"missing '}'\");\n        }\n        return decls;\n      }\n      function keyframe() {\n        var m;\n        var vals = [];\n        var pos = position();\n        while (m = match(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/)) {\n          vals.push(m[1]);\n          match(/^,\\s*/);\n        }\n        if (!vals.length) {\n          return;\n        }\n        return pos({\n          type: \"keyframe\",\n          values: vals,\n          declarations: declarations()\n        });\n      }\n      function atkeyframes() {\n        var pos = position();\n        var m = match(/^@([-\\w]+)?keyframes\\s*/);\n        if (!m) {\n          return;\n        }\n        var vendor = m[1];\n        m = match(/^([-\\w]+)\\s*/);\n        if (!m) {\n          return error(\"@keyframes missing name\");\n        }\n        var name = m[1];\n        if (!open()) {\n          return error(\"@keyframes missing '{'\");\n        }\n        var frame;\n        var frames = comments();\n        while (frame = keyframe()) {\n          frames.push(frame);\n          frames = frames.concat(comments());\n        }\n        if (!close()) {\n          return error(\"@keyframes missing '}'\");\n        }\n        return pos({\n          type: \"keyframes\",\n          name,\n          vendor,\n          keyframes: frames\n        });\n      }\n      function atsupports() {\n        var pos = position();\n        var m = match(/^@supports *([^{]+)/);\n        if (!m) {\n          return;\n        }\n        var supports = trim(m[1]);\n        if (!open()) {\n          return error(\"@supports missing '{'\");\n        }\n        var style = comments().concat(rules());\n        if (!close()) {\n          return error(\"@supports missing '}'\");\n        }\n        return pos({\n          type: \"supports\",\n          supports,\n          rules: style\n        });\n      }\n      function athost() {\n        var pos = position();\n        var m = match(/^@host\\s*/);\n        if (!m) {\n          return;\n        }\n        if (!open()) {\n          return error(\"@host missing '{'\");\n        }\n        var style = comments().concat(rules());\n        if (!close()) {\n          return error(\"@host missing '}'\");\n        }\n        return pos({\n          type: \"host\",\n          rules: style\n        });\n      }\n      function atmedia() {\n        var pos = position();\n        var m = match(/^@media *([^{]+)/);\n        if (!m) {\n          return;\n        }\n        var media = trim(m[1]);\n        if (!open()) {\n          return error(\"@media missing '{'\");\n        }\n        var style = comments().concat(rules());\n        if (!close()) {\n          return error(\"@media missing '}'\");\n        }\n        return pos({\n          type: \"media\",\n          media,\n          rules: style\n        });\n      }\n      function atcustommedia() {\n        var pos = position();\n        var m = match(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/);\n        if (!m) {\n          return;\n        }\n        return pos({\n          type: \"custom-media\",\n          name: trim(m[1]),\n          media: trim(m[2])\n        });\n      }\n      function atpage() {\n        var pos = position();\n        var m = match(/^@page */);\n        if (!m) {\n          return;\n        }\n        var sel = selector() || [];\n        if (!open()) {\n          return error(\"@page missing '{'\");\n        }\n        var decls = comments();\n        var decl;\n        while (decl = declaration()) {\n          decls.push(decl);\n          decls = decls.concat(comments());\n        }\n        if (!close()) {\n          return error(\"@page missing '}'\");\n        }\n        return pos({\n          type: \"page\",\n          selectors: sel,\n          declarations: decls\n        });\n      }\n      function atdocument() {\n        var pos = position();\n        var m = match(/^@([-\\w]+)?document *([^{]+)/);\n        if (!m) {\n          return;\n        }\n        var vendor = trim(m[1]);\n        var doc = trim(m[2]);\n        if (!open()) {\n          return error(\"@document missing '{'\");\n        }\n        var style = comments().concat(rules());\n        if (!close()) {\n          return error(\"@document missing '}'\");\n        }\n        return pos({\n          type: \"document\",\n          document: doc,\n          vendor,\n          rules: style\n        });\n      }\n      function atfontface() {\n        var pos = position();\n        var m = match(/^@font-face\\s*/);\n        if (!m) {\n          return;\n        }\n        if (!open()) {\n          return error(\"@font-face missing '{'\");\n        }\n        var decls = comments();\n        var decl;\n        while (decl = declaration()) {\n          decls.push(decl);\n          decls = decls.concat(comments());\n        }\n        if (!close()) {\n          return error(\"@font-face missing '}'\");\n        }\n        return pos({\n          type: \"font-face\",\n          declarations: decls\n        });\n      }\n      var atimport = _compileAtrule(\"import\");\n      var atcharset = _compileAtrule(\"charset\");\n      var atnamespace = _compileAtrule(\"namespace\");\n      function _compileAtrule(name) {\n        var re = new RegExp(\"^@\" + name + \"\\\\s*([^;]+);\");\n        return function() {\n          var pos = position();\n          var m = match(re);\n          if (!m) {\n            return;\n          }\n          var ret = { type: name };\n          ret[name] = m[1].trim();\n          return pos(ret);\n        };\n      }\n      function atrule() {\n        if (css[0] !== \"@\") {\n          return;\n        }\n        return atkeyframes() || atmedia() || atcustommedia() || atsupports() || atimport() || atcharset() || atnamespace() || atdocument() || atpage() || athost() || atfontface();\n      }\n      function rule() {\n        var pos = position();\n        var sel = selector();\n        if (!sel) {\n          return error(\"selector missing\");\n        }\n        comments();\n        return pos({\n          type: \"rule\",\n          selectors: sel,\n          declarations: declarations()\n        });\n      }\n      return addParent(stylesheet());\n    }\n    function trim(str) {\n      return str ? str.replace(/^\\s+|\\s+$/g, \"\") : \"\";\n    }\n    function addParent(obj, parent) {\n      var isNode = obj && typeof obj.type === \"string\";\n      var childParent = isNode ? obj : parent;\n      for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var k = _a[_i];\n        var value = obj[k];\n        if (Array.isArray(value)) {\n          value.forEach(function(v) {\n            addParent(v, childParent);\n          });\n        } else if (value && typeof value === \"object\") {\n          addParent(value, childParent);\n        }\n      }\n      if (isNode) {\n        Object.defineProperty(obj, \"parent\", {\n          configurable: true,\n          writable: true,\n          enumerable: false,\n          value: parent || null\n        });\n      }\n      return obj;\n    }\n    var tagMap = {\n      script: \"noscript\",\n      altglyph: \"altGlyph\",\n      altglyphdef: \"altGlyphDef\",\n      altglyphitem: \"altGlyphItem\",\n      animatecolor: \"animateColor\",\n      animatemotion: \"animateMotion\",\n      animatetransform: \"animateTransform\",\n      clippath: \"clipPath\",\n      feblend: \"feBlend\",\n      fecolormatrix: \"feColorMatrix\",\n      fecomponenttransfer: \"feComponentTransfer\",\n      fecomposite: \"feComposite\",\n      feconvolvematrix: \"feConvolveMatrix\",\n      fediffuselighting: \"feDiffuseLighting\",\n      fedisplacementmap: \"feDisplacementMap\",\n      fedistantlight: \"feDistantLight\",\n      fedropshadow: \"feDropShadow\",\n      feflood: \"feFlood\",\n      fefunca: \"feFuncA\",\n      fefuncb: \"feFuncB\",\n      fefuncg: \"feFuncG\",\n      fefuncr: \"feFuncR\",\n      fegaussianblur: \"feGaussianBlur\",\n      feimage: \"feImage\",\n      femerge: \"feMerge\",\n      femergenode: \"feMergeNode\",\n      femorphology: \"feMorphology\",\n      feoffset: \"feOffset\",\n      fepointlight: \"fePointLight\",\n      fespecularlighting: \"feSpecularLighting\",\n      fespotlight: \"feSpotLight\",\n      fetile: \"feTile\",\n      feturbulence: \"feTurbulence\",\n      foreignobject: \"foreignObject\",\n      glyphref: \"glyphRef\",\n      lineargradient: \"linearGradient\",\n      radialgradient: \"radialGradient\"\n    };\n    function getTagName(n) {\n      var tagName = tagMap[n.tagName] ? tagMap[n.tagName] : n.tagName;\n      if (tagName === \"link\" && n.attributes._cssText) {\n        tagName = \"style\";\n      }\n      return tagName;\n    }\n    function escapeRegExp(str) {\n      return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    }\n    var HOVER_SELECTOR = /([^\\\\]):hover/;\n    var HOVER_SELECTOR_GLOBAL = new RegExp(HOVER_SELECTOR.source, \"g\");\n    function addHoverClass(cssText, cache) {\n      var cachedStyle = cache === null || cache === void 0 ? void 0 : cache.stylesWithHoverClass.get(cssText);\n      if (cachedStyle)\n        return cachedStyle;\n      var ast = parse(cssText, {\n        silent: true\n      });\n      if (!ast.stylesheet) {\n        return cssText;\n      }\n      var selectors = [];\n      ast.stylesheet.rules.forEach(function(rule) {\n        if (\"selectors\" in rule) {\n          (rule.selectors || []).forEach(function(selector) {\n            if (HOVER_SELECTOR.test(selector)) {\n              selectors.push(selector);\n            }\n          });\n        }\n      });\n      if (selectors.length === 0) {\n        return cssText;\n      }\n      var selectorMatcher = new RegExp(selectors.filter(function(selector, index) {\n        return selectors.indexOf(selector) === index;\n      }).sort(function(a, b) {\n        return b.length - a.length;\n      }).map(function(selector) {\n        return escapeRegExp(selector);\n      }).join(\"|\"), \"g\");\n      var result = cssText.replace(selectorMatcher, function(selector) {\n        var newSelector = selector.replace(HOVER_SELECTOR_GLOBAL, \"$1.\\\\:hover\");\n        return \"\".concat(selector, \", \").concat(newSelector);\n      });\n      cache === null || cache === void 0 ? void 0 : cache.stylesWithHoverClass.set(cssText, result);\n      return result;\n    }\n    function createCache() {\n      var stylesWithHoverClass = /* @__PURE__ */ new Map();\n      return {\n        stylesWithHoverClass\n      };\n    }\n    function buildNode(n, options) {\n      var doc = options.doc, hackCss = options.hackCss, cache = options.cache;\n      switch (n.type) {\n        case NodeType$2.Document:\n          return doc.implementation.createDocument(null, \"\", null);\n        case NodeType$2.DocumentType:\n          return doc.implementation.createDocumentType(n.name || \"html\", n.publicId, n.systemId);\n        case NodeType$2.Element: {\n          var tagName = getTagName(n);\n          var node_1;\n          if (n.isSVG) {\n            node_1 = doc.createElementNS(\"http://www.w3.org/2000/svg\", tagName);\n          } else {\n            node_1 = doc.createElement(tagName);\n          }\n          var specialAttributes = {};\n          for (var name_1 in n.attributes) {\n            if (!Object.prototype.hasOwnProperty.call(n.attributes, name_1)) {\n              continue;\n            }\n            var value = n.attributes[name_1];\n            if (tagName === \"option\" && name_1 === \"selected\" && value === false) {\n              continue;\n            }\n            if (value === true)\n              value = \"\";\n            if (name_1.startsWith(\"rr_\")) {\n              specialAttributes[name_1] = value;\n              continue;\n            }\n            var isTextarea = tagName === \"textarea\" && name_1 === \"value\";\n            var isRemoteOrDynamicCss = tagName === \"style\" && name_1 === \"_cssText\";\n            if (isRemoteOrDynamicCss && hackCss && typeof value === \"string\") {\n              value = addHoverClass(value, cache);\n            }\n            if ((isTextarea || isRemoteOrDynamicCss) && typeof value === \"string\") {\n              var child = doc.createTextNode(value);\n              for (var _i = 0, _a = Array.from(node_1.childNodes); _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c.nodeType === node_1.TEXT_NODE) {\n                  node_1.removeChild(c);\n                }\n              }\n              node_1.appendChild(child);\n              continue;\n            }\n            try {\n              if (n.isSVG && name_1 === \"xlink:href\") {\n                node_1.setAttributeNS(\"http://www.w3.org/1999/xlink\", name_1, value.toString());\n              } else if (name_1 === \"onload\" || name_1 === \"onclick\" || name_1.substring(0, 7) === \"onmouse\") {\n                node_1.setAttribute(\"_\" + name_1, value.toString());\n              } else if (tagName === \"meta\" && n.attributes[\"http-equiv\"] === \"Content-Security-Policy\" && name_1 === \"content\") {\n                node_1.setAttribute(\"csp-content\", value.toString());\n                continue;\n              } else if (tagName === \"link\" && n.attributes.rel === \"preload\" && n.attributes.as === \"script\") {\n              } else if (tagName === \"link\" && n.attributes.rel === \"prefetch\" && typeof n.attributes.href === \"string\" && n.attributes.href.endsWith(\".js\")) {\n              } else if (tagName === \"img\" && n.attributes.srcset && n.attributes.rr_dataURL) {\n                node_1.setAttribute(\"rrweb-original-srcset\", n.attributes.srcset);\n              } else {\n                node_1.setAttribute(name_1, value.toString());\n              }\n            } catch (error) {\n            }\n          }\n          var _loop_1 = function(name_22) {\n            var value2 = specialAttributes[name_22];\n            if (tagName === \"canvas\" && name_22 === \"rr_dataURL\") {\n              var image_1 = document.createElement(\"img\");\n              image_1.onload = function() {\n                var ctx = node_1.getContext(\"2d\");\n                if (ctx) {\n                  ctx.drawImage(image_1, 0, 0, image_1.width, image_1.height);\n                }\n              };\n              image_1.src = value2.toString();\n              if (node_1.RRNodeType)\n                node_1.rr_dataURL = value2.toString();\n            } else if (tagName === \"img\" && name_22 === \"rr_dataURL\") {\n              var image = node_1;\n              if (!image.currentSrc.startsWith(\"data:\")) {\n                image.setAttribute(\"rrweb-original-src\", n.attributes.src);\n                image.src = value2.toString();\n              }\n            }\n            if (name_22 === \"rr_width\") {\n              node_1.style.width = value2.toString();\n            } else if (name_22 === \"rr_height\") {\n              node_1.style.height = value2.toString();\n            } else if (name_22 === \"rr_mediaCurrentTime\" && typeof value2 === \"number\") {\n              node_1.currentTime = value2;\n            } else if (name_22 === \"rr_mediaState\") {\n              switch (value2) {\n                case \"played\":\n                  node_1.play()[\"catch\"](function(e) {\n                    return console.warn(\"media playback error\", e);\n                  });\n                  break;\n                case \"paused\":\n                  node_1.pause();\n                  break;\n              }\n            }\n          };\n          for (var name_2 in specialAttributes) {\n            _loop_1(name_2);\n          }\n          if (n.isShadowHost) {\n            if (!node_1.shadowRoot) {\n              node_1.attachShadow({ mode: \"open\" });\n            } else {\n              while (node_1.shadowRoot.firstChild) {\n                node_1.shadowRoot.removeChild(node_1.shadowRoot.firstChild);\n              }\n            }\n          }\n          return node_1;\n        }\n        case NodeType$2.Text:\n          return doc.createTextNode(n.isStyle && hackCss ? addHoverClass(n.textContent, cache) : n.textContent);\n        case NodeType$2.CDATA:\n          return doc.createCDATASection(n.textContent);\n        case NodeType$2.Comment:\n          return doc.createComment(n.textContent);\n        default:\n          return null;\n      }\n    }\n    function buildNodeWithSN(n, options) {\n      var doc = options.doc, mirror = options.mirror, _a = options.skipChild, skipChild = _a === void 0 ? false : _a, _b = options.hackCss, hackCss = _b === void 0 ? true : _b, afterAppend = options.afterAppend, cache = options.cache;\n      var node = buildNode(n, { doc, hackCss, cache });\n      if (!node) {\n        return null;\n      }\n      if (n.rootId && mirror.getNode(n.rootId) !== doc) {\n        mirror.replace(n.rootId, doc);\n      }\n      if (n.type === NodeType$2.Document) {\n        doc.close();\n        doc.open();\n        if (n.compatMode === \"BackCompat\" && n.childNodes && n.childNodes[0].type !== NodeType$2.DocumentType) {\n          if (n.childNodes[0].type === NodeType$2.Element && \"xmlns\" in n.childNodes[0].attributes && n.childNodes[0].attributes.xmlns === \"http://www.w3.org/1999/xhtml\") {\n            doc.write('<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"\">');\n          } else {\n            doc.write('<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"\">');\n          }\n        }\n        node = doc;\n      }\n      mirror.add(node, n);\n      if ((n.type === NodeType$2.Document || n.type === NodeType$2.Element) && !skipChild) {\n        for (var _i = 0, _c = n.childNodes; _i < _c.length; _i++) {\n          var childN = _c[_i];\n          var childNode = buildNodeWithSN(childN, {\n            doc,\n            mirror,\n            skipChild: false,\n            hackCss,\n            afterAppend,\n            cache\n          });\n          if (!childNode) {\n            console.warn(\"Failed to rebuild\", childN);\n            continue;\n          }\n          if (childN.isShadow && isElement(node) && node.shadowRoot) {\n            node.shadowRoot.appendChild(childNode);\n          } else {\n            node.appendChild(childNode);\n          }\n          if (afterAppend) {\n            afterAppend(childNode, childN.id);\n          }\n        }\n      }\n      return node;\n    }\n    function visit(mirror, onVisit) {\n      function walk(node) {\n        onVisit(node);\n      }\n      for (var _i = 0, _a = mirror.getIds(); _i < _a.length; _i++) {\n        var id = _a[_i];\n        if (mirror.has(id)) {\n          walk(mirror.getNode(id));\n        }\n      }\n    }\n    function handleScroll(node, mirror) {\n      var n = mirror.getMeta(node);\n      if ((n === null || n === void 0 ? void 0 : n.type) !== NodeType$2.Element) {\n        return;\n      }\n      var el = node;\n      for (var name_3 in n.attributes) {\n        if (!(Object.prototype.hasOwnProperty.call(n.attributes, name_3) && name_3.startsWith(\"rr_\"))) {\n          continue;\n        }\n        var value = n.attributes[name_3];\n        if (name_3 === \"rr_scrollLeft\") {\n          el.scrollLeft = value;\n        }\n        if (name_3 === \"rr_scrollTop\") {\n          el.scrollTop = value;\n        }\n      }\n    }\n    function rebuild(n, options) {\n      var doc = options.doc, onVisit = options.onVisit, _a = options.hackCss, hackCss = _a === void 0 ? true : _a, afterAppend = options.afterAppend, cache = options.cache, _b = options.mirror, mirror = _b === void 0 ? new Mirror$2() : _b;\n      var node = buildNodeWithSN(n, {\n        doc,\n        mirror,\n        skipChild: false,\n        hackCss,\n        afterAppend,\n        cache\n      });\n      visit(mirror, function(visitedNode) {\n        if (onVisit) {\n          onVisit(visitedNode);\n        }\n        handleScroll(visitedNode, mirror);\n      });\n      return node;\n    }\n\n    function on(type, fn, target = document) {\n      const options = { capture: true, passive: true };\n      target.addEventListener(type, fn, options);\n      return () => target.removeEventListener(type, fn, options);\n    }\n    const DEPARTED_MIRROR_ACCESS_WARNING = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\n    exports.mirror = {\n      map: {},\n      getId() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n        return -1;\n      },\n      getNode() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n        return null;\n      },\n      removeNodeFromMap() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      },\n      has() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n        return false;\n      },\n      reset() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      }\n    };\n    if (typeof window !== \"undefined\" && window.Proxy && window.Reflect) {\n      exports.mirror = new Proxy(exports.mirror, {\n        get(target, prop, receiver) {\n          if (prop === \"map\") {\n            console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n          }\n          return Reflect.get(target, prop, receiver);\n        }\n      });\n    }\n    function throttle(func, wait, options = {}) {\n      let timeout = null;\n      let previous = 0;\n      return function(...args) {\n        const now = Date.now();\n        if (!previous && options.leading === false) {\n          previous = now;\n        }\n        const remaining = wait - (now - previous);\n        const context = this;\n        if (remaining <= 0 || remaining > wait) {\n          if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n          }\n          previous = now;\n          func.apply(context, args);\n        } else if (!timeout && options.trailing !== false) {\n          timeout = setTimeout(() => {\n            previous = options.leading === false ? 0 : Date.now();\n            timeout = null;\n            func.apply(context, args);\n          }, remaining);\n        }\n      };\n    }\n    function hookSetter(target, key, d, isRevoked, win = window) {\n      const original = win.Object.getOwnPropertyDescriptor(target, key);\n      win.Object.defineProperty(target, key, isRevoked ? d : {\n        set(value) {\n          setTimeout(() => {\n            d.set.call(this, value);\n          }, 0);\n          if (original && original.set) {\n            original.set.call(this, value);\n          }\n        }\n      });\n      return () => hookSetter(target, key, original || {}, true);\n    }\n    function patch(source, name, replacement) {\n      try {\n        if (!(name in source)) {\n          return () => {\n          };\n        }\n        const original = source[name];\n        const wrapped = replacement(original);\n        if (typeof wrapped === \"function\") {\n          wrapped.prototype = wrapped.prototype || {};\n          Object.defineProperties(wrapped, {\n            __rrweb_original__: {\n              enumerable: false,\n              value: original\n            }\n          });\n        }\n        source[name] = wrapped;\n        return () => {\n          source[name] = original;\n        };\n      } catch (e) {\n        return () => {\n        };\n      }\n    }\n    function getWindowHeight() {\n      return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n    }\n    function getWindowWidth() {\n      return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n    }\n    function isBlocked(node, blockClass, blockSelector, checkAncestors) {\n      if (!node) {\n        return false;\n      }\n      const el = node.nodeType === node.ELEMENT_NODE ? node : node.parentElement;\n      if (!el)\n        return false;\n      if (typeof blockClass === \"string\") {\n        if (el.classList.contains(blockClass))\n          return true;\n        if (checkAncestors && el.closest(\".\" + blockClass) !== null)\n          return true;\n      } else {\n        if (classMatchesRegex(el, blockClass, checkAncestors))\n          return true;\n      }\n      if (blockSelector) {\n        if (node.matches(blockSelector))\n          return true;\n        if (checkAncestors && el.closest(blockSelector) !== null)\n          return true;\n      }\n      return false;\n    }\n    function isSerialized(n, mirror) {\n      return mirror.getId(n) !== -1;\n    }\n    function isIgnored(n, mirror) {\n      return mirror.getId(n) === IGNORED_NODE;\n    }\n    function isAncestorRemoved(target, mirror) {\n      if (isShadowRoot(target)) {\n        return false;\n      }\n      const id = mirror.getId(target);\n      if (!mirror.has(id)) {\n        return true;\n      }\n      if (target.parentNode && target.parentNode.nodeType === target.DOCUMENT_NODE) {\n        return false;\n      }\n      if (!target.parentNode) {\n        return true;\n      }\n      return isAncestorRemoved(target.parentNode, mirror);\n    }\n    function isTouchEvent(event) {\n      return Boolean(event.changedTouches);\n    }\n    function polyfill$1(win = window) {\n      if (\"NodeList\" in win && !win.NodeList.prototype.forEach) {\n        win.NodeList.prototype.forEach = Array.prototype.forEach;\n      }\n      if (\"DOMTokenList\" in win && !win.DOMTokenList.prototype.forEach) {\n        win.DOMTokenList.prototype.forEach = Array.prototype.forEach;\n      }\n      if (!Node.prototype.contains) {\n        Node.prototype.contains = (...args) => {\n          let node = args[0];\n          if (!(0 in args)) {\n            throw new TypeError(\"1 argument is required\");\n          }\n          do {\n            if (this === node) {\n              return true;\n            }\n          } while (node = node && node.parentNode);\n          return false;\n        };\n      }\n    }\n    function queueToResolveTrees(queue) {\n      const queueNodeMap = {};\n      const putIntoMap = (m, parent) => {\n        const nodeInTree = {\n          value: m,\n          parent,\n          children: []\n        };\n        queueNodeMap[m.node.id] = nodeInTree;\n        return nodeInTree;\n      };\n      const queueNodeTrees = [];\n      for (const mutation of queue) {\n        const { nextId, parentId } = mutation;\n        if (nextId && nextId in queueNodeMap) {\n          const nextInTree = queueNodeMap[nextId];\n          if (nextInTree.parent) {\n            const idx = nextInTree.parent.children.indexOf(nextInTree);\n            nextInTree.parent.children.splice(idx, 0, putIntoMap(mutation, nextInTree.parent));\n          } else {\n            const idx = queueNodeTrees.indexOf(nextInTree);\n            queueNodeTrees.splice(idx, 0, putIntoMap(mutation, null));\n          }\n          continue;\n        }\n        if (parentId in queueNodeMap) {\n          const parentInTree = queueNodeMap[parentId];\n          parentInTree.children.push(putIntoMap(mutation, parentInTree));\n          continue;\n        }\n        queueNodeTrees.push(putIntoMap(mutation, null));\n      }\n      return queueNodeTrees;\n    }\n    function iterateResolveTree(tree, cb) {\n      cb(tree.value);\n      for (let i = tree.children.length - 1; i >= 0; i--) {\n        iterateResolveTree(tree.children[i], cb);\n      }\n    }\n    function isSerializedIframe(n, mirror) {\n      return Boolean(n.nodeName === \"IFRAME\" && mirror.getMeta(n));\n    }\n    function isSerializedStylesheet(n, mirror) {\n      return Boolean(n.nodeName === \"LINK\" && n.nodeType === n.ELEMENT_NODE && n.getAttribute && n.getAttribute(\"rel\") === \"stylesheet\" && mirror.getMeta(n));\n    }\n    function getBaseDimension(node, rootIframe) {\n      var _a, _b;\n      const frameElement = (_b = (_a = node.ownerDocument) == null ? void 0 : _a.defaultView) == null ? void 0 : _b.frameElement;\n      if (!frameElement || frameElement === rootIframe) {\n        return {\n          x: 0,\n          y: 0,\n          relativeScale: 1,\n          absoluteScale: 1\n        };\n      }\n      const frameDimension = frameElement.getBoundingClientRect();\n      const frameBaseDimension = getBaseDimension(frameElement, rootIframe);\n      const relativeScale = frameDimension.height / frameElement.clientHeight;\n      return {\n        x: frameDimension.x * frameBaseDimension.relativeScale + frameBaseDimension.x,\n        y: frameDimension.y * frameBaseDimension.relativeScale + frameBaseDimension.y,\n        relativeScale,\n        absoluteScale: frameBaseDimension.absoluteScale * relativeScale\n      };\n    }\n    function hasShadowRoot(n) {\n      return Boolean(n == null ? void 0 : n.shadowRoot);\n    }\n    function getNestedRule(rules, position) {\n      const rule = rules[position[0]];\n      if (position.length === 1) {\n        return rule;\n      } else {\n        return getNestedRule(rule.cssRules[position[1]].cssRules, position.slice(2));\n      }\n    }\n    function getPositionsAndIndex(nestedIndex) {\n      const positions = [...nestedIndex];\n      const index = positions.pop();\n      return { positions, index };\n    }\n    function uniqueTextMutations(mutations) {\n      const idSet = /* @__PURE__ */ new Set();\n      const uniqueMutations = [];\n      for (let i = mutations.length; i--; ) {\n        const mutation = mutations[i];\n        if (!idSet.has(mutation.id)) {\n          uniqueMutations.push(mutation);\n          idSet.add(mutation.id);\n        }\n      }\n      return uniqueMutations;\n    }\n    class StyleSheetMirror {\n      constructor() {\n        this.id = 1;\n        this.styleIDMap = /* @__PURE__ */ new WeakMap();\n        this.idStyleMap = /* @__PURE__ */ new Map();\n      }\n      getId(stylesheet) {\n        var _a;\n        return (_a = this.styleIDMap.get(stylesheet)) != null ? _a : -1;\n      }\n      has(stylesheet) {\n        return this.styleIDMap.has(stylesheet);\n      }\n      add(stylesheet, id) {\n        if (this.has(stylesheet))\n          return this.getId(stylesheet);\n        let newId;\n        if (id === void 0) {\n          newId = this.id++;\n        } else\n          newId = id;\n        this.styleIDMap.set(stylesheet, newId);\n        this.idStyleMap.set(newId, stylesheet);\n        return newId;\n      }\n      getStyle(id) {\n        return this.idStyleMap.get(id) || null;\n      }\n      reset() {\n        this.styleIDMap = /* @__PURE__ */ new WeakMap();\n        this.idStyleMap = /* @__PURE__ */ new Map();\n        this.id = 1;\n      }\n      generateId() {\n        return this.id++;\n      }\n    }\n\n    var utils = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        on: on,\n        get _mirror () { return exports.mirror; },\n        throttle: throttle,\n        hookSetter: hookSetter,\n        patch: patch,\n        getWindowHeight: getWindowHeight,\n        getWindowWidth: getWindowWidth,\n        isBlocked: isBlocked,\n        isSerialized: isSerialized,\n        isIgnored: isIgnored,\n        isAncestorRemoved: isAncestorRemoved,\n        isTouchEvent: isTouchEvent,\n        polyfill: polyfill$1,\n        queueToResolveTrees: queueToResolveTrees,\n        iterateResolveTree: iterateResolveTree,\n        isSerializedIframe: isSerializedIframe,\n        isSerializedStylesheet: isSerializedStylesheet,\n        getBaseDimension: getBaseDimension,\n        hasShadowRoot: hasShadowRoot,\n        getNestedRule: getNestedRule,\n        getPositionsAndIndex: getPositionsAndIndex,\n        uniqueTextMutations: uniqueTextMutations,\n        StyleSheetMirror: StyleSheetMirror\n    });\n\n    var EventType = /* @__PURE__ */ ((EventType2) => {\n      EventType2[EventType2[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n      EventType2[EventType2[\"Load\"] = 1] = \"Load\";\n      EventType2[EventType2[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n      EventType2[EventType2[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n      EventType2[EventType2[\"Meta\"] = 4] = \"Meta\";\n      EventType2[EventType2[\"Custom\"] = 5] = \"Custom\";\n      EventType2[EventType2[\"Plugin\"] = 6] = \"Plugin\";\n      return EventType2;\n    })(EventType || {});\n    var IncrementalSource = /* @__PURE__ */ ((IncrementalSource2) => {\n      IncrementalSource2[IncrementalSource2[\"Mutation\"] = 0] = \"Mutation\";\n      IncrementalSource2[IncrementalSource2[\"MouseMove\"] = 1] = \"MouseMove\";\n      IncrementalSource2[IncrementalSource2[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n      IncrementalSource2[IncrementalSource2[\"Scroll\"] = 3] = \"Scroll\";\n      IncrementalSource2[IncrementalSource2[\"ViewportResize\"] = 4] = \"ViewportResize\";\n      IncrementalSource2[IncrementalSource2[\"Input\"] = 5] = \"Input\";\n      IncrementalSource2[IncrementalSource2[\"TouchMove\"] = 6] = \"TouchMove\";\n      IncrementalSource2[IncrementalSource2[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n      IncrementalSource2[IncrementalSource2[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n      IncrementalSource2[IncrementalSource2[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n      IncrementalSource2[IncrementalSource2[\"Font\"] = 10] = \"Font\";\n      IncrementalSource2[IncrementalSource2[\"Log\"] = 11] = \"Log\";\n      IncrementalSource2[IncrementalSource2[\"Drag\"] = 12] = \"Drag\";\n      IncrementalSource2[IncrementalSource2[\"StyleDeclaration\"] = 13] = \"StyleDeclaration\";\n      IncrementalSource2[IncrementalSource2[\"Selection\"] = 14] = \"Selection\";\n      IncrementalSource2[IncrementalSource2[\"AdoptedStyleSheet\"] = 15] = \"AdoptedStyleSheet\";\n      return IncrementalSource2;\n    })(IncrementalSource || {});\n    var MouseInteractions = /* @__PURE__ */ ((MouseInteractions2) => {\n      MouseInteractions2[MouseInteractions2[\"MouseUp\"] = 0] = \"MouseUp\";\n      MouseInteractions2[MouseInteractions2[\"MouseDown\"] = 1] = \"MouseDown\";\n      MouseInteractions2[MouseInteractions2[\"Click\"] = 2] = \"Click\";\n      MouseInteractions2[MouseInteractions2[\"ContextMenu\"] = 3] = \"ContextMenu\";\n      MouseInteractions2[MouseInteractions2[\"DblClick\"] = 4] = \"DblClick\";\n      MouseInteractions2[MouseInteractions2[\"Focus\"] = 5] = \"Focus\";\n      MouseInteractions2[MouseInteractions2[\"Blur\"] = 6] = \"Blur\";\n      MouseInteractions2[MouseInteractions2[\"TouchStart\"] = 7] = \"TouchStart\";\n      MouseInteractions2[MouseInteractions2[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n      MouseInteractions2[MouseInteractions2[\"TouchEnd\"] = 9] = \"TouchEnd\";\n      MouseInteractions2[MouseInteractions2[\"TouchCancel\"] = 10] = \"TouchCancel\";\n      return MouseInteractions2;\n    })(MouseInteractions || {});\n    var CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n      CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n      CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n      CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n      return CanvasContext2;\n    })(CanvasContext || {});\n    var MediaInteractions = /* @__PURE__ */ ((MediaInteractions2) => {\n      MediaInteractions2[MediaInteractions2[\"Play\"] = 0] = \"Play\";\n      MediaInteractions2[MediaInteractions2[\"Pause\"] = 1] = \"Pause\";\n      MediaInteractions2[MediaInteractions2[\"Seeked\"] = 2] = \"Seeked\";\n      MediaInteractions2[MediaInteractions2[\"VolumeChange\"] = 3] = \"VolumeChange\";\n      MediaInteractions2[MediaInteractions2[\"RateChange\"] = 4] = \"RateChange\";\n      return MediaInteractions2;\n    })(MediaInteractions || {});\n    var ReplayerEvents = /* @__PURE__ */ ((ReplayerEvents2) => {\n      ReplayerEvents2[\"Start\"] = \"start\";\n      ReplayerEvents2[\"Pause\"] = \"pause\";\n      ReplayerEvents2[\"Resume\"] = \"resume\";\n      ReplayerEvents2[\"Resize\"] = \"resize\";\n      ReplayerEvents2[\"Finish\"] = \"finish\";\n      ReplayerEvents2[\"FullsnapshotRebuilded\"] = \"fullsnapshot-rebuilded\";\n      ReplayerEvents2[\"LoadStylesheetStart\"] = \"load-stylesheet-start\";\n      ReplayerEvents2[\"LoadStylesheetEnd\"] = \"load-stylesheet-end\";\n      ReplayerEvents2[\"SkipStart\"] = \"skip-start\";\n      ReplayerEvents2[\"SkipEnd\"] = \"skip-end\";\n      ReplayerEvents2[\"MouseInteraction\"] = \"mouse-interaction\";\n      ReplayerEvents2[\"EventCast\"] = \"event-cast\";\n      ReplayerEvents2[\"CustomEvent\"] = \"custom-event\";\n      ReplayerEvents2[\"Flush\"] = \"flush\";\n      ReplayerEvents2[\"StateChange\"] = \"state-change\";\n      ReplayerEvents2[\"PlayBack\"] = \"play-back\";\n      ReplayerEvents2[\"Destroy\"] = \"destroy\";\n      return ReplayerEvents2;\n    })(ReplayerEvents || {});\n\n    function isNodeInLinkedList(n) {\n      return \"__ln\" in n;\n    }\n    class DoubleLinkedList {\n      constructor() {\n        this.length = 0;\n        this.head = null;\n      }\n      get(position) {\n        if (position >= this.length) {\n          throw new Error(\"Position outside of list range\");\n        }\n        let current = this.head;\n        for (let index = 0; index < position; index++) {\n          current = (current == null ? void 0 : current.next) || null;\n        }\n        return current;\n      }\n      addNode(n) {\n        const node = {\n          value: n,\n          previous: null,\n          next: null\n        };\n        n.__ln = node;\n        if (n.previousSibling && isNodeInLinkedList(n.previousSibling)) {\n          const current = n.previousSibling.__ln.next;\n          node.next = current;\n          node.previous = n.previousSibling.__ln;\n          n.previousSibling.__ln.next = node;\n          if (current) {\n            current.previous = node;\n          }\n        } else if (n.nextSibling && isNodeInLinkedList(n.nextSibling) && n.nextSibling.__ln.previous) {\n          const current = n.nextSibling.__ln.previous;\n          node.previous = current;\n          node.next = n.nextSibling.__ln;\n          n.nextSibling.__ln.previous = node;\n          if (current) {\n            current.next = node;\n          }\n        } else {\n          if (this.head) {\n            this.head.previous = node;\n          }\n          node.next = this.head;\n          this.head = node;\n        }\n        this.length++;\n      }\n      removeNode(n) {\n        const current = n.__ln;\n        if (!this.head) {\n          return;\n        }\n        if (!current.previous) {\n          this.head = current.next;\n          if (this.head) {\n            this.head.previous = null;\n          }\n        } else {\n          current.previous.next = current.next;\n          if (current.next) {\n            current.next.previous = current.previous;\n          }\n        }\n        if (n.__ln) {\n          delete n.__ln;\n        }\n        this.length--;\n      }\n    }\n    const moveKey = (id, parentId) => `${id}@${parentId}`;\n    class MutationBuffer {\n      constructor() {\n        this.frozen = false;\n        this.locked = false;\n        this.texts = [];\n        this.attributes = [];\n        this.removes = [];\n        this.mapRemoves = [];\n        this.movedMap = {};\n        this.addedSet = /* @__PURE__ */ new Set();\n        this.movedSet = /* @__PURE__ */ new Set();\n        this.droppedSet = /* @__PURE__ */ new Set();\n        this.processMutations = (mutations) => {\n          mutations.forEach(this.processMutation);\n          this.emit();\n        };\n        this.emit = () => {\n          if (this.frozen || this.locked) {\n            return;\n          }\n          const adds = [];\n          const addList = new DoubleLinkedList();\n          const getNextId = (n) => {\n            let ns = n;\n            let nextId = IGNORED_NODE;\n            while (nextId === IGNORED_NODE) {\n              ns = ns && ns.nextSibling;\n              nextId = ns && this.mirror.getId(ns);\n            }\n            return nextId;\n          };\n          const pushAdd = (n) => {\n            var _a, _b, _c, _d;\n            let shadowHost = null;\n            if (((_b = (_a = n.getRootNode) == null ? void 0 : _a.call(n)) == null ? void 0 : _b.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && n.getRootNode().host)\n              shadowHost = n.getRootNode().host;\n            let rootShadowHost = shadowHost;\n            while (((_d = (_c = rootShadowHost == null ? void 0 : rootShadowHost.getRootNode) == null ? void 0 : _c.call(rootShadowHost)) == null ? void 0 : _d.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && rootShadowHost.getRootNode().host)\n              rootShadowHost = rootShadowHost.getRootNode().host;\n            const notInDoc = !this.doc.contains(n) && (!rootShadowHost || !this.doc.contains(rootShadowHost));\n            if (!n.parentNode || notInDoc) {\n              return;\n            }\n            const parentId = isShadowRoot(n.parentNode) ? this.mirror.getId(shadowHost) : this.mirror.getId(n.parentNode);\n            const nextId = getNextId(n);\n            if (parentId === -1 || nextId === -1) {\n              return addList.addNode(n);\n            }\n            const sn = serializeNodeWithId(n, {\n              doc: this.doc,\n              mirror: this.mirror,\n              blockClass: this.blockClass,\n              blockSelector: this.blockSelector,\n              maskTextClass: this.maskTextClass,\n              maskTextSelector: this.maskTextSelector,\n              skipChild: true,\n              newlyAddedElement: true,\n              inlineStylesheet: this.inlineStylesheet,\n              maskInputOptions: this.maskInputOptions,\n              maskTextFn: this.maskTextFn,\n              maskInputFn: this.maskInputFn,\n              slimDOMOptions: this.slimDOMOptions,\n              dataURLOptions: this.dataURLOptions,\n              recordCanvas: this.recordCanvas,\n              inlineImages: this.inlineImages,\n              onSerialize: (currentN) => {\n                if (isSerializedIframe(currentN, this.mirror)) {\n                  this.iframeManager.addIframe(currentN);\n                }\n                if (isSerializedStylesheet(currentN, this.mirror)) {\n                  this.stylesheetManager.trackLinkElement(currentN);\n                }\n                if (hasShadowRoot(n)) {\n                  this.shadowDomManager.addShadowRoot(n.shadowRoot, this.doc);\n                }\n              },\n              onIframeLoad: (iframe, childSn) => {\n                this.iframeManager.attachIframe(iframe, childSn);\n                this.shadowDomManager.observeAttachShadow(iframe);\n              },\n              onStylesheetLoad: (link, childSn) => {\n                this.stylesheetManager.attachLinkElement(link, childSn);\n              }\n            });\n            if (sn) {\n              adds.push({\n                parentId,\n                nextId,\n                node: sn\n              });\n            }\n          };\n          while (this.mapRemoves.length) {\n            this.mirror.removeNodeFromMap(this.mapRemoves.shift());\n          }\n          for (const n of Array.from(this.movedSet.values())) {\n            if (isParentRemoved(this.removes, n, this.mirror) && !this.movedSet.has(n.parentNode)) {\n              continue;\n            }\n            pushAdd(n);\n          }\n          for (const n of Array.from(this.addedSet.values())) {\n            if (!isAncestorInSet(this.droppedSet, n) && !isParentRemoved(this.removes, n, this.mirror)) {\n              pushAdd(n);\n            } else if (isAncestorInSet(this.movedSet, n)) {\n              pushAdd(n);\n            } else {\n              this.droppedSet.add(n);\n            }\n          }\n          let candidate = null;\n          while (addList.length) {\n            let node = null;\n            if (candidate) {\n              const parentId = this.mirror.getId(candidate.value.parentNode);\n              const nextId = getNextId(candidate.value);\n              if (parentId !== -1 && nextId !== -1) {\n                node = candidate;\n              }\n            }\n            if (!node) {\n              for (let index = addList.length - 1; index >= 0; index--) {\n                const _node = addList.get(index);\n                if (_node) {\n                  const parentId = this.mirror.getId(_node.value.parentNode);\n                  const nextId = getNextId(_node.value);\n                  if (nextId === -1)\n                    continue;\n                  else if (parentId !== -1) {\n                    node = _node;\n                    break;\n                  } else {\n                    const unhandledNode = _node.value;\n                    if (unhandledNode.parentNode && unhandledNode.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                      const shadowHost = unhandledNode.parentNode.host;\n                      const parentId2 = this.mirror.getId(shadowHost);\n                      if (parentId2 !== -1) {\n                        node = _node;\n                        break;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n            if (!node) {\n              while (addList.head) {\n                addList.removeNode(addList.head.value);\n              }\n              break;\n            }\n            candidate = node.previous;\n            addList.removeNode(node.value);\n            pushAdd(node.value);\n          }\n          const payload = {\n            texts: this.texts.map((text) => ({\n              id: this.mirror.getId(text.node),\n              value: text.value\n            })).filter((text) => this.mirror.has(text.id)),\n            attributes: this.attributes.map((attribute) => ({\n              id: this.mirror.getId(attribute.node),\n              attributes: attribute.attributes\n            })).filter((attribute) => this.mirror.has(attribute.id)),\n            removes: this.removes,\n            adds\n          };\n          if (!payload.texts.length && !payload.attributes.length && !payload.removes.length && !payload.adds.length) {\n            return;\n          }\n          this.texts = [];\n          this.attributes = [];\n          this.removes = [];\n          this.addedSet = /* @__PURE__ */ new Set();\n          this.movedSet = /* @__PURE__ */ new Set();\n          this.droppedSet = /* @__PURE__ */ new Set();\n          this.movedMap = {};\n          this.mutationCb(payload);\n        };\n        this.processMutation = (m) => {\n          if (isIgnored(m.target, this.mirror)) {\n            return;\n          }\n          switch (m.type) {\n            case \"characterData\": {\n              const value = m.target.textContent;\n              if (!isBlocked(m.target, this.blockClass, this.blockSelector, false) && value !== m.oldValue) {\n                this.texts.push({\n                  value: needMaskingText(m.target, this.maskTextClass, this.maskTextSelector) && value ? this.maskTextFn ? this.maskTextFn(value) : value.replace(/[\\S]/g, \"*\") : value,\n                  node: m.target\n                });\n              }\n              break;\n            }\n            case \"attributes\": {\n              const target = m.target;\n              let value = m.target.getAttribute(m.attributeName);\n              if (m.attributeName === \"value\") {\n                value = maskInputValue({\n                  maskInputOptions: this.maskInputOptions,\n                  tagName: m.target.tagName,\n                  type: m.target.getAttribute(\"type\"),\n                  value,\n                  maskInputFn: this.maskInputFn\n                });\n              }\n              if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || value === m.oldValue) {\n                return;\n              }\n              let item = this.attributes.find((a) => a.node === m.target);\n              if (target.tagName === \"IFRAME\" && m.attributeName === \"src\" && !this.keepIframeSrcFn(value)) {\n                if (!target.contentDocument) {\n                  m.attributeName = \"rr_src\";\n                } else {\n                  return;\n                }\n              }\n              if (!item) {\n                item = {\n                  node: m.target,\n                  attributes: {}\n                };\n                this.attributes.push(item);\n              }\n              if (m.attributeName === \"style\") {\n                const old = this.doc.createElement(\"span\");\n                if (m.oldValue) {\n                  old.setAttribute(\"style\", m.oldValue);\n                }\n                if (item.attributes.style === void 0 || item.attributes.style === null) {\n                  item.attributes.style = {};\n                }\n                const styleObj = item.attributes.style;\n                for (const pname of Array.from(target.style)) {\n                  const newValue = target.style.getPropertyValue(pname);\n                  const newPriority = target.style.getPropertyPriority(pname);\n                  if (newValue !== old.style.getPropertyValue(pname) || newPriority !== old.style.getPropertyPriority(pname)) {\n                    if (newPriority === \"\") {\n                      styleObj[pname] = newValue;\n                    } else {\n                      styleObj[pname] = [newValue, newPriority];\n                    }\n                  }\n                }\n                for (const pname of Array.from(old.style)) {\n                  if (target.style.getPropertyValue(pname) === \"\") {\n                    styleObj[pname] = false;\n                  }\n                }\n              } else {\n                item.attributes[m.attributeName] = transformAttribute(this.doc, target.tagName, m.attributeName, value);\n              }\n              break;\n            }\n            case \"childList\": {\n              if (isBlocked(m.target, this.blockClass, this.blockSelector, true))\n                return;\n              m.addedNodes.forEach((n) => this.genAdds(n, m.target));\n              m.removedNodes.forEach((n) => {\n                const nodeId = this.mirror.getId(n);\n                const parentId = isShadowRoot(m.target) ? this.mirror.getId(m.target.host) : this.mirror.getId(m.target);\n                if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || isIgnored(n, this.mirror) || !isSerialized(n, this.mirror)) {\n                  return;\n                }\n                if (this.addedSet.has(n)) {\n                  deepDelete(this.addedSet, n);\n                  this.droppedSet.add(n);\n                } else if (this.addedSet.has(m.target) && nodeId === -1) ; else if (isAncestorRemoved(m.target, this.mirror)) ; else if (this.movedSet.has(n) && this.movedMap[moveKey(nodeId, parentId)]) {\n                  deepDelete(this.movedSet, n);\n                } else {\n                  this.removes.push({\n                    parentId,\n                    id: nodeId,\n                    isShadow: isShadowRoot(m.target) && isNativeShadowDom(m.target) ? true : void 0\n                  });\n                }\n                this.mapRemoves.push(n);\n              });\n              break;\n            }\n          }\n        };\n        this.genAdds = (n, target) => {\n          if (this.mirror.hasNode(n)) {\n            if (isIgnored(n, this.mirror)) {\n              return;\n            }\n            this.movedSet.add(n);\n            let targetId = null;\n            if (target && this.mirror.hasNode(target)) {\n              targetId = this.mirror.getId(target);\n            }\n            if (targetId && targetId !== -1) {\n              this.movedMap[moveKey(this.mirror.getId(n), targetId)] = true;\n            }\n          } else {\n            this.addedSet.add(n);\n            this.droppedSet.delete(n);\n          }\n          if (!isBlocked(n, this.blockClass, this.blockSelector, false))\n            n.childNodes.forEach((childN) => this.genAdds(childN));\n        };\n      }\n      init(options) {\n        [\n          \"mutationCb\",\n          \"blockClass\",\n          \"blockSelector\",\n          \"maskTextClass\",\n          \"maskTextSelector\",\n          \"inlineStylesheet\",\n          \"maskInputOptions\",\n          \"maskTextFn\",\n          \"maskInputFn\",\n          \"keepIframeSrcFn\",\n          \"recordCanvas\",\n          \"inlineImages\",\n          \"slimDOMOptions\",\n          \"dataURLOptions\",\n          \"doc\",\n          \"mirror\",\n          \"iframeManager\",\n          \"stylesheetManager\",\n          \"shadowDomManager\",\n          \"canvasManager\"\n        ].forEach((key) => {\n          this[key] = options[key];\n        });\n      }\n      freeze() {\n        this.frozen = true;\n        this.canvasManager.freeze();\n      }\n      unfreeze() {\n        this.frozen = false;\n        this.canvasManager.unfreeze();\n        this.emit();\n      }\n      isFrozen() {\n        return this.frozen;\n      }\n      lock() {\n        this.locked = true;\n        this.canvasManager.lock();\n      }\n      unlock() {\n        this.locked = false;\n        this.canvasManager.unlock();\n        this.emit();\n      }\n      reset() {\n        this.shadowDomManager.reset();\n        this.canvasManager.reset();\n      }\n    }\n    function deepDelete(addsSet, n) {\n      addsSet.delete(n);\n      n.childNodes.forEach((childN) => deepDelete(addsSet, childN));\n    }\n    function isParentRemoved(removes, n, mirror) {\n      if (removes.length === 0)\n        return false;\n      return _isParentRemoved(removes, n, mirror);\n    }\n    function _isParentRemoved(removes, n, mirror) {\n      const { parentNode } = n;\n      if (!parentNode) {\n        return false;\n      }\n      const parentId = mirror.getId(parentNode);\n      if (removes.some((r) => r.id === parentId)) {\n        return true;\n      }\n      return _isParentRemoved(removes, parentNode, mirror);\n    }\n    function isAncestorInSet(set, n) {\n      if (set.size === 0)\n        return false;\n      return _isAncestorInSet(set, n);\n    }\n    function _isAncestorInSet(set, n) {\n      const { parentNode } = n;\n      if (!parentNode) {\n        return false;\n      }\n      if (set.has(parentNode)) {\n        return true;\n      }\n      return _isAncestorInSet(set, parentNode);\n    }\n\n    var __defProp$5 = Object.defineProperty;\n    var __defProps$5 = Object.defineProperties;\n    var __getOwnPropDescs$5 = Object.getOwnPropertyDescriptors;\n    var __getOwnPropSymbols$6 = Object.getOwnPropertySymbols;\n    var __hasOwnProp$6 = Object.prototype.hasOwnProperty;\n    var __propIsEnum$6 = Object.prototype.propertyIsEnumerable;\n    var __defNormalProp$5 = (obj, key, value) => key in obj ? __defProp$5(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\n    var __spreadValues$5 = (a, b) => {\n      for (var prop in b || (b = {}))\n        if (__hasOwnProp$6.call(b, prop))\n          __defNormalProp$5(a, prop, b[prop]);\n      if (__getOwnPropSymbols$6)\n        for (var prop of __getOwnPropSymbols$6(b)) {\n          if (__propIsEnum$6.call(b, prop))\n            __defNormalProp$5(a, prop, b[prop]);\n        }\n      return a;\n    };\n    var __spreadProps$5 = (a, b) => __defProps$5(a, __getOwnPropDescs$5(b));\n    const mutationBuffers = [];\n    const isCSSGroupingRuleSupported = typeof CSSGroupingRule !== \"undefined\";\n    const isCSSMediaRuleSupported = typeof CSSMediaRule !== \"undefined\";\n    const isCSSSupportsRuleSupported = typeof CSSSupportsRule !== \"undefined\";\n    const isCSSConditionRuleSupported = typeof CSSConditionRule !== \"undefined\";\n    function getEventTarget(event) {\n      try {\n        if (\"composedPath\" in event) {\n          const path = event.composedPath();\n          if (path.length) {\n            return path[0];\n          }\n        } else if (\"path\" in event && event.path.length) {\n          return event.path[0];\n        }\n        return event.target;\n      } catch (e) {\n        return event.target;\n      }\n    }\n    function initMutationObserver(options, rootEl) {\n      var _a, _b;\n      const mutationBuffer = new MutationBuffer();\n      mutationBuffers.push(mutationBuffer);\n      mutationBuffer.init(options);\n      let mutationObserverCtor = window.MutationObserver || window.__rrMutationObserver;\n      const angularZoneSymbol = (_b = (_a = window == null ? void 0 : window.Zone) == null ? void 0 : _a.__symbol__) == null ? void 0 : _b.call(_a, \"MutationObserver\");\n      if (angularZoneSymbol && window[angularZoneSymbol]) {\n        mutationObserverCtor = window[angularZoneSymbol];\n      }\n      const observer = new mutationObserverCtor(mutationBuffer.processMutations.bind(mutationBuffer));\n      observer.observe(rootEl, {\n        attributes: true,\n        attributeOldValue: true,\n        characterData: true,\n        characterDataOldValue: true,\n        childList: true,\n        subtree: true\n      });\n      return observer;\n    }\n    function initMoveObserver({\n      mousemoveCb,\n      sampling,\n      doc,\n      mirror\n    }) {\n      if (sampling.mousemove === false) {\n        return () => {\n        };\n      }\n      const threshold = typeof sampling.mousemove === \"number\" ? sampling.mousemove : 50;\n      const callbackThreshold = typeof sampling.mousemoveCallback === \"number\" ? sampling.mousemoveCallback : 500;\n      let positions = [];\n      let timeBaseline;\n      const wrappedCb = throttle((source) => {\n        const totalOffset = Date.now() - timeBaseline;\n        mousemoveCb(positions.map((p) => {\n          p.timeOffset -= totalOffset;\n          return p;\n        }), source);\n        positions = [];\n        timeBaseline = null;\n      }, callbackThreshold);\n      const updatePosition = throttle((evt) => {\n        const target = getEventTarget(evt);\n        const { clientX, clientY } = isTouchEvent(evt) ? evt.changedTouches[0] : evt;\n        if (!timeBaseline) {\n          timeBaseline = Date.now();\n        }\n        positions.push({\n          x: clientX,\n          y: clientY,\n          id: mirror.getId(target),\n          timeOffset: Date.now() - timeBaseline\n        });\n        wrappedCb(typeof DragEvent !== \"undefined\" && evt instanceof DragEvent ? IncrementalSource.Drag : evt instanceof MouseEvent ? IncrementalSource.MouseMove : IncrementalSource.TouchMove);\n      }, threshold, {\n        trailing: false\n      });\n      const handlers = [\n        on(\"mousemove\", updatePosition, doc),\n        on(\"touchmove\", updatePosition, doc),\n        on(\"drag\", updatePosition, doc)\n      ];\n      return () => {\n        handlers.forEach((h) => h());\n      };\n    }\n    function initMouseInteractionObserver({\n      mouseInteractionCb,\n      doc,\n      mirror,\n      blockClass,\n      blockSelector,\n      sampling\n    }) {\n      if (sampling.mouseInteraction === false) {\n        return () => {\n        };\n      }\n      const disableMap = sampling.mouseInteraction === true || sampling.mouseInteraction === void 0 ? {} : sampling.mouseInteraction;\n      const handlers = [];\n      const getHandler = (eventKey) => {\n        return (event) => {\n          const target = getEventTarget(event);\n          if (isBlocked(target, blockClass, blockSelector, true)) {\n            return;\n          }\n          const e = isTouchEvent(event) ? event.changedTouches[0] : event;\n          if (!e) {\n            return;\n          }\n          const id = mirror.getId(target);\n          const { clientX, clientY } = e;\n          mouseInteractionCb({\n            type: MouseInteractions[eventKey],\n            id,\n            x: clientX,\n            y: clientY\n          });\n        };\n      };\n      Object.keys(MouseInteractions).filter((key) => Number.isNaN(Number(key)) && !key.endsWith(\"_Departed\") && disableMap[key] !== false).forEach((eventKey) => {\n        const eventName = eventKey.toLowerCase();\n        const handler = getHandler(eventKey);\n        handlers.push(on(eventName, handler, doc));\n      });\n      return () => {\n        handlers.forEach((h) => h());\n      };\n    }\n    function initScrollObserver({\n      scrollCb,\n      doc,\n      mirror,\n      blockClass,\n      blockSelector,\n      sampling\n    }) {\n      const updatePosition = throttle((evt) => {\n        const target = getEventTarget(evt);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const id = mirror.getId(target);\n        if (target === doc) {\n          const scrollEl = doc.scrollingElement || doc.documentElement;\n          scrollCb({\n            id,\n            x: scrollEl.scrollLeft,\n            y: scrollEl.scrollTop\n          });\n        } else {\n          scrollCb({\n            id,\n            x: target.scrollLeft,\n            y: target.scrollTop\n          });\n        }\n      }, sampling.scroll || 100);\n      return on(\"scroll\", updatePosition, doc);\n    }\n    function initViewportResizeObserver({\n      viewportResizeCb\n    }) {\n      let lastH = -1;\n      let lastW = -1;\n      const updateDimension = throttle(() => {\n        const height = getWindowHeight();\n        const width = getWindowWidth();\n        if (lastH !== height || lastW !== width) {\n          viewportResizeCb({\n            width: Number(width),\n            height: Number(height)\n          });\n          lastH = height;\n          lastW = width;\n        }\n      }, 200);\n      return on(\"resize\", updateDimension, window);\n    }\n    function wrapEventWithUserTriggeredFlag(v, enable) {\n      const value = __spreadValues$5({}, v);\n      if (!enable)\n        delete value.userTriggered;\n      return value;\n    }\n    const INPUT_TAGS = [\"INPUT\", \"TEXTAREA\", \"SELECT\"];\n    const lastInputValueMap = /* @__PURE__ */ new WeakMap();\n    function initInputObserver({\n      inputCb,\n      doc,\n      mirror,\n      blockClass,\n      blockSelector,\n      ignoreClass,\n      maskInputOptions,\n      maskInputFn,\n      sampling,\n      userTriggeredOnInput\n    }) {\n      function eventHandler(event) {\n        let target = getEventTarget(event);\n        const userTriggered = event.isTrusted;\n        if (target && target.tagName === \"OPTION\")\n          target = target.parentElement;\n        if (!target || !target.tagName || INPUT_TAGS.indexOf(target.tagName) < 0 || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const type = target.type;\n        if (target.classList.contains(ignoreClass)) {\n          return;\n        }\n        let text = target.value;\n        let isChecked = false;\n        if (type === \"radio\" || type === \"checkbox\") {\n          isChecked = target.checked;\n        } else if (maskInputOptions[target.tagName.toLowerCase()] || maskInputOptions[type]) {\n          text = maskInputValue({\n            maskInputOptions,\n            tagName: target.tagName,\n            type,\n            value: text,\n            maskInputFn\n          });\n        }\n        cbWithDedup(target, wrapEventWithUserTriggeredFlag({ text, isChecked, userTriggered }, userTriggeredOnInput));\n        const name = target.name;\n        if (type === \"radio\" && name && isChecked) {\n          doc.querySelectorAll(`input[type=\"radio\"][name=\"${name}\"]`).forEach((el) => {\n            if (el !== target) {\n              cbWithDedup(el, wrapEventWithUserTriggeredFlag({\n                text: el.value,\n                isChecked: !isChecked,\n                userTriggered: false\n              }, userTriggeredOnInput));\n            }\n          });\n        }\n      }\n      function cbWithDedup(target, v) {\n        const lastInputValue = lastInputValueMap.get(target);\n        if (!lastInputValue || lastInputValue.text !== v.text || lastInputValue.isChecked !== v.isChecked) {\n          lastInputValueMap.set(target, v);\n          const id = mirror.getId(target);\n          inputCb(__spreadProps$5(__spreadValues$5({}, v), {\n            id\n          }));\n        }\n      }\n      const events = sampling.input === \"last\" ? [\"change\"] : [\"input\", \"change\"];\n      const handlers = events.map((eventName) => on(eventName, eventHandler, doc));\n      const currentWindow = doc.defaultView;\n      if (!currentWindow) {\n        return () => {\n          handlers.forEach((h) => h());\n        };\n      }\n      const propertyDescriptor = currentWindow.Object.getOwnPropertyDescriptor(currentWindow.HTMLInputElement.prototype, \"value\");\n      const hookProperties = [\n        [currentWindow.HTMLInputElement.prototype, \"value\"],\n        [currentWindow.HTMLInputElement.prototype, \"checked\"],\n        [currentWindow.HTMLSelectElement.prototype, \"value\"],\n        [currentWindow.HTMLTextAreaElement.prototype, \"value\"],\n        [currentWindow.HTMLSelectElement.prototype, \"selectedIndex\"],\n        [currentWindow.HTMLOptionElement.prototype, \"selected\"]\n      ];\n      if (propertyDescriptor && propertyDescriptor.set) {\n        handlers.push(...hookProperties.map((p) => hookSetter(p[0], p[1], {\n          set() {\n            eventHandler({ target: this });\n          }\n        }, false, currentWindow)));\n      }\n      return () => {\n        handlers.forEach((h) => h());\n      };\n    }\n    function getNestedCSSRulePositions(rule) {\n      const positions = [];\n      function recurse(childRule, pos) {\n        if (isCSSGroupingRuleSupported && childRule.parentRule instanceof CSSGroupingRule || isCSSMediaRuleSupported && childRule.parentRule instanceof CSSMediaRule || isCSSSupportsRuleSupported && childRule.parentRule instanceof CSSSupportsRule || isCSSConditionRuleSupported && childRule.parentRule instanceof CSSConditionRule) {\n          const rules = Array.from(childRule.parentRule.cssRules);\n          const index = rules.indexOf(childRule);\n          pos.unshift(index);\n        } else if (childRule.parentStyleSheet) {\n          const rules = Array.from(childRule.parentStyleSheet.cssRules);\n          const index = rules.indexOf(childRule);\n          pos.unshift(index);\n        }\n        return pos;\n      }\n      return recurse(rule, positions);\n    }\n    function getIdAndStyleId(sheet, mirror, styleMirror) {\n      let id, styleId;\n      if (!sheet)\n        return {};\n      if (sheet.ownerNode)\n        id = mirror.getId(sheet.ownerNode);\n      else\n        styleId = styleMirror.getId(sheet);\n      return {\n        styleId,\n        id\n      };\n    }\n    function initStyleSheetObserver({ styleSheetRuleCb, mirror, stylesheetManager }, { win }) {\n      const insertRule = win.CSSStyleSheet.prototype.insertRule;\n      win.CSSStyleSheet.prototype.insertRule = function(rule, index) {\n        const { id, styleId } = getIdAndStyleId(this, mirror, stylesheetManager.styleMirror);\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            adds: [{ rule, index }]\n          });\n        }\n        return insertRule.apply(this, [rule, index]);\n      };\n      const deleteRule = win.CSSStyleSheet.prototype.deleteRule;\n      win.CSSStyleSheet.prototype.deleteRule = function(index) {\n        const { id, styleId } = getIdAndStyleId(this, mirror, stylesheetManager.styleMirror);\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            removes: [{ index }]\n          });\n        }\n        return deleteRule.apply(this, [index]);\n      };\n      let replace;\n      if (win.CSSStyleSheet.prototype.replace) {\n        replace = win.CSSStyleSheet.prototype.replace;\n        win.CSSStyleSheet.prototype.replace = function(text) {\n          const { id, styleId } = getIdAndStyleId(this, mirror, stylesheetManager.styleMirror);\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replace: text\n            });\n          }\n          return replace.apply(this, [text]);\n        };\n      }\n      let replaceSync;\n      if (win.CSSStyleSheet.prototype.replaceSync) {\n        replaceSync = win.CSSStyleSheet.prototype.replaceSync;\n        win.CSSStyleSheet.prototype.replaceSync = function(text) {\n          const { id, styleId } = getIdAndStyleId(this, mirror, stylesheetManager.styleMirror);\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replaceSync: text\n            });\n          }\n          return replaceSync.apply(this, [text]);\n        };\n      }\n      const supportedNestedCSSRuleTypes = {};\n      if (isCSSGroupingRuleSupported) {\n        supportedNestedCSSRuleTypes.CSSGroupingRule = win.CSSGroupingRule;\n      } else {\n        if (isCSSMediaRuleSupported) {\n          supportedNestedCSSRuleTypes.CSSMediaRule = win.CSSMediaRule;\n        }\n        if (isCSSConditionRuleSupported) {\n          supportedNestedCSSRuleTypes.CSSConditionRule = win.CSSConditionRule;\n        }\n        if (isCSSSupportsRuleSupported) {\n          supportedNestedCSSRuleTypes.CSSSupportsRule = win.CSSSupportsRule;\n        }\n      }\n      const unmodifiedFunctions = {};\n      Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n        unmodifiedFunctions[typeKey] = {\n          insertRule: type.prototype.insertRule,\n          deleteRule: type.prototype.deleteRule\n        };\n        type.prototype.insertRule = function(rule, index) {\n          const { id, styleId } = getIdAndStyleId(this.parentStyleSheet, mirror, stylesheetManager.styleMirror);\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              adds: [\n                {\n                  rule,\n                  index: [\n                    ...getNestedCSSRulePositions(this),\n                    index || 0\n                  ]\n                }\n              ]\n            });\n          }\n          return unmodifiedFunctions[typeKey].insertRule.apply(this, [rule, index]);\n        };\n        type.prototype.deleteRule = function(index) {\n          const { id, styleId } = getIdAndStyleId(this.parentStyleSheet, mirror, stylesheetManager.styleMirror);\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              removes: [\n                { index: [...getNestedCSSRulePositions(this), index] }\n              ]\n            });\n          }\n          return unmodifiedFunctions[typeKey].deleteRule.apply(this, [index]);\n        };\n      });\n      return () => {\n        win.CSSStyleSheet.prototype.insertRule = insertRule;\n        win.CSSStyleSheet.prototype.deleteRule = deleteRule;\n        replace && (win.CSSStyleSheet.prototype.replace = replace);\n        replaceSync && (win.CSSStyleSheet.prototype.replaceSync = replaceSync);\n        Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n          type.prototype.insertRule = unmodifiedFunctions[typeKey].insertRule;\n          type.prototype.deleteRule = unmodifiedFunctions[typeKey].deleteRule;\n        });\n      };\n    }\n    function initAdoptedStyleSheetObserver({\n      mirror,\n      stylesheetManager\n    }, host) {\n      var _a, _b, _c;\n      let hostId = null;\n      if (host.nodeName === \"#document\")\n        hostId = mirror.getId(host);\n      else\n        hostId = mirror.getId(host.host);\n      const patchTarget = host.nodeName === \"#document\" ? (_a = host.defaultView) == null ? void 0 : _a.Document : (_c = (_b = host.ownerDocument) == null ? void 0 : _b.defaultView) == null ? void 0 : _c.ShadowRoot;\n      const originalPropertyDescriptor = Object.getOwnPropertyDescriptor(patchTarget == null ? void 0 : patchTarget.prototype, \"adoptedStyleSheets\");\n      if (hostId === null || hostId === -1 || !patchTarget || !originalPropertyDescriptor)\n        return () => {\n        };\n      Object.defineProperty(host, \"adoptedStyleSheets\", {\n        configurable: originalPropertyDescriptor.configurable,\n        enumerable: originalPropertyDescriptor.enumerable,\n        get() {\n          var _a2;\n          return (_a2 = originalPropertyDescriptor.get) == null ? void 0 : _a2.call(this);\n        },\n        set(sheets) {\n          var _a2;\n          const result = (_a2 = originalPropertyDescriptor.set) == null ? void 0 : _a2.call(this, sheets);\n          if (hostId !== null && hostId !== -1) {\n            try {\n              stylesheetManager.adoptStyleSheets(sheets, hostId);\n            } catch (e) {\n            }\n          }\n          return result;\n        }\n      });\n      return () => {\n        Object.defineProperty(host, \"adoptedStyleSheets\", {\n          configurable: originalPropertyDescriptor.configurable,\n          enumerable: originalPropertyDescriptor.enumerable,\n          get: originalPropertyDescriptor.get,\n          set: originalPropertyDescriptor.set\n        });\n      };\n    }\n    function initStyleDeclarationObserver({\n      styleDeclarationCb,\n      mirror,\n      ignoreCSSAttributes,\n      stylesheetManager\n    }, { win }) {\n      const setProperty = win.CSSStyleDeclaration.prototype.setProperty;\n      win.CSSStyleDeclaration.prototype.setProperty = function(property, value, priority) {\n        var _a;\n        if (ignoreCSSAttributes.has(property)) {\n          return setProperty.apply(this, [property, value, priority]);\n        }\n        const { id, styleId } = getIdAndStyleId((_a = this.parentRule) == null ? void 0 : _a.parentStyleSheet, mirror, stylesheetManager.styleMirror);\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            set: {\n              property,\n              value,\n              priority\n            },\n            index: getNestedCSSRulePositions(this.parentRule)\n          });\n        }\n        return setProperty.apply(this, [property, value, priority]);\n      };\n      const removeProperty = win.CSSStyleDeclaration.prototype.removeProperty;\n      win.CSSStyleDeclaration.prototype.removeProperty = function(property) {\n        var _a;\n        if (ignoreCSSAttributes.has(property)) {\n          return removeProperty.apply(this, [property]);\n        }\n        const { id, styleId } = getIdAndStyleId((_a = this.parentRule) == null ? void 0 : _a.parentStyleSheet, mirror, stylesheetManager.styleMirror);\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            remove: {\n              property\n            },\n            index: getNestedCSSRulePositions(this.parentRule)\n          });\n        }\n        return removeProperty.apply(this, [property]);\n      };\n      return () => {\n        win.CSSStyleDeclaration.prototype.setProperty = setProperty;\n        win.CSSStyleDeclaration.prototype.removeProperty = removeProperty;\n      };\n    }\n    function initMediaInteractionObserver({\n      mediaInteractionCb,\n      blockClass,\n      blockSelector,\n      mirror,\n      sampling\n    }) {\n      const handler = (type) => throttle((event) => {\n        const target = getEventTarget(event);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const {\n          currentTime,\n          volume,\n          muted,\n          playbackRate\n        } = target;\n        mediaInteractionCb({\n          type,\n          id: mirror.getId(target),\n          currentTime,\n          volume,\n          muted,\n          playbackRate\n        });\n      }, sampling.media || 500);\n      const handlers = [\n        on(\"play\", handler(MediaInteractions.Play)),\n        on(\"pause\", handler(MediaInteractions.Pause)),\n        on(\"seeked\", handler(MediaInteractions.Seeked)),\n        on(\"volumechange\", handler(MediaInteractions.VolumeChange)),\n        on(\"ratechange\", handler(MediaInteractions.RateChange))\n      ];\n      return () => {\n        handlers.forEach((h) => h());\n      };\n    }\n    function initFontObserver({ fontCb, doc }) {\n      const win = doc.defaultView;\n      if (!win) {\n        return () => {\n        };\n      }\n      const handlers = [];\n      const fontMap = /* @__PURE__ */ new WeakMap();\n      const originalFontFace = win.FontFace;\n      win.FontFace = function FontFace(family, source, descriptors) {\n        const fontFace = new originalFontFace(family, source, descriptors);\n        fontMap.set(fontFace, {\n          family,\n          buffer: typeof source !== \"string\",\n          descriptors,\n          fontSource: typeof source === \"string\" ? source : JSON.stringify(Array.from(new Uint8Array(source)))\n        });\n        return fontFace;\n      };\n      const restoreHandler = patch(doc.fonts, \"add\", function(original) {\n        return function(fontFace) {\n          setTimeout(() => {\n            const p = fontMap.get(fontFace);\n            if (p) {\n              fontCb(p);\n              fontMap.delete(fontFace);\n            }\n          }, 0);\n          return original.apply(this, [fontFace]);\n        };\n      });\n      handlers.push(() => {\n        win.FontFace = originalFontFace;\n      });\n      handlers.push(restoreHandler);\n      return () => {\n        handlers.forEach((h) => h());\n      };\n    }\n    function initSelectionObserver(param) {\n      const { doc, mirror, blockClass, blockSelector, selectionCb } = param;\n      let collapsed = true;\n      const updateSelection = () => {\n        const selection = doc.getSelection();\n        if (!selection || collapsed && (selection == null ? void 0 : selection.isCollapsed))\n          return;\n        collapsed = selection.isCollapsed || false;\n        const ranges = [];\n        const count = selection.rangeCount || 0;\n        for (let i = 0; i < count; i++) {\n          const range = selection.getRangeAt(i);\n          const { startContainer, startOffset, endContainer, endOffset } = range;\n          const blocked = isBlocked(startContainer, blockClass, blockSelector, true) || isBlocked(endContainer, blockClass, blockSelector, true);\n          if (blocked)\n            continue;\n          ranges.push({\n            start: mirror.getId(startContainer),\n            startOffset,\n            end: mirror.getId(endContainer),\n            endOffset\n          });\n        }\n        selectionCb({ ranges });\n      };\n      updateSelection();\n      return on(\"selectionchange\", updateSelection);\n    }\n    function mergeHooks(o, hooks) {\n      const {\n        mutationCb,\n        mousemoveCb,\n        mouseInteractionCb,\n        scrollCb,\n        viewportResizeCb,\n        inputCb,\n        mediaInteractionCb,\n        styleSheetRuleCb,\n        styleDeclarationCb,\n        canvasMutationCb,\n        fontCb,\n        selectionCb\n      } = o;\n      o.mutationCb = (...p) => {\n        if (hooks.mutation) {\n          hooks.mutation(...p);\n        }\n        mutationCb(...p);\n      };\n      o.mousemoveCb = (...p) => {\n        if (hooks.mousemove) {\n          hooks.mousemove(...p);\n        }\n        mousemoveCb(...p);\n      };\n      o.mouseInteractionCb = (...p) => {\n        if (hooks.mouseInteraction) {\n          hooks.mouseInteraction(...p);\n        }\n        mouseInteractionCb(...p);\n      };\n      o.scrollCb = (...p) => {\n        if (hooks.scroll) {\n          hooks.scroll(...p);\n        }\n        scrollCb(...p);\n      };\n      o.viewportResizeCb = (...p) => {\n        if (hooks.viewportResize) {\n          hooks.viewportResize(...p);\n        }\n        viewportResizeCb(...p);\n      };\n      o.inputCb = (...p) => {\n        if (hooks.input) {\n          hooks.input(...p);\n        }\n        inputCb(...p);\n      };\n      o.mediaInteractionCb = (...p) => {\n        if (hooks.mediaInteaction) {\n          hooks.mediaInteaction(...p);\n        }\n        mediaInteractionCb(...p);\n      };\n      o.styleSheetRuleCb = (...p) => {\n        if (hooks.styleSheetRule) {\n          hooks.styleSheetRule(...p);\n        }\n        styleSheetRuleCb(...p);\n      };\n      o.styleDeclarationCb = (...p) => {\n        if (hooks.styleDeclaration) {\n          hooks.styleDeclaration(...p);\n        }\n        styleDeclarationCb(...p);\n      };\n      o.canvasMutationCb = (...p) => {\n        if (hooks.canvasMutation) {\n          hooks.canvasMutation(...p);\n        }\n        canvasMutationCb(...p);\n      };\n      o.fontCb = (...p) => {\n        if (hooks.font) {\n          hooks.font(...p);\n        }\n        fontCb(...p);\n      };\n      o.selectionCb = (...p) => {\n        if (hooks.selection) {\n          hooks.selection(...p);\n        }\n        selectionCb(...p);\n      };\n    }\n    function initObservers(o, hooks = {}) {\n      const currentWindow = o.doc.defaultView;\n      if (!currentWindow) {\n        return () => {\n        };\n      }\n      mergeHooks(o, hooks);\n      const mutationObserver = initMutationObserver(o, o.doc);\n      const mousemoveHandler = initMoveObserver(o);\n      const mouseInteractionHandler = initMouseInteractionObserver(o);\n      const scrollHandler = initScrollObserver(o);\n      const viewportResizeHandler = initViewportResizeObserver(o);\n      const inputHandler = initInputObserver(o);\n      const mediaInteractionHandler = initMediaInteractionObserver(o);\n      const styleSheetObserver = initStyleSheetObserver(o, { win: currentWindow });\n      const adoptedStyleSheetObserver = initAdoptedStyleSheetObserver(o, o.doc);\n      const styleDeclarationObserver = initStyleDeclarationObserver(o, {\n        win: currentWindow\n      });\n      const fontObserver = o.collectFonts ? initFontObserver(o) : () => {\n      };\n      const selectionObserver = initSelectionObserver(o);\n      const pluginHandlers = [];\n      for (const plugin of o.plugins) {\n        pluginHandlers.push(plugin.observer(plugin.callback, currentWindow, plugin.options));\n      }\n      return () => {\n        mutationBuffers.forEach((b) => b.reset());\n        mutationObserver.disconnect();\n        mousemoveHandler();\n        mouseInteractionHandler();\n        scrollHandler();\n        viewportResizeHandler();\n        inputHandler();\n        mediaInteractionHandler();\n        styleSheetObserver();\n        adoptedStyleSheetObserver();\n        styleDeclarationObserver();\n        fontObserver();\n        selectionObserver();\n        pluginHandlers.forEach((h) => h());\n      };\n    }\n\n    class CrossOriginIframeMirror {\n      constructor(generateIdFn) {\n        this.generateIdFn = generateIdFn;\n        this.iframeIdToRemoteIdMap = /* @__PURE__ */ new WeakMap();\n        this.iframeRemoteIdToIdMap = /* @__PURE__ */ new WeakMap();\n      }\n      getId(iframe, remoteId, idToRemoteMap, remoteToIdMap) {\n        const idToRemoteIdMap = idToRemoteMap || this.getIdToRemoteIdMap(iframe);\n        const remoteIdToIdMap = remoteToIdMap || this.getRemoteIdToIdMap(iframe);\n        let id = idToRemoteIdMap.get(remoteId);\n        if (!id) {\n          id = this.generateIdFn();\n          idToRemoteIdMap.set(remoteId, id);\n          remoteIdToIdMap.set(id, remoteId);\n        }\n        return id;\n      }\n      getIds(iframe, remoteId) {\n        const idToRemoteIdMap = this.getIdToRemoteIdMap(iframe);\n        const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n        return remoteId.map((id) => this.getId(iframe, id, idToRemoteIdMap, remoteIdToIdMap));\n      }\n      getRemoteId(iframe, id, map) {\n        const remoteIdToIdMap = map || this.getRemoteIdToIdMap(iframe);\n        if (typeof id !== \"number\")\n          return id;\n        const remoteId = remoteIdToIdMap.get(id);\n        if (!remoteId)\n          return -1;\n        return remoteId;\n      }\n      getRemoteIds(iframe, ids) {\n        const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n        return ids.map((id) => this.getRemoteId(iframe, id, remoteIdToIdMap));\n      }\n      reset(iframe) {\n        if (!iframe) {\n          this.iframeIdToRemoteIdMap = /* @__PURE__ */ new WeakMap();\n          this.iframeRemoteIdToIdMap = /* @__PURE__ */ new WeakMap();\n          return;\n        }\n        this.iframeIdToRemoteIdMap.delete(iframe);\n        this.iframeRemoteIdToIdMap.delete(iframe);\n      }\n      getIdToRemoteIdMap(iframe) {\n        let idToRemoteIdMap = this.iframeIdToRemoteIdMap.get(iframe);\n        if (!idToRemoteIdMap) {\n          idToRemoteIdMap = /* @__PURE__ */ new Map();\n          this.iframeIdToRemoteIdMap.set(iframe, idToRemoteIdMap);\n        }\n        return idToRemoteIdMap;\n      }\n      getRemoteIdToIdMap(iframe) {\n        let remoteIdToIdMap = this.iframeRemoteIdToIdMap.get(iframe);\n        if (!remoteIdToIdMap) {\n          remoteIdToIdMap = /* @__PURE__ */ new Map();\n          this.iframeRemoteIdToIdMap.set(iframe, remoteIdToIdMap);\n        }\n        return remoteIdToIdMap;\n      }\n    }\n\n    class IframeManager {\n      constructor(options) {\n        this.iframes = /* @__PURE__ */ new WeakMap();\n        this.crossOriginIframeMap = /* @__PURE__ */ new WeakMap();\n        this.crossOriginIframeMirror = new CrossOriginIframeMirror(genId);\n        this.mutationCb = options.mutationCb;\n        this.wrappedEmit = options.wrappedEmit;\n        this.stylesheetManager = options.stylesheetManager;\n        this.recordCrossOriginIframes = options.recordCrossOriginIframes;\n        this.crossOriginIframeStyleMirror = new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror));\n        this.mirror = options.mirror;\n        if (this.recordCrossOriginIframes) {\n          window.addEventListener(\"message\", this.handleMessage.bind(this));\n        }\n      }\n      addIframe(iframeEl) {\n        this.iframes.set(iframeEl, true);\n        if (iframeEl.contentWindow)\n          this.crossOriginIframeMap.set(iframeEl.contentWindow, iframeEl);\n      }\n      addLoadListener(cb) {\n        this.loadListener = cb;\n      }\n      attachIframe(iframeEl, childSn) {\n        var _a;\n        this.mutationCb({\n          adds: [\n            {\n              parentId: this.mirror.getId(iframeEl),\n              nextId: null,\n              node: childSn\n            }\n          ],\n          removes: [],\n          texts: [],\n          attributes: [],\n          isAttachIframe: true\n        });\n        (_a = this.loadListener) == null ? void 0 : _a.call(this, iframeEl);\n        if (iframeEl.contentDocument && iframeEl.contentDocument.adoptedStyleSheets && iframeEl.contentDocument.adoptedStyleSheets.length > 0)\n          this.stylesheetManager.adoptStyleSheets(iframeEl.contentDocument.adoptedStyleSheets, this.mirror.getId(iframeEl.contentDocument));\n      }\n      handleMessage(message) {\n        if (message.data.type === \"rrweb\") {\n          const iframeSourceWindow = message.source;\n          if (!iframeSourceWindow)\n            return;\n          const iframeEl = this.crossOriginIframeMap.get(message.source);\n          if (!iframeEl)\n            return;\n          const transformedEvent = this.transformCrossOriginEvent(iframeEl, message.data.event);\n          if (transformedEvent)\n            this.wrappedEmit(transformedEvent, message.data.isCheckout);\n        }\n      }\n      transformCrossOriginEvent(iframeEl, e) {\n        var _a;\n        switch (e.type) {\n          case EventType.FullSnapshot: {\n            this.crossOriginIframeMirror.reset(iframeEl);\n            this.crossOriginIframeStyleMirror.reset(iframeEl);\n            this.replaceIdOnNode(e.data.node, iframeEl);\n            return {\n              timestamp: e.timestamp,\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.Mutation,\n                adds: [\n                  {\n                    parentId: this.mirror.getId(iframeEl),\n                    nextId: null,\n                    node: e.data.node\n                  }\n                ],\n                removes: [],\n                texts: [],\n                attributes: [],\n                isAttachIframe: true\n              }\n            };\n          }\n          case EventType.Meta:\n          case EventType.Load:\n          case EventType.DomContentLoaded: {\n            return false;\n          }\n          case EventType.Plugin: {\n            return e;\n          }\n          case EventType.Custom: {\n            this.replaceIds(e.data.payload, iframeEl, [\"id\", \"parentId\", \"previousId\", \"nextId\"]);\n            return e;\n          }\n          case EventType.IncrementalSnapshot: {\n            switch (e.data.source) {\n              case IncrementalSource.Mutation: {\n                e.data.adds.forEach((n) => {\n                  this.replaceIds(n, iframeEl, [\n                    \"parentId\",\n                    \"nextId\",\n                    \"previousId\"\n                  ]);\n                  this.replaceIdOnNode(n.node, iframeEl);\n                });\n                e.data.removes.forEach((n) => {\n                  this.replaceIds(n, iframeEl, [\"parentId\", \"id\"]);\n                });\n                e.data.attributes.forEach((n) => {\n                  this.replaceIds(n, iframeEl, [\"id\"]);\n                });\n                e.data.texts.forEach((n) => {\n                  this.replaceIds(n, iframeEl, [\"id\"]);\n                });\n                return e;\n              }\n              case IncrementalSource.Drag:\n              case IncrementalSource.TouchMove:\n              case IncrementalSource.MouseMove: {\n                e.data.positions.forEach((p) => {\n                  this.replaceIds(p, iframeEl, [\"id\"]);\n                });\n                return e;\n              }\n              case IncrementalSource.ViewportResize: {\n                return false;\n              }\n              case IncrementalSource.MediaInteraction:\n              case IncrementalSource.MouseInteraction:\n              case IncrementalSource.Scroll:\n              case IncrementalSource.CanvasMutation:\n              case IncrementalSource.Input: {\n                this.replaceIds(e.data, iframeEl, [\"id\"]);\n                return e;\n              }\n              case IncrementalSource.StyleSheetRule:\n              case IncrementalSource.StyleDeclaration: {\n                this.replaceIds(e.data, iframeEl, [\"id\"]);\n                this.replaceStyleIds(e.data, iframeEl, [\"styleId\"]);\n                return e;\n              }\n              case IncrementalSource.Font: {\n                return e;\n              }\n              case IncrementalSource.Selection: {\n                e.data.ranges.forEach((range) => {\n                  this.replaceIds(range, iframeEl, [\"start\", \"end\"]);\n                });\n                return e;\n              }\n              case IncrementalSource.AdoptedStyleSheet: {\n                this.replaceIds(e.data, iframeEl, [\"id\"]);\n                this.replaceStyleIds(e.data, iframeEl, [\"styleIds\"]);\n                (_a = e.data.styles) == null ? void 0 : _a.forEach((style) => {\n                  this.replaceStyleIds(style, iframeEl, [\"styleId\"]);\n                });\n                return e;\n              }\n            }\n          }\n        }\n      }\n      replace(iframeMirror, obj, iframeEl, keys) {\n        for (const key of keys) {\n          if (!Array.isArray(obj[key]) && typeof obj[key] !== \"number\")\n            continue;\n          if (Array.isArray(obj[key])) {\n            obj[key] = iframeMirror.getIds(iframeEl, obj[key]);\n          } else {\n            obj[key] = iframeMirror.getId(iframeEl, obj[key]);\n          }\n        }\n        return obj;\n      }\n      replaceIds(obj, iframeEl, keys) {\n        return this.replace(this.crossOriginIframeMirror, obj, iframeEl, keys);\n      }\n      replaceStyleIds(obj, iframeEl, keys) {\n        return this.replace(this.crossOriginIframeStyleMirror, obj, iframeEl, keys);\n      }\n      replaceIdOnNode(node, iframeEl) {\n        this.replaceIds(node, iframeEl, [\"id\"]);\n        if (\"childNodes\" in node) {\n          node.childNodes.forEach((child) => {\n            this.replaceIdOnNode(child, iframeEl);\n          });\n        }\n      }\n    }\n\n    var __defProp$4 = Object.defineProperty;\n    var __defProps$4 = Object.defineProperties;\n    var __getOwnPropDescs$4 = Object.getOwnPropertyDescriptors;\n    var __getOwnPropSymbols$5 = Object.getOwnPropertySymbols;\n    var __hasOwnProp$5 = Object.prototype.hasOwnProperty;\n    var __propIsEnum$5 = Object.prototype.propertyIsEnumerable;\n    var __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\n    var __spreadValues$4 = (a, b) => {\n      for (var prop in b || (b = {}))\n        if (__hasOwnProp$5.call(b, prop))\n          __defNormalProp$4(a, prop, b[prop]);\n      if (__getOwnPropSymbols$5)\n        for (var prop of __getOwnPropSymbols$5(b)) {\n          if (__propIsEnum$5.call(b, prop))\n            __defNormalProp$4(a, prop, b[prop]);\n        }\n      return a;\n    };\n    var __spreadProps$4 = (a, b) => __defProps$4(a, __getOwnPropDescs$4(b));\n    class ShadowDomManager {\n      constructor(options) {\n        this.shadowDoms = /* @__PURE__ */ new WeakSet();\n        this.restorePatches = [];\n        this.mutationCb = options.mutationCb;\n        this.scrollCb = options.scrollCb;\n        this.bypassOptions = options.bypassOptions;\n        this.mirror = options.mirror;\n        const manager = this;\n        this.restorePatches.push(patch(Element.prototype, \"attachShadow\", function(original) {\n          return function(option) {\n            const shadowRoot = original.call(this, option);\n            if (this.shadowRoot)\n              manager.addShadowRoot(this.shadowRoot, this.ownerDocument);\n            return shadowRoot;\n          };\n        }));\n      }\n      addShadowRoot(shadowRoot, doc) {\n        if (!isNativeShadowDom(shadowRoot))\n          return;\n        if (this.shadowDoms.has(shadowRoot))\n          return;\n        this.shadowDoms.add(shadowRoot);\n        initMutationObserver(__spreadProps$4(__spreadValues$4({}, this.bypassOptions), {\n          doc,\n          mutationCb: this.mutationCb,\n          mirror: this.mirror,\n          shadowDomManager: this\n        }), shadowRoot);\n        initScrollObserver(__spreadProps$4(__spreadValues$4({}, this.bypassOptions), {\n          scrollCb: this.scrollCb,\n          doc: shadowRoot,\n          mirror: this.mirror\n        }));\n        setTimeout(() => {\n          if (shadowRoot.adoptedStyleSheets && shadowRoot.adoptedStyleSheets.length > 0)\n            this.bypassOptions.stylesheetManager.adoptStyleSheets(shadowRoot.adoptedStyleSheets, this.mirror.getId(shadowRoot.host));\n          initAdoptedStyleSheetObserver({\n            mirror: this.mirror,\n            stylesheetManager: this.bypassOptions.stylesheetManager\n          }, shadowRoot);\n        }, 0);\n      }\n      observeAttachShadow(iframeElement) {\n        if (iframeElement.contentWindow) {\n          const manager = this;\n          this.restorePatches.push(patch(iframeElement.contentWindow.HTMLElement.prototype, \"attachShadow\", function(original) {\n            return function(option) {\n              const shadowRoot = original.call(this, option);\n              if (this.shadowRoot)\n                manager.addShadowRoot(this.shadowRoot, iframeElement.contentDocument);\n              return shadowRoot;\n            };\n          }));\n        }\n      }\n      reset() {\n        this.restorePatches.forEach((restorePatch) => restorePatch());\n        this.shadowDoms = /* @__PURE__ */ new WeakSet();\n      }\n    }\n\n    /*\n     * base64-arraybuffer 1.0.1 <https://github.com/niklasvh/base64-arraybuffer>\n     * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>\n     * Released under MIT License\n     */\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    // Use a lookup table to find the index.\n    var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\n    for (var i$2 = 0; i$2 < chars.length; i$2++) {\n        lookup[chars.charCodeAt(i$2)] = i$2;\n    }\n    var encode = function (arraybuffer) {\n        var bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n        for (i = 0; i < len; i += 3) {\n            base64 += chars[bytes[i] >> 2];\n            base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n            base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n            base64 += chars[bytes[i + 2] & 63];\n        }\n        if (len % 3 === 2) {\n            base64 = base64.substring(0, base64.length - 1) + '=';\n        }\n        else if (len % 3 === 1) {\n            base64 = base64.substring(0, base64.length - 2) + '==';\n        }\n        return base64;\n    };\n    var decode = function (base64) {\n        var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n        if (base64[base64.length - 1] === '=') {\n            bufferLength--;\n            if (base64[base64.length - 2] === '=') {\n                bufferLength--;\n            }\n        }\n        var arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n        for (i = 0; i < len; i += 4) {\n            encoded1 = lookup[base64.charCodeAt(i)];\n            encoded2 = lookup[base64.charCodeAt(i + 1)];\n            encoded3 = lookup[base64.charCodeAt(i + 2)];\n            encoded4 = lookup[base64.charCodeAt(i + 3)];\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n        }\n        return arraybuffer;\n    };\n\n    const canvasVarMap = /* @__PURE__ */ new Map();\n    function variableListFor$1(ctx, ctor) {\n      let contextMap = canvasVarMap.get(ctx);\n      if (!contextMap) {\n        contextMap = /* @__PURE__ */ new Map();\n        canvasVarMap.set(ctx, contextMap);\n      }\n      if (!contextMap.has(ctor)) {\n        contextMap.set(ctor, []);\n      }\n      return contextMap.get(ctor);\n    }\n    const saveWebGLVar = (value, win, ctx) => {\n      if (!value || !(isInstanceOfWebGLObject(value, win) || typeof value === \"object\"))\n        return;\n      const name = value.constructor.name;\n      const list = variableListFor$1(ctx, name);\n      let index = list.indexOf(value);\n      if (index === -1) {\n        index = list.length;\n        list.push(value);\n      }\n      return index;\n    };\n    function serializeArg(value, win, ctx) {\n      if (value instanceof Array) {\n        return value.map((arg) => serializeArg(arg, win, ctx));\n      } else if (value === null) {\n        return value;\n      } else if (value instanceof Float32Array || value instanceof Float64Array || value instanceof Int32Array || value instanceof Uint32Array || value instanceof Uint8Array || value instanceof Uint16Array || value instanceof Int16Array || value instanceof Int8Array || value instanceof Uint8ClampedArray) {\n        const name = value.constructor.name;\n        return {\n          rr_type: name,\n          args: [Object.values(value)]\n        };\n      } else if (value instanceof ArrayBuffer) {\n        const name = value.constructor.name;\n        const base64 = encode(value);\n        return {\n          rr_type: name,\n          base64\n        };\n      } else if (value instanceof DataView) {\n        const name = value.constructor.name;\n        return {\n          rr_type: name,\n          args: [\n            serializeArg(value.buffer, win, ctx),\n            value.byteOffset,\n            value.byteLength\n          ]\n        };\n      } else if (value instanceof HTMLImageElement) {\n        const name = value.constructor.name;\n        const { src } = value;\n        return {\n          rr_type: name,\n          src\n        };\n      } else if (value instanceof HTMLCanvasElement) {\n        const name = \"HTMLImageElement\";\n        const src = value.toDataURL();\n        return {\n          rr_type: name,\n          src\n        };\n      } else if (value instanceof ImageData) {\n        const name = value.constructor.name;\n        return {\n          rr_type: name,\n          args: [serializeArg(value.data, win, ctx), value.width, value.height]\n        };\n      } else if (isInstanceOfWebGLObject(value, win) || typeof value === \"object\") {\n        const name = value.constructor.name;\n        const index = saveWebGLVar(value, win, ctx);\n        return {\n          rr_type: name,\n          index\n        };\n      }\n      return value;\n    }\n    const serializeArgs = (args, win, ctx) => {\n      return [...args].map((arg) => serializeArg(arg, win, ctx));\n    };\n    const isInstanceOfWebGLObject = (value, win) => {\n      const webGLConstructorNames = [\n        \"WebGLActiveInfo\",\n        \"WebGLBuffer\",\n        \"WebGLFramebuffer\",\n        \"WebGLProgram\",\n        \"WebGLRenderbuffer\",\n        \"WebGLShader\",\n        \"WebGLShaderPrecisionFormat\",\n        \"WebGLTexture\",\n        \"WebGLUniformLocation\",\n        \"WebGLVertexArrayObject\",\n        \"WebGLVertexArrayObjectOES\"\n      ];\n      const supportedWebGLConstructorNames = webGLConstructorNames.filter((name) => typeof win[name] === \"function\");\n      return Boolean(supportedWebGLConstructorNames.find((name) => value instanceof win[name]));\n    };\n\n    function initCanvas2DMutationObserver(cb, win, blockClass2, blockSelector) {\n      const handlers = [];\n      const props2D = Object.getOwnPropertyNames(win.CanvasRenderingContext2D.prototype);\n      for (const prop of props2D) {\n        try {\n          if (typeof win.CanvasRenderingContext2D.prototype[prop] !== \"function\") {\n            continue;\n          }\n          const restoreHandler = patch(win.CanvasRenderingContext2D.prototype, prop, function(original) {\n            return function(...args) {\n              if (!isBlocked(this.canvas, blockClass2, blockSelector, true)) {\n                setTimeout(() => {\n                  const recordArgs = serializeArgs([...args], win, this);\n                  cb(this.canvas, {\n                    type: CanvasContext[\"2D\"],\n                    property: prop,\n                    args: recordArgs\n                  });\n                }, 0);\n              }\n              return original.apply(this, args);\n            };\n          });\n          handlers.push(restoreHandler);\n        } catch (e) {\n          const hookHandler = hookSetter(win.CanvasRenderingContext2D.prototype, prop, {\n            set(v) {\n              cb(this.canvas, {\n                type: CanvasContext[\"2D\"],\n                property: prop,\n                args: [v],\n                setter: true\n              });\n            }\n          });\n          handlers.push(hookHandler);\n        }\n      }\n      return () => {\n        handlers.forEach((h) => h());\n      };\n    }\n\n    function initCanvasContextObserver(win, blockClass, blockSelector) {\n      const handlers = [];\n      try {\n        const restoreHandler = patch(win.HTMLCanvasElement.prototype, \"getContext\", function(original) {\n          return function(contextType, ...args) {\n            if (!isBlocked(this, blockClass, blockSelector, true)) {\n              if (!(\"__context\" in this))\n                this.__context = contextType;\n            }\n            return original.apply(this, [contextType, ...args]);\n          };\n        });\n        handlers.push(restoreHandler);\n      } catch (e) {\n        console.error(\"failed to patch HTMLCanvasElement.prototype.getContext\");\n      }\n      return () => {\n        handlers.forEach((h) => h());\n      };\n    }\n\n    function patchGLPrototype(prototype, type, cb, blockClass2, blockSelector, mirror, win) {\n      const handlers = [];\n      const props = Object.getOwnPropertyNames(prototype);\n      for (const prop of props) {\n        if ([\n          \"isContextLost\",\n          \"canvas\",\n          \"drawingBufferWidth\",\n          \"drawingBufferHeight\"\n        ].includes(prop)) {\n          continue;\n        }\n        try {\n          if (typeof prototype[prop] !== \"function\") {\n            continue;\n          }\n          const restoreHandler = patch(prototype, prop, function(original) {\n            return function(...args) {\n              const result = original.apply(this, args);\n              saveWebGLVar(result, win, this);\n              if (!isBlocked(this.canvas, blockClass2, blockSelector, true)) {\n                const recordArgs = serializeArgs([...args], win, this);\n                const mutation = {\n                  type,\n                  property: prop,\n                  args: recordArgs\n                };\n                cb(this.canvas, mutation);\n              }\n              return result;\n            };\n          });\n          handlers.push(restoreHandler);\n        } catch (e) {\n          const hookHandler = hookSetter(prototype, prop, {\n            set(v) {\n              cb(this.canvas, {\n                type,\n                property: prop,\n                args: [v],\n                setter: true\n              });\n            }\n          });\n          handlers.push(hookHandler);\n        }\n      }\n      return handlers;\n    }\n    function initCanvasWebGLMutationObserver(cb, win, blockClass2, blockSelector, mirror) {\n      const handlers = [];\n      handlers.push(...patchGLPrototype(win.WebGLRenderingContext.prototype, CanvasContext.WebGL, cb, blockClass2, blockSelector, mirror, win));\n      if (typeof win.WebGL2RenderingContext !== \"undefined\") {\n        handlers.push(...patchGLPrototype(win.WebGL2RenderingContext.prototype, CanvasContext.WebGL2, cb, blockClass2, blockSelector, mirror, win));\n      }\n      return () => {\n        handlers.forEach((h) => h());\n      };\n    }\n\n    function decodeBase64(base64, enableUnicode) {\n        var binaryString = atob(base64);\n        if (enableUnicode) {\n            var binaryView = new Uint8Array(binaryString.length);\n            for (var i = 0, n = binaryString.length; i < n; ++i) {\n                binaryView[i] = binaryString.charCodeAt(i);\n            }\n            return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));\n        }\n        return binaryString;\n    }\n\n    function createURL(base64, sourcemapArg, enableUnicodeArg) {\n        var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n        var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n        var source = decodeBase64(base64, enableUnicode);\n        var start = source.indexOf('\\n', 10) + 1;\n        var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n        var blob = new Blob([body], { type: 'application/javascript' });\n        return URL.createObjectURL(blob);\n    }\n\n    function createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n        var url;\n        return function WorkerFactory(options) {\n            url = url || createURL(base64, sourcemapArg, enableUnicodeArg);\n            return new Worker(url, options);\n        };\n    }\n\n    var WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qCiAgICAgKiBiYXNlNjQtYXJyYXlidWZmZXIgMS4wLjEgPGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXI+CiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMjEgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPgogICAgICogUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2UKICAgICAqLwogICAgdmFyIGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nOwogICAgLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LgogICAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogICAgfQogICAgdmFyIGVuY29kZSA9IGZ1bmN0aW9uIChhcnJheWJ1ZmZlcikgewogICAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSAnJzsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpIHsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdOwogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildOwogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdOwogICAgICAgIH0KICAgICAgICBpZiAobGVuICUgMyA9PT0gMikgewogICAgICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAxKSArICc9JzsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobGVuICUgMyA9PT0gMSkgewogICAgICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArICc9PSc7CiAgICAgICAgfQogICAgICAgIHJldHVybiBiYXNlNjQ7CiAgICB9OwoKICAgIGNvbnN0IGxhc3RCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICAgIGNvbnN0IHRyYW5zcGFyZW50QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsKICAgICAgaWYgKCJPZmZzY3JlZW5DYW52YXMiIGluIGdsb2JhbFRoaXMpIHsKICAgICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpCiAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7CiAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOwogICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsKICAgICAgICByZXR1cm4gYmFzZTY0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsKICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICAgIGlmICgiT2Zmc2NyZWVuQ2FudmFzIiBpbiBnbG9iYWxUaGlzKSB7CiAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOwogICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsKICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsKICAgICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOwogICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7CiAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsKICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgYXdhaXQgdHJhbnNwYXJlbnRCYXNlNjQgPT09IGJhc2U2NCkgewogICAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICAgIH0KICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQogICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgICBpZCwKICAgICAgICAgIHR5cGUsCiAgICAgICAgICBiYXNlNjQsCiAgICAgICAgICB3aWR0aCwKICAgICAgICAgIGhlaWdodAogICAgICAgIH0pOwogICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgICAgfQogICAgfTsKCn0pKCk7Cgo=', null, false);\n    /* eslint-enable */\n\n    var __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\n    var __hasOwnProp$4 = Object.prototype.hasOwnProperty;\n    var __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\n    var __objRest = (source, exclude) => {\n      var target = {};\n      for (var prop in source)\n        if (__hasOwnProp$4.call(source, prop) && exclude.indexOf(prop) < 0)\n          target[prop] = source[prop];\n      if (source != null && __getOwnPropSymbols$4)\n        for (var prop of __getOwnPropSymbols$4(source)) {\n          if (exclude.indexOf(prop) < 0 && __propIsEnum$4.call(source, prop))\n            target[prop] = source[prop];\n        }\n      return target;\n    };\n    var __async$5 = (__this, __arguments, generator) => {\n      return new Promise((resolve, reject) => {\n        var fulfilled = (value) => {\n          try {\n            step(generator.next(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var rejected = (value) => {\n          try {\n            step(generator.throw(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n        step((generator = generator.apply(__this, __arguments)).next());\n      });\n    };\n    class CanvasManager {\n      constructor(options) {\n        this.pendingCanvasMutations = /* @__PURE__ */ new Map();\n        this.rafStamps = { latestId: 0, invokeId: null };\n        this.frozen = false;\n        this.locked = false;\n        this.processMutation = (target, mutation) => {\n          const newFrame = this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId;\n          if (newFrame || !this.rafStamps.invokeId)\n            this.rafStamps.invokeId = this.rafStamps.latestId;\n          if (!this.pendingCanvasMutations.has(target)) {\n            this.pendingCanvasMutations.set(target, []);\n          }\n          this.pendingCanvasMutations.get(target).push(mutation);\n        };\n        const {\n          sampling = \"all\",\n          win,\n          blockClass,\n          blockSelector,\n          recordCanvas,\n          dataURLOptions\n        } = options;\n        this.mutationCb = options.mutationCb;\n        this.mirror = options.mirror;\n        if (recordCanvas && sampling === \"all\")\n          this.initCanvasMutationObserver(win, blockClass, blockSelector);\n        if (recordCanvas && typeof sampling === \"number\")\n          this.initCanvasFPSObserver(sampling, win, blockClass, blockSelector, {\n            dataURLOptions\n          });\n      }\n      reset() {\n        this.pendingCanvasMutations.clear();\n        this.resetObservers && this.resetObservers();\n      }\n      freeze() {\n        this.frozen = true;\n      }\n      unfreeze() {\n        this.frozen = false;\n      }\n      lock() {\n        this.locked = true;\n      }\n      unlock() {\n        this.locked = false;\n      }\n      initCanvasFPSObserver(fps, win, blockClass, blockSelector, options) {\n        const canvasContextReset = initCanvasContextObserver(win, blockClass, blockSelector);\n        const snapshotInProgressMap = /* @__PURE__ */ new Map();\n        const worker = new WorkerFactory();\n        worker.onmessage = (e) => {\n          const { id } = e.data;\n          snapshotInProgressMap.set(id, false);\n          if (!(\"base64\" in e.data))\n            return;\n          const { base64, type, width, height } = e.data;\n          this.mutationCb({\n            id,\n            type: CanvasContext[\"2D\"],\n            commands: [\n              {\n                property: \"clearRect\",\n                args: [0, 0, width, height]\n              },\n              {\n                property: \"drawImage\",\n                args: [\n                  {\n                    rr_type: \"ImageBitmap\",\n                    args: [\n                      {\n                        rr_type: \"Blob\",\n                        data: [{ rr_type: \"ArrayBuffer\", base64 }],\n                        type\n                      }\n                    ]\n                  },\n                  0,\n                  0\n                ]\n              }\n            ]\n          });\n        };\n        const timeBetweenSnapshots = 1e3 / fps;\n        let lastSnapshotTime = 0;\n        let rafId;\n        const getCanvas = () => {\n          const matchedCanvas = [];\n          win.document.querySelectorAll(\"canvas\").forEach((canvas) => {\n            if (!isBlocked(canvas, blockClass, blockSelector, true)) {\n              matchedCanvas.push(canvas);\n            }\n          });\n          return matchedCanvas;\n        };\n        const takeCanvasSnapshots = (timestamp) => {\n          if (lastSnapshotTime && timestamp - lastSnapshotTime < timeBetweenSnapshots) {\n            rafId = requestAnimationFrame(takeCanvasSnapshots);\n            return;\n          }\n          lastSnapshotTime = timestamp;\n          getCanvas().forEach((canvas) => __async$5(this, null, function* () {\n            var _a;\n            const id = this.mirror.getId(canvas);\n            if (snapshotInProgressMap.get(id))\n              return;\n            snapshotInProgressMap.set(id, true);\n            if ([\"webgl\", \"webgl2\"].includes(canvas.__context)) {\n              const context = canvas.getContext(canvas.__context);\n              if (((_a = context == null ? void 0 : context.getContextAttributes()) == null ? void 0 : _a.preserveDrawingBuffer) === false) {\n                context == null ? void 0 : context.clear(context.COLOR_BUFFER_BIT);\n              }\n            }\n            const bitmap = yield createImageBitmap(canvas);\n            worker.postMessage({\n              id,\n              bitmap,\n              width: canvas.width,\n              height: canvas.height,\n              dataURLOptions: options.dataURLOptions\n            }, [bitmap]);\n          }));\n          rafId = requestAnimationFrame(takeCanvasSnapshots);\n        };\n        rafId = requestAnimationFrame(takeCanvasSnapshots);\n        this.resetObservers = () => {\n          canvasContextReset();\n          cancelAnimationFrame(rafId);\n        };\n      }\n      initCanvasMutationObserver(win, blockClass, blockSelector) {\n        this.startRAFTimestamping();\n        this.startPendingCanvasMutationFlusher();\n        const canvasContextReset = initCanvasContextObserver(win, blockClass, blockSelector);\n        const canvas2DReset = initCanvas2DMutationObserver(this.processMutation.bind(this), win, blockClass, blockSelector);\n        const canvasWebGL1and2Reset = initCanvasWebGLMutationObserver(this.processMutation.bind(this), win, blockClass, blockSelector, this.mirror);\n        this.resetObservers = () => {\n          canvasContextReset();\n          canvas2DReset();\n          canvasWebGL1and2Reset();\n        };\n      }\n      startPendingCanvasMutationFlusher() {\n        requestAnimationFrame(() => this.flushPendingCanvasMutations());\n      }\n      startRAFTimestamping() {\n        const setLatestRAFTimestamp = (timestamp) => {\n          this.rafStamps.latestId = timestamp;\n          requestAnimationFrame(setLatestRAFTimestamp);\n        };\n        requestAnimationFrame(setLatestRAFTimestamp);\n      }\n      flushPendingCanvasMutations() {\n        this.pendingCanvasMutations.forEach((values, canvas) => {\n          const id = this.mirror.getId(canvas);\n          this.flushPendingCanvasMutationFor(canvas, id);\n        });\n        requestAnimationFrame(() => this.flushPendingCanvasMutations());\n      }\n      flushPendingCanvasMutationFor(canvas, id) {\n        if (this.frozen || this.locked) {\n          return;\n        }\n        const valuesWithType = this.pendingCanvasMutations.get(canvas);\n        if (!valuesWithType || id === -1)\n          return;\n        const values = valuesWithType.map((value) => {\n          const _a = value, rest = __objRest(_a, [\"type\"]);\n          return rest;\n        });\n        const { type } = valuesWithType[0];\n        this.mutationCb({ id, type, commands: values });\n        this.pendingCanvasMutations.delete(canvas);\n      }\n    }\n\n    class StylesheetManager {\n      constructor(options) {\n        this.trackedLinkElements = /* @__PURE__ */ new WeakSet();\n        this.styleMirror = new StyleSheetMirror();\n        this.mutationCb = options.mutationCb;\n        this.adoptedStyleSheetCb = options.adoptedStyleSheetCb;\n      }\n      attachLinkElement(linkEl, childSn) {\n        if (\"_cssText\" in childSn.attributes)\n          this.mutationCb({\n            adds: [],\n            removes: [],\n            texts: [],\n            attributes: [\n              {\n                id: childSn.id,\n                attributes: childSn.attributes\n              }\n            ]\n          });\n        this.trackLinkElement(linkEl);\n      }\n      trackLinkElement(linkEl) {\n        if (this.trackedLinkElements.has(linkEl))\n          return;\n        this.trackedLinkElements.add(linkEl);\n        this.trackStylesheetInLinkElement(linkEl);\n      }\n      adoptStyleSheets(sheets, hostId) {\n        if (sheets.length === 0)\n          return;\n        const adoptedStyleSheetData = {\n          id: hostId,\n          styleIds: []\n        };\n        const styles = [];\n        for (const sheet of sheets) {\n          let styleId;\n          if (!this.styleMirror.has(sheet)) {\n            styleId = this.styleMirror.add(sheet);\n            const rules = Array.from(sheet.rules || CSSRule);\n            styles.push({\n              styleId,\n              rules: rules.map((r, index) => {\n                return {\n                  rule: getCssRuleString(r),\n                  index\n                };\n              })\n            });\n          } else\n            styleId = this.styleMirror.getId(sheet);\n          adoptedStyleSheetData.styleIds.push(styleId);\n        }\n        if (styles.length > 0)\n          adoptedStyleSheetData.styles = styles;\n        this.adoptedStyleSheetCb(adoptedStyleSheetData);\n      }\n      reset() {\n        this.styleMirror.reset();\n        this.trackedLinkElements = /* @__PURE__ */ new WeakSet();\n      }\n      trackStylesheetInLinkElement(linkEl) {\n      }\n    }\n\n    var __defProp$3 = Object.defineProperty;\n    var __defProps$3 = Object.defineProperties;\n    var __getOwnPropDescs$3 = Object.getOwnPropertyDescriptors;\n    var __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\n    var __hasOwnProp$3 = Object.prototype.hasOwnProperty;\n    var __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\n    var __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\n    var __spreadValues$3 = (a, b) => {\n      for (var prop in b || (b = {}))\n        if (__hasOwnProp$3.call(b, prop))\n          __defNormalProp$3(a, prop, b[prop]);\n      if (__getOwnPropSymbols$3)\n        for (var prop of __getOwnPropSymbols$3(b)) {\n          if (__propIsEnum$3.call(b, prop))\n            __defNormalProp$3(a, prop, b[prop]);\n        }\n      return a;\n    };\n    var __spreadProps$3 = (a, b) => __defProps$3(a, __getOwnPropDescs$3(b));\n    function wrapEvent(e) {\n      return __spreadProps$3(__spreadValues$3({}, e), {\n        timestamp: Date.now()\n      });\n    }\n    let wrappedEmit;\n    let takeFullSnapshot;\n    let canvasManager;\n    let recording = false;\n    const mirror = createMirror$2();\n    function record(options = {}) {\n      const {\n        emit,\n        checkoutEveryNms,\n        checkoutEveryNth,\n        blockClass = \"rr-block\",\n        blockSelector = null,\n        ignoreClass = \"rr-ignore\",\n        maskTextClass = \"rr-mask\",\n        maskTextSelector = null,\n        inlineStylesheet = true,\n        maskAllInputs,\n        maskInputOptions: _maskInputOptions,\n        slimDOMOptions: _slimDOMOptions,\n        maskInputFn,\n        maskTextFn,\n        hooks,\n        packFn,\n        sampling = {},\n        dataURLOptions = {},\n        mousemoveWait,\n        recordCanvas = false,\n        recordCrossOriginIframes = false,\n        userTriggeredOnInput = false,\n        collectFonts = false,\n        inlineImages = false,\n        plugins,\n        keepIframeSrcFn = () => false,\n        ignoreCSSAttributes = /* @__PURE__ */ new Set([])\n      } = options;\n      const inEmittingFrame = recordCrossOriginIframes ? window.parent === window : true;\n      let passEmitsToParent = false;\n      if (!inEmittingFrame) {\n        try {\n          window.parent.document;\n          passEmitsToParent = false;\n        } catch (e) {\n          passEmitsToParent = true;\n        }\n      }\n      if (inEmittingFrame && !emit) {\n        throw new Error(\"emit function is required\");\n      }\n      if (mousemoveWait !== void 0 && sampling.mousemove === void 0) {\n        sampling.mousemove = mousemoveWait;\n      }\n      mirror.reset();\n      const maskInputOptions = maskAllInputs === true ? {\n        color: true,\n        date: true,\n        \"datetime-local\": true,\n        email: true,\n        month: true,\n        number: true,\n        range: true,\n        search: true,\n        tel: true,\n        text: true,\n        time: true,\n        url: true,\n        week: true,\n        textarea: true,\n        select: true,\n        password: true\n      } : _maskInputOptions !== void 0 ? _maskInputOptions : { password: true };\n      const slimDOMOptions = _slimDOMOptions === true || _slimDOMOptions === \"all\" ? {\n        script: true,\n        comment: true,\n        headFavicon: true,\n        headWhitespace: true,\n        headMetaSocial: true,\n        headMetaRobots: true,\n        headMetaHttpEquiv: true,\n        headMetaVerification: true,\n        headMetaAuthorship: _slimDOMOptions === \"all\",\n        headMetaDescKeywords: _slimDOMOptions === \"all\"\n      } : _slimDOMOptions ? _slimDOMOptions : {};\n      polyfill$1();\n      let lastFullSnapshotEvent;\n      let incrementalSnapshotCount = 0;\n      const eventProcessor = (e) => {\n        for (const plugin of plugins || []) {\n          if (plugin.eventProcessor) {\n            e = plugin.eventProcessor(e);\n          }\n        }\n        if (packFn) {\n          e = packFn(e);\n        }\n        return e;\n      };\n      wrappedEmit = (e, isCheckout) => {\n        var _a;\n        if (((_a = mutationBuffers[0]) == null ? void 0 : _a.isFrozen()) && e.type !== EventType.FullSnapshot && !(e.type === EventType.IncrementalSnapshot && e.data.source === IncrementalSource.Mutation)) {\n          mutationBuffers.forEach((buf) => buf.unfreeze());\n        }\n        if (inEmittingFrame) {\n          emit == null ? void 0 : emit(eventProcessor(e), isCheckout);\n        } else if (passEmitsToParent) {\n          const message = {\n            type: \"rrweb\",\n            event: eventProcessor(e),\n            isCheckout\n          };\n          window.parent.postMessage(message, \"*\");\n        }\n        if (e.type === EventType.FullSnapshot) {\n          lastFullSnapshotEvent = e;\n          incrementalSnapshotCount = 0;\n        } else if (e.type === EventType.IncrementalSnapshot) {\n          if (e.data.source === IncrementalSource.Mutation && e.data.isAttachIframe) {\n            return;\n          }\n          incrementalSnapshotCount++;\n          const exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\n          const exceedTime = checkoutEveryNms && e.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\n          if (exceedCount || exceedTime) {\n            takeFullSnapshot(true);\n          }\n        }\n      };\n      const wrappedMutationEmit = (m) => {\n        wrappedEmit(wrapEvent({\n          type: EventType.IncrementalSnapshot,\n          data: __spreadValues$3({\n            source: IncrementalSource.Mutation\n          }, m)\n        }));\n      };\n      const wrappedScrollEmit = (p) => wrappedEmit(wrapEvent({\n        type: EventType.IncrementalSnapshot,\n        data: __spreadValues$3({\n          source: IncrementalSource.Scroll\n        }, p)\n      }));\n      const wrappedCanvasMutationEmit = (p) => wrappedEmit(wrapEvent({\n        type: EventType.IncrementalSnapshot,\n        data: __spreadValues$3({\n          source: IncrementalSource.CanvasMutation\n        }, p)\n      }));\n      const wrappedAdoptedStyleSheetEmit = (a) => wrappedEmit(wrapEvent({\n        type: EventType.IncrementalSnapshot,\n        data: __spreadValues$3({\n          source: IncrementalSource.AdoptedStyleSheet\n        }, a)\n      }));\n      const stylesheetManager = new StylesheetManager({\n        mutationCb: wrappedMutationEmit,\n        adoptedStyleSheetCb: wrappedAdoptedStyleSheetEmit\n      });\n      const iframeManager = new IframeManager({\n        mirror,\n        mutationCb: wrappedMutationEmit,\n        stylesheetManager,\n        recordCrossOriginIframes,\n        wrappedEmit\n      });\n      for (const plugin of plugins || []) {\n        if (plugin.getMirror)\n          plugin.getMirror({\n            nodeMirror: mirror,\n            crossOriginIframeMirror: iframeManager.crossOriginIframeMirror,\n            crossOriginIframeStyleMirror: iframeManager.crossOriginIframeStyleMirror\n          });\n      }\n      canvasManager = new CanvasManager({\n        recordCanvas,\n        mutationCb: wrappedCanvasMutationEmit,\n        win: window,\n        blockClass,\n        blockSelector,\n        mirror,\n        sampling: sampling.canvas,\n        dataURLOptions\n      });\n      const shadowDomManager = new ShadowDomManager({\n        mutationCb: wrappedMutationEmit,\n        scrollCb: wrappedScrollEmit,\n        bypassOptions: {\n          blockClass,\n          blockSelector,\n          maskTextClass,\n          maskTextSelector,\n          inlineStylesheet,\n          maskInputOptions,\n          dataURLOptions,\n          maskTextFn,\n          maskInputFn,\n          recordCanvas,\n          inlineImages,\n          sampling,\n          slimDOMOptions,\n          iframeManager,\n          stylesheetManager,\n          canvasManager,\n          keepIframeSrcFn\n        },\n        mirror\n      });\n      takeFullSnapshot = (isCheckout = false) => {\n        var _a, _b, _c, _d, _e, _f;\n        wrappedEmit(wrapEvent({\n          type: EventType.Meta,\n          data: {\n            href: window.location.href,\n            width: getWindowWidth(),\n            height: getWindowHeight()\n          }\n        }), isCheckout);\n        stylesheetManager.reset();\n        mutationBuffers.forEach((buf) => buf.lock());\n        const node = snapshot(document, {\n          mirror,\n          blockClass,\n          blockSelector,\n          maskTextClass,\n          maskTextSelector,\n          inlineStylesheet,\n          maskAllInputs: maskInputOptions,\n          maskTextFn,\n          slimDOM: slimDOMOptions,\n          dataURLOptions,\n          recordCanvas,\n          inlineImages,\n          onSerialize: (n) => {\n            if (isSerializedIframe(n, mirror)) {\n              iframeManager.addIframe(n);\n            }\n            if (isSerializedStylesheet(n, mirror)) {\n              stylesheetManager.trackLinkElement(n);\n            }\n            if (hasShadowRoot(n)) {\n              shadowDomManager.addShadowRoot(n.shadowRoot, document);\n            }\n          },\n          onIframeLoad: (iframe, childSn) => {\n            iframeManager.attachIframe(iframe, childSn);\n            shadowDomManager.observeAttachShadow(iframe);\n          },\n          onStylesheetLoad: (linkEl, childSn) => {\n            stylesheetManager.attachLinkElement(linkEl, childSn);\n          },\n          keepIframeSrcFn\n        });\n        if (!node) {\n          return console.warn(\"Failed to snapshot the document\");\n        }\n        wrappedEmit(wrapEvent({\n          type: EventType.FullSnapshot,\n          data: {\n            node,\n            initialOffset: {\n              left: window.pageXOffset !== void 0 ? window.pageXOffset : (document == null ? void 0 : document.documentElement.scrollLeft) || ((_b = (_a = document == null ? void 0 : document.body) == null ? void 0 : _a.parentElement) == null ? void 0 : _b.scrollLeft) || ((_c = document == null ? void 0 : document.body) == null ? void 0 : _c.scrollLeft) || 0,\n              top: window.pageYOffset !== void 0 ? window.pageYOffset : (document == null ? void 0 : document.documentElement.scrollTop) || ((_e = (_d = document == null ? void 0 : document.body) == null ? void 0 : _d.parentElement) == null ? void 0 : _e.scrollTop) || ((_f = document == null ? void 0 : document.body) == null ? void 0 : _f.scrollTop) || 0\n            }\n          }\n        }));\n        mutationBuffers.forEach((buf) => buf.unlock());\n        if (document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0)\n          stylesheetManager.adoptStyleSheets(document.adoptedStyleSheets, mirror.getId(document));\n      };\n      try {\n        const handlers = [];\n        handlers.push(on(\"DOMContentLoaded\", () => {\n          wrappedEmit(wrapEvent({\n            type: EventType.DomContentLoaded,\n            data: {}\n          }));\n        }));\n        const observe = (doc) => {\n          var _a;\n          return initObservers({\n            mutationCb: wrappedMutationEmit,\n            mousemoveCb: (positions, source) => wrappedEmit(wrapEvent({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source,\n                positions\n              }\n            })),\n            mouseInteractionCb: (d) => wrappedEmit(wrapEvent({\n              type: EventType.IncrementalSnapshot,\n              data: __spreadValues$3({\n                source: IncrementalSource.MouseInteraction\n              }, d)\n            })),\n            scrollCb: wrappedScrollEmit,\n            viewportResizeCb: (d) => wrappedEmit(wrapEvent({\n              type: EventType.IncrementalSnapshot,\n              data: __spreadValues$3({\n                source: IncrementalSource.ViewportResize\n              }, d)\n            })),\n            inputCb: (v) => wrappedEmit(wrapEvent({\n              type: EventType.IncrementalSnapshot,\n              data: __spreadValues$3({\n                source: IncrementalSource.Input\n              }, v)\n            })),\n            mediaInteractionCb: (p) => wrappedEmit(wrapEvent({\n              type: EventType.IncrementalSnapshot,\n              data: __spreadValues$3({\n                source: IncrementalSource.MediaInteraction\n              }, p)\n            })),\n            styleSheetRuleCb: (r) => wrappedEmit(wrapEvent({\n              type: EventType.IncrementalSnapshot,\n              data: __spreadValues$3({\n                source: IncrementalSource.StyleSheetRule\n              }, r)\n            })),\n            styleDeclarationCb: (r) => wrappedEmit(wrapEvent({\n              type: EventType.IncrementalSnapshot,\n              data: __spreadValues$3({\n                source: IncrementalSource.StyleDeclaration\n              }, r)\n            })),\n            canvasMutationCb: wrappedCanvasMutationEmit,\n            fontCb: (p) => wrappedEmit(wrapEvent({\n              type: EventType.IncrementalSnapshot,\n              data: __spreadValues$3({\n                source: IncrementalSource.Font\n              }, p)\n            })),\n            selectionCb: (p) => {\n              wrappedEmit(wrapEvent({\n                type: EventType.IncrementalSnapshot,\n                data: __spreadValues$3({\n                  source: IncrementalSource.Selection\n                }, p)\n              }));\n            },\n            blockClass,\n            ignoreClass,\n            maskTextClass,\n            maskTextSelector,\n            maskInputOptions,\n            inlineStylesheet,\n            sampling,\n            recordCanvas,\n            inlineImages,\n            userTriggeredOnInput,\n            collectFonts,\n            doc,\n            maskInputFn,\n            maskTextFn,\n            keepIframeSrcFn,\n            blockSelector,\n            slimDOMOptions,\n            dataURLOptions,\n            mirror,\n            iframeManager,\n            stylesheetManager,\n            shadowDomManager,\n            canvasManager,\n            ignoreCSSAttributes,\n            plugins: ((_a = plugins == null ? void 0 : plugins.filter((p) => p.observer)) == null ? void 0 : _a.map((p) => ({\n              observer: p.observer,\n              options: p.options,\n              callback: (payload) => wrappedEmit(wrapEvent({\n                type: EventType.Plugin,\n                data: {\n                  plugin: p.name,\n                  payload\n                }\n              }))\n            }))) || []\n          }, hooks);\n        };\n        iframeManager.addLoadListener((iframeEl) => {\n          handlers.push(observe(iframeEl.contentDocument));\n        });\n        const init = () => {\n          takeFullSnapshot();\n          handlers.push(observe(document));\n          recording = true;\n        };\n        if (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n          init();\n        } else {\n          handlers.push(on(\"load\", () => {\n            wrappedEmit(wrapEvent({\n              type: EventType.Load,\n              data: {}\n            }));\n            init();\n          }, window));\n        }\n        return () => {\n          handlers.forEach((h) => h());\n          recording = false;\n        };\n      } catch (error) {\n        console.warn(error);\n      }\n    }\n    record.addCustomEvent = (tag, payload) => {\n      if (!recording) {\n        throw new Error(\"please add custom event after start recording\");\n      }\n      wrappedEmit(wrapEvent({\n        type: EventType.Custom,\n        data: {\n          tag,\n          payload\n        }\n      }));\n    };\n    record.freezePage = () => {\n      mutationBuffers.forEach((buf) => buf.freeze());\n    };\n    record.takeFullSnapshot = (isCheckout) => {\n      if (!recording) {\n        throw new Error(\"please take full snapshot after start recording\");\n      }\n      takeFullSnapshot(isCheckout);\n    };\n    record.mirror = mirror;\n\n    var NodeType$1;\n    (function(NodeType2) {\n      NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n      NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n      NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n      NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n      NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n      NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n    })(NodeType$1 || (NodeType$1 = {}));\n    var Mirror$1 = function() {\n      function Mirror2() {\n        this.idNodeMap = /* @__PURE__ */ new Map();\n        this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n      }\n      Mirror2.prototype.getId = function(n) {\n        var _a;\n        if (!n)\n          return -1;\n        var id = (_a = this.getMeta(n)) === null || _a === void 0 ? void 0 : _a.id;\n        return id !== null && id !== void 0 ? id : -1;\n      };\n      Mirror2.prototype.getNode = function(id) {\n        return this.idNodeMap.get(id) || null;\n      };\n      Mirror2.prototype.getIds = function() {\n        return Array.from(this.idNodeMap.keys());\n      };\n      Mirror2.prototype.getMeta = function(n) {\n        return this.nodeMetaMap.get(n) || null;\n      };\n      Mirror2.prototype.removeNodeFromMap = function(n) {\n        var _this = this;\n        var id = this.getId(n);\n        this.idNodeMap[\"delete\"](id);\n        if (n.childNodes) {\n          n.childNodes.forEach(function(childNode) {\n            return _this.removeNodeFromMap(childNode);\n          });\n        }\n      };\n      Mirror2.prototype.has = function(id) {\n        return this.idNodeMap.has(id);\n      };\n      Mirror2.prototype.hasNode = function(node) {\n        return this.nodeMetaMap.has(node);\n      };\n      Mirror2.prototype.add = function(n, meta) {\n        var id = meta.id;\n        this.idNodeMap.set(id, n);\n        this.nodeMetaMap.set(n, meta);\n      };\n      Mirror2.prototype.replace = function(id, n) {\n        var oldNode = this.getNode(id);\n        if (oldNode) {\n          var meta = this.nodeMetaMap.get(oldNode);\n          if (meta)\n            this.nodeMetaMap.set(n, meta);\n        }\n        this.idNodeMap.set(id, n);\n      };\n      Mirror2.prototype.reset = function() {\n        this.idNodeMap = /* @__PURE__ */ new Map();\n        this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n      };\n      return Mirror2;\n    }();\n    function createMirror$1() {\n      return new Mirror$1();\n    }\n    function parseCSSText(cssText) {\n      const res = {};\n      const listDelimiter = /;(?![^(]*\\))/g;\n      const propertyDelimiter = /:(.+)/;\n      const comment = /\\/\\*.*?\\*\\//g;\n      cssText.replace(comment, \"\").split(listDelimiter).forEach(function(item) {\n        if (item) {\n          const tmp = item.split(propertyDelimiter);\n          tmp.length > 1 && (res[camelize(tmp[0].trim())] = tmp[1].trim());\n        }\n      });\n      return res;\n    }\n    function toCSSText(style) {\n      const properties = [];\n      for (const name in style) {\n        const value = style[name];\n        if (typeof value !== \"string\")\n          continue;\n        const normalizedName = hyphenate(name);\n        properties.push(`${normalizedName}: ${value};`);\n      }\n      return properties.join(\" \");\n    }\n    const camelizeRE = /-([a-z])/g;\n    const CUSTOM_PROPERTY_REGEX = /^--[a-zA-Z0-9-]+$/;\n    const camelize = (str) => {\n      if (CUSTOM_PROPERTY_REGEX.test(str))\n        return str;\n      return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n    };\n    const hyphenateRE = /\\B([A-Z])/g;\n    const hyphenate = (str) => {\n      return str.replace(hyphenateRE, \"-$1\").toLowerCase();\n    };\n    class BaseRRNode {\n      constructor(..._args) {\n        this.childNodes = [];\n        this.parentElement = null;\n        this.parentNode = null;\n        this.ELEMENT_NODE = NodeType.ELEMENT_NODE;\n        this.TEXT_NODE = NodeType.TEXT_NODE;\n      }\n      get firstChild() {\n        return this.childNodes[0] || null;\n      }\n      get lastChild() {\n        return this.childNodes[this.childNodes.length - 1] || null;\n      }\n      get nextSibling() {\n        const parentNode = this.parentNode;\n        if (!parentNode)\n          return null;\n        const siblings = parentNode.childNodes;\n        const index = siblings.indexOf(this);\n        return siblings[index + 1] || null;\n      }\n      contains(node) {\n        if (node === this)\n          return true;\n        for (const child of this.childNodes) {\n          if (child.contains(node))\n            return true;\n        }\n        return false;\n      }\n      appendChild(_newChild) {\n        throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`);\n      }\n      insertBefore(_newChild, _refChild) {\n        throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`);\n      }\n      removeChild(_node) {\n        throw new Error(`RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`);\n      }\n      toString() {\n        return \"RRNode\";\n      }\n    }\n    function BaseRRDocumentImpl(RRNodeClass) {\n      return class BaseRRDocument extends RRNodeClass {\n        constructor() {\n          super(...arguments);\n          this.nodeType = NodeType.DOCUMENT_NODE;\n          this.nodeName = \"#document\";\n          this.compatMode = \"CSS1Compat\";\n          this.RRNodeType = NodeType$1.Document;\n          this.textContent = null;\n        }\n        get documentElement() {\n          return this.childNodes.find((node) => node.RRNodeType === NodeType$1.Element && node.tagName === \"HTML\") || null;\n        }\n        get body() {\n          var _a;\n          return ((_a = this.documentElement) === null || _a === void 0 ? void 0 : _a.childNodes.find((node) => node.RRNodeType === NodeType$1.Element && node.tagName === \"BODY\")) || null;\n        }\n        get head() {\n          var _a;\n          return ((_a = this.documentElement) === null || _a === void 0 ? void 0 : _a.childNodes.find((node) => node.RRNodeType === NodeType$1.Element && node.tagName === \"HEAD\")) || null;\n        }\n        get implementation() {\n          return this;\n        }\n        get firstElementChild() {\n          return this.documentElement;\n        }\n        appendChild(childNode) {\n          const nodeType = childNode.RRNodeType;\n          if (nodeType === NodeType$1.Element || nodeType === NodeType$1.DocumentType) {\n            if (this.childNodes.some((s) => s.RRNodeType === nodeType)) {\n              throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${nodeType === NodeType$1.Element ? \"RRElement\" : \"RRDoctype\"} on RRDocument allowed.`);\n            }\n          }\n          childNode.parentElement = null;\n          childNode.parentNode = this;\n          this.childNodes.push(childNode);\n          return childNode;\n        }\n        insertBefore(newChild, refChild) {\n          const nodeType = newChild.RRNodeType;\n          if (nodeType === NodeType$1.Element || nodeType === NodeType$1.DocumentType) {\n            if (this.childNodes.some((s) => s.RRNodeType === nodeType)) {\n              throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${nodeType === NodeType$1.Element ? \"RRElement\" : \"RRDoctype\"} on RRDocument allowed.`);\n            }\n          }\n          if (refChild === null)\n            return this.appendChild(newChild);\n          const childIndex = this.childNodes.indexOf(refChild);\n          if (childIndex == -1)\n            throw new Error(\"Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.\");\n          this.childNodes.splice(childIndex, 0, newChild);\n          newChild.parentElement = null;\n          newChild.parentNode = this;\n          return newChild;\n        }\n        removeChild(node) {\n          const indexOfChild = this.childNodes.indexOf(node);\n          if (indexOfChild === -1)\n            throw new Error(\"Failed to execute 'removeChild' on 'RRDocument': The RRNode to be removed is not a child of this RRNode.\");\n          this.childNodes.splice(indexOfChild, 1);\n          node.parentElement = null;\n          node.parentNode = null;\n          return node;\n        }\n        open() {\n          this.childNodes = [];\n        }\n        close() {\n        }\n        write(content) {\n          let publicId;\n          if (content === '<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"\">')\n            publicId = \"-//W3C//DTD XHTML 1.0 Transitional//EN\";\n          else if (content === '<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"\">')\n            publicId = \"-//W3C//DTD HTML 4.0 Transitional//EN\";\n          if (publicId) {\n            const doctype = this.createDocumentType(\"html\", publicId, \"\");\n            this.open();\n            this.appendChild(doctype);\n          }\n        }\n        createDocument(_namespace, _qualifiedName, _doctype) {\n          return new BaseRRDocument();\n        }\n        createDocumentType(qualifiedName, publicId, systemId) {\n          const doctype = new (BaseRRDocumentTypeImpl(BaseRRNode))(qualifiedName, publicId, systemId);\n          doctype.ownerDocument = this;\n          return doctype;\n        }\n        createElement(tagName) {\n          const element = new (BaseRRElementImpl(BaseRRNode))(tagName);\n          element.ownerDocument = this;\n          return element;\n        }\n        createElementNS(_namespaceURI, qualifiedName) {\n          return this.createElement(qualifiedName);\n        }\n        createTextNode(data) {\n          const text = new (BaseRRTextImpl(BaseRRNode))(data);\n          text.ownerDocument = this;\n          return text;\n        }\n        createComment(data) {\n          const comment = new (BaseRRCommentImpl(BaseRRNode))(data);\n          comment.ownerDocument = this;\n          return comment;\n        }\n        createCDATASection(data) {\n          const CDATASection = new (BaseRRCDATASectionImpl(BaseRRNode))(data);\n          CDATASection.ownerDocument = this;\n          return CDATASection;\n        }\n        toString() {\n          return \"RRDocument\";\n        }\n      };\n    }\n    function BaseRRDocumentTypeImpl(RRNodeClass) {\n      return class BaseRRDocumentType extends RRNodeClass {\n        constructor(qualifiedName, publicId, systemId) {\n          super();\n          this.nodeType = NodeType.DOCUMENT_TYPE_NODE;\n          this.RRNodeType = NodeType$1.DocumentType;\n          this.textContent = null;\n          this.name = qualifiedName;\n          this.publicId = publicId;\n          this.systemId = systemId;\n          this.nodeName = qualifiedName;\n        }\n        toString() {\n          return \"RRDocumentType\";\n        }\n      };\n    }\n    function BaseRRElementImpl(RRNodeClass) {\n      return class BaseRRElement extends RRNodeClass {\n        constructor(tagName) {\n          super();\n          this.nodeType = NodeType.ELEMENT_NODE;\n          this.RRNodeType = NodeType$1.Element;\n          this.attributes = {};\n          this.shadowRoot = null;\n          this.tagName = tagName.toUpperCase();\n          this.nodeName = tagName.toUpperCase();\n        }\n        get textContent() {\n          let result = \"\";\n          this.childNodes.forEach((node) => result += node.textContent);\n          return result;\n        }\n        set textContent(textContent) {\n          this.childNodes = [this.ownerDocument.createTextNode(textContent)];\n        }\n        get classList() {\n          return new ClassList(this.attributes.class, (newClassName) => {\n            this.attributes.class = newClassName;\n          });\n        }\n        get id() {\n          return this.attributes.id || \"\";\n        }\n        get className() {\n          return this.attributes.class || \"\";\n        }\n        get style() {\n          const style = this.attributes.style ? parseCSSText(this.attributes.style) : {};\n          const hyphenateRE2 = /\\B([A-Z])/g;\n          style.setProperty = (name, value, priority) => {\n            if (hyphenateRE2.test(name))\n              return;\n            const normalizedName = camelize(name);\n            if (!value)\n              delete style[normalizedName];\n            else\n              style[normalizedName] = value;\n            if (priority === \"important\")\n              style[normalizedName] += \" !important\";\n            this.attributes.style = toCSSText(style);\n          };\n          style.removeProperty = (name) => {\n            if (hyphenateRE2.test(name))\n              return \"\";\n            const normalizedName = camelize(name);\n            const value = style[normalizedName] || \"\";\n            delete style[normalizedName];\n            this.attributes.style = toCSSText(style);\n            return value;\n          };\n          return style;\n        }\n        getAttribute(name) {\n          return this.attributes[name] || null;\n        }\n        setAttribute(name, attribute) {\n          this.attributes[name] = attribute;\n        }\n        setAttributeNS(_namespace, qualifiedName, value) {\n          this.setAttribute(qualifiedName, value);\n        }\n        removeAttribute(name) {\n          delete this.attributes[name];\n        }\n        appendChild(newChild) {\n          this.childNodes.push(newChild);\n          newChild.parentNode = this;\n          newChild.parentElement = this;\n          return newChild;\n        }\n        insertBefore(newChild, refChild) {\n          if (refChild === null)\n            return this.appendChild(newChild);\n          const childIndex = this.childNodes.indexOf(refChild);\n          if (childIndex == -1)\n            throw new Error(\"Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.\");\n          this.childNodes.splice(childIndex, 0, newChild);\n          newChild.parentElement = this;\n          newChild.parentNode = this;\n          return newChild;\n        }\n        removeChild(node) {\n          const indexOfChild = this.childNodes.indexOf(node);\n          if (indexOfChild === -1)\n            throw new Error(\"Failed to execute 'removeChild' on 'RRElement': The RRNode to be removed is not a child of this RRNode.\");\n          this.childNodes.splice(indexOfChild, 1);\n          node.parentElement = null;\n          node.parentNode = null;\n          return node;\n        }\n        attachShadow(_init) {\n          const shadowRoot = this.ownerDocument.createElement(\"SHADOWROOT\");\n          this.shadowRoot = shadowRoot;\n          return shadowRoot;\n        }\n        dispatchEvent(_event) {\n          return true;\n        }\n        toString() {\n          let attributeString = \"\";\n          for (const attribute in this.attributes) {\n            attributeString += `${attribute}=\"${this.attributes[attribute]}\" `;\n          }\n          return `${this.tagName} ${attributeString}`;\n        }\n      };\n    }\n    function BaseRRMediaElementImpl(RRElementClass) {\n      return class BaseRRMediaElement extends RRElementClass {\n        attachShadow(_init) {\n          throw new Error(`RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow`);\n        }\n        play() {\n          this.paused = false;\n        }\n        pause() {\n          this.paused = true;\n        }\n      };\n    }\n    function BaseRRTextImpl(RRNodeClass) {\n      return class BaseRRText extends RRNodeClass {\n        constructor(data) {\n          super();\n          this.nodeType = NodeType.TEXT_NODE;\n          this.nodeName = \"#text\";\n          this.RRNodeType = NodeType$1.Text;\n          this.data = data;\n        }\n        get textContent() {\n          return this.data;\n        }\n        set textContent(textContent) {\n          this.data = textContent;\n        }\n        toString() {\n          return `RRText text=${JSON.stringify(this.data)}`;\n        }\n      };\n    }\n    function BaseRRCommentImpl(RRNodeClass) {\n      return class BaseRRComment extends RRNodeClass {\n        constructor(data) {\n          super();\n          this.nodeType = NodeType.COMMENT_NODE;\n          this.nodeName = \"#comment\";\n          this.RRNodeType = NodeType$1.Comment;\n          this.data = data;\n        }\n        get textContent() {\n          return this.data;\n        }\n        set textContent(textContent) {\n          this.data = textContent;\n        }\n        toString() {\n          return `RRComment text=${JSON.stringify(this.data)}`;\n        }\n      };\n    }\n    function BaseRRCDATASectionImpl(RRNodeClass) {\n      return class BaseRRCDATASection extends RRNodeClass {\n        constructor(data) {\n          super();\n          this.nodeName = \"#cdata-section\";\n          this.nodeType = NodeType.CDATA_SECTION_NODE;\n          this.RRNodeType = NodeType$1.CDATA;\n          this.data = data;\n        }\n        get textContent() {\n          return this.data;\n        }\n        set textContent(textContent) {\n          this.data = textContent;\n        }\n        toString() {\n          return `RRCDATASection data=${JSON.stringify(this.data)}`;\n        }\n      };\n    }\n    class ClassList {\n      constructor(classText, onChange) {\n        this.classes = [];\n        this.add = (...classNames) => {\n          for (const item of classNames) {\n            const className = String(item);\n            if (this.classes.indexOf(className) >= 0)\n              continue;\n            this.classes.push(className);\n          }\n          this.onChange && this.onChange(this.classes.join(\" \"));\n        };\n        this.remove = (...classNames) => {\n          this.classes = this.classes.filter((item) => classNames.indexOf(item) === -1);\n          this.onChange && this.onChange(this.classes.join(\" \"));\n        };\n        if (classText) {\n          const classes = classText.trim().split(/\\s+/);\n          this.classes.push(...classes);\n        }\n        this.onChange = onChange;\n      }\n    }\n    var NodeType;\n    (function(NodeType2) {\n      NodeType2[NodeType2[\"PLACEHOLDER\"] = 0] = \"PLACEHOLDER\";\n      NodeType2[NodeType2[\"ELEMENT_NODE\"] = 1] = \"ELEMENT_NODE\";\n      NodeType2[NodeType2[\"ATTRIBUTE_NODE\"] = 2] = \"ATTRIBUTE_NODE\";\n      NodeType2[NodeType2[\"TEXT_NODE\"] = 3] = \"TEXT_NODE\";\n      NodeType2[NodeType2[\"CDATA_SECTION_NODE\"] = 4] = \"CDATA_SECTION_NODE\";\n      NodeType2[NodeType2[\"ENTITY_REFERENCE_NODE\"] = 5] = \"ENTITY_REFERENCE_NODE\";\n      NodeType2[NodeType2[\"ENTITY_NODE\"] = 6] = \"ENTITY_NODE\";\n      NodeType2[NodeType2[\"PROCESSING_INSTRUCTION_NODE\"] = 7] = \"PROCESSING_INSTRUCTION_NODE\";\n      NodeType2[NodeType2[\"COMMENT_NODE\"] = 8] = \"COMMENT_NODE\";\n      NodeType2[NodeType2[\"DOCUMENT_NODE\"] = 9] = \"DOCUMENT_NODE\";\n      NodeType2[NodeType2[\"DOCUMENT_TYPE_NODE\"] = 10] = \"DOCUMENT_TYPE_NODE\";\n      NodeType2[NodeType2[\"DOCUMENT_FRAGMENT_NODE\"] = 11] = \"DOCUMENT_FRAGMENT_NODE\";\n    })(NodeType || (NodeType = {}));\n    const NAMESPACES = {\n      svg: \"http://www.w3.org/2000/svg\",\n      \"xlink:href\": \"http://www.w3.org/1999/xlink\",\n      xmlns: \"http://www.w3.org/2000/xmlns/\"\n    };\n    const SVGTagMap = {\n      altglyph: \"altGlyph\",\n      altglyphdef: \"altGlyphDef\",\n      altglyphitem: \"altGlyphItem\",\n      animatecolor: \"animateColor\",\n      animatemotion: \"animateMotion\",\n      animatetransform: \"animateTransform\",\n      clippath: \"clipPath\",\n      feblend: \"feBlend\",\n      fecolormatrix: \"feColorMatrix\",\n      fecomponenttransfer: \"feComponentTransfer\",\n      fecomposite: \"feComposite\",\n      feconvolvematrix: \"feConvolveMatrix\",\n      fediffuselighting: \"feDiffuseLighting\",\n      fedisplacementmap: \"feDisplacementMap\",\n      fedistantlight: \"feDistantLight\",\n      fedropshadow: \"feDropShadow\",\n      feflood: \"feFlood\",\n      fefunca: \"feFuncA\",\n      fefuncb: \"feFuncB\",\n      fefuncg: \"feFuncG\",\n      fefuncr: \"feFuncR\",\n      fegaussianblur: \"feGaussianBlur\",\n      feimage: \"feImage\",\n      femerge: \"feMerge\",\n      femergenode: \"feMergeNode\",\n      femorphology: \"feMorphology\",\n      feoffset: \"feOffset\",\n      fepointlight: \"fePointLight\",\n      fespecularlighting: \"feSpecularLighting\",\n      fespotlight: \"feSpotLight\",\n      fetile: \"feTile\",\n      feturbulence: \"feTurbulence\",\n      foreignobject: \"foreignObject\",\n      glyphref: \"glyphRef\",\n      lineargradient: \"linearGradient\",\n      radialgradient: \"radialGradient\"\n    };\n    function diff(oldTree, newTree, replayer, rrnodeMirror) {\n      const oldChildren = oldTree.childNodes;\n      const newChildren = newTree.childNodes;\n      rrnodeMirror = rrnodeMirror || newTree.mirror || newTree.ownerDocument.mirror;\n      if (oldChildren.length > 0 || newChildren.length > 0) {\n        diffChildren(Array.from(oldChildren), newChildren, oldTree, replayer, rrnodeMirror);\n      }\n      let inputDataToApply = null, scrollDataToApply = null;\n      switch (newTree.RRNodeType) {\n        case NodeType$1.Document: {\n          const newRRDocument = newTree;\n          scrollDataToApply = newRRDocument.scrollData;\n          break;\n        }\n        case NodeType$1.Element: {\n          const oldElement = oldTree;\n          const newRRElement = newTree;\n          diffProps(oldElement, newRRElement, rrnodeMirror);\n          scrollDataToApply = newRRElement.scrollData;\n          inputDataToApply = newRRElement.inputData;\n          switch (newRRElement.tagName) {\n            case \"AUDIO\":\n            case \"VIDEO\": {\n              const oldMediaElement = oldTree;\n              const newMediaRRElement = newRRElement;\n              if (newMediaRRElement.paused !== void 0)\n                newMediaRRElement.paused ? void oldMediaElement.pause() : void oldMediaElement.play();\n              if (newMediaRRElement.muted !== void 0)\n                oldMediaElement.muted = newMediaRRElement.muted;\n              if (newMediaRRElement.volume !== void 0)\n                oldMediaElement.volume = newMediaRRElement.volume;\n              if (newMediaRRElement.currentTime !== void 0)\n                oldMediaElement.currentTime = newMediaRRElement.currentTime;\n              if (newMediaRRElement.playbackRate !== void 0)\n                oldMediaElement.playbackRate = newMediaRRElement.playbackRate;\n              break;\n            }\n            case \"CANVAS\":\n              {\n                const rrCanvasElement = newTree;\n                if (rrCanvasElement.rr_dataURL !== null) {\n                  const image = document.createElement(\"img\");\n                  image.onload = () => {\n                    const ctx = oldElement.getContext(\"2d\");\n                    if (ctx) {\n                      ctx.drawImage(image, 0, 0, image.width, image.height);\n                    }\n                  };\n                  image.src = rrCanvasElement.rr_dataURL;\n                }\n                rrCanvasElement.canvasMutations.forEach((canvasMutation) => replayer.applyCanvas(canvasMutation.event, canvasMutation.mutation, oldTree));\n              }\n              break;\n            case \"STYLE\":\n              {\n                const styleSheet = oldElement.sheet;\n                styleSheet && newTree.rules.forEach((data) => replayer.applyStyleSheetMutation(data, styleSheet));\n              }\n              break;\n          }\n          if (newRRElement.shadowRoot) {\n            if (!oldElement.shadowRoot)\n              oldElement.attachShadow({ mode: \"open\" });\n            const oldChildren2 = oldElement.shadowRoot.childNodes;\n            const newChildren2 = newRRElement.shadowRoot.childNodes;\n            if (oldChildren2.length > 0 || newChildren2.length > 0)\n              diffChildren(Array.from(oldChildren2), newChildren2, oldElement.shadowRoot, replayer, rrnodeMirror);\n          }\n          break;\n        }\n        case NodeType$1.Text:\n        case NodeType$1.Comment:\n        case NodeType$1.CDATA:\n          if (oldTree.textContent !== newTree.data)\n            oldTree.textContent = newTree.data;\n          break;\n      }\n      scrollDataToApply && replayer.applyScroll(scrollDataToApply, true);\n      inputDataToApply && replayer.applyInput(inputDataToApply);\n      if (newTree.nodeName === \"IFRAME\") {\n        const oldContentDocument = oldTree.contentDocument;\n        const newIFrameElement = newTree;\n        if (oldContentDocument) {\n          const sn = rrnodeMirror.getMeta(newIFrameElement.contentDocument);\n          if (sn) {\n            replayer.mirror.add(oldContentDocument, Object.assign({}, sn));\n          }\n          diff(oldContentDocument, newIFrameElement.contentDocument, replayer, rrnodeMirror);\n        }\n      }\n    }\n    function diffProps(oldTree, newTree, rrnodeMirror) {\n      const oldAttributes = oldTree.attributes;\n      const newAttributes = newTree.attributes;\n      for (const name in newAttributes) {\n        const newValue = newAttributes[name];\n        const sn = rrnodeMirror.getMeta(newTree);\n        if (sn && \"isSVG\" in sn && sn.isSVG && NAMESPACES[name])\n          oldTree.setAttributeNS(NAMESPACES[name], name, newValue);\n        else if (newTree.tagName === \"CANVAS\" && name === \"rr_dataURL\") {\n          const image = document.createElement(\"img\");\n          image.src = newValue;\n          image.onload = () => {\n            const ctx = oldTree.getContext(\"2d\");\n            if (ctx) {\n              ctx.drawImage(image, 0, 0, image.width, image.height);\n            }\n          };\n        } else\n          oldTree.setAttribute(name, newValue);\n      }\n      for (const { name } of Array.from(oldAttributes))\n        if (!(name in newAttributes))\n          oldTree.removeAttribute(name);\n      newTree.scrollLeft && (oldTree.scrollLeft = newTree.scrollLeft);\n      newTree.scrollTop && (oldTree.scrollTop = newTree.scrollTop);\n    }\n    function diffChildren(oldChildren, newChildren, parentNode, replayer, rrnodeMirror) {\n      var _a;\n      let oldStartIndex = 0, oldEndIndex = oldChildren.length - 1, newStartIndex = 0, newEndIndex = newChildren.length - 1;\n      let oldStartNode = oldChildren[oldStartIndex], oldEndNode = oldChildren[oldEndIndex], newStartNode = newChildren[newStartIndex], newEndNode = newChildren[newEndIndex];\n      let oldIdToIndex = void 0, indexInOld;\n      while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\n        const oldStartId = replayer.mirror.getId(oldStartNode);\n        const oldEndId = replayer.mirror.getId(oldEndNode);\n        const newStartId = rrnodeMirror.getId(newStartNode);\n        const newEndId = rrnodeMirror.getId(newEndNode);\n        if (oldStartNode === void 0) {\n          oldStartNode = oldChildren[++oldStartIndex];\n        } else if (oldEndNode === void 0) {\n          oldEndNode = oldChildren[--oldEndIndex];\n        } else if (oldStartId !== -1 && oldStartId === newStartId) {\n          diff(oldStartNode, newStartNode, replayer, rrnodeMirror);\n          oldStartNode = oldChildren[++oldStartIndex];\n          newStartNode = newChildren[++newStartIndex];\n        } else if (oldEndId !== -1 && oldEndId === newEndId) {\n          diff(oldEndNode, newEndNode, replayer, rrnodeMirror);\n          oldEndNode = oldChildren[--oldEndIndex];\n          newEndNode = newChildren[--newEndIndex];\n        } else if (oldStartId !== -1 && oldStartId === newEndId) {\n          parentNode.insertBefore(oldStartNode, oldEndNode.nextSibling);\n          diff(oldStartNode, newEndNode, replayer, rrnodeMirror);\n          oldStartNode = oldChildren[++oldStartIndex];\n          newEndNode = newChildren[--newEndIndex];\n        } else if (oldEndId !== -1 && oldEndId === newStartId) {\n          parentNode.insertBefore(oldEndNode, oldStartNode);\n          diff(oldEndNode, newStartNode, replayer, rrnodeMirror);\n          oldEndNode = oldChildren[--oldEndIndex];\n          newStartNode = newChildren[++newStartIndex];\n        } else {\n          if (!oldIdToIndex) {\n            oldIdToIndex = {};\n            for (let i = oldStartIndex; i <= oldEndIndex; i++) {\n              const oldChild = oldChildren[i];\n              if (oldChild && replayer.mirror.hasNode(oldChild))\n                oldIdToIndex[replayer.mirror.getId(oldChild)] = i;\n            }\n          }\n          indexInOld = oldIdToIndex[rrnodeMirror.getId(newStartNode)];\n          if (indexInOld) {\n            const nodeToMove = oldChildren[indexInOld];\n            parentNode.insertBefore(nodeToMove, oldStartNode);\n            diff(nodeToMove, newStartNode, replayer, rrnodeMirror);\n            oldChildren[indexInOld] = void 0;\n          } else {\n            const newNode = createOrGetNode(newStartNode, replayer.mirror, rrnodeMirror);\n            if (parentNode.nodeName === \"#document\" && ((_a = replayer.mirror.getMeta(newNode)) === null || _a === void 0 ? void 0 : _a.type) === NodeType$1.Element && parentNode.documentElement) {\n              parentNode.removeChild(parentNode.documentElement);\n              oldChildren[oldStartIndex] = void 0;\n              oldStartNode = void 0;\n            }\n            parentNode.insertBefore(newNode, oldStartNode || null);\n            diff(newNode, newStartNode, replayer, rrnodeMirror);\n          }\n          newStartNode = newChildren[++newStartIndex];\n        }\n      }\n      if (oldStartIndex > oldEndIndex) {\n        const referenceRRNode = newChildren[newEndIndex + 1];\n        let referenceNode = null;\n        if (referenceRRNode)\n          parentNode.childNodes.forEach((child) => {\n            if (replayer.mirror.getId(child) === rrnodeMirror.getId(referenceRRNode))\n              referenceNode = child;\n          });\n        for (; newStartIndex <= newEndIndex; ++newStartIndex) {\n          const newNode = createOrGetNode(newChildren[newStartIndex], replayer.mirror, rrnodeMirror);\n          parentNode.insertBefore(newNode, referenceNode);\n          diff(newNode, newChildren[newStartIndex], replayer, rrnodeMirror);\n        }\n      } else if (newStartIndex > newEndIndex) {\n        for (; oldStartIndex <= oldEndIndex; oldStartIndex++) {\n          const node = oldChildren[oldStartIndex];\n          if (node) {\n            parentNode.removeChild(node);\n            replayer.mirror.removeNodeFromMap(node);\n          }\n        }\n      }\n    }\n    function createOrGetNode(rrNode, domMirror, rrnodeMirror) {\n      const nodeId = rrnodeMirror.getId(rrNode);\n      const sn = rrnodeMirror.getMeta(rrNode);\n      let node = null;\n      if (nodeId > -1)\n        node = domMirror.getNode(nodeId);\n      if (node !== null)\n        return node;\n      switch (rrNode.RRNodeType) {\n        case NodeType$1.Document:\n          node = new Document();\n          break;\n        case NodeType$1.DocumentType:\n          node = document.implementation.createDocumentType(rrNode.name, rrNode.publicId, rrNode.systemId);\n          break;\n        case NodeType$1.Element: {\n          let tagName = rrNode.tagName.toLowerCase();\n          tagName = SVGTagMap[tagName] || tagName;\n          if (sn && \"isSVG\" in sn && (sn === null || sn === void 0 ? void 0 : sn.isSVG)) {\n            node = document.createElementNS(NAMESPACES[\"svg\"], tagName);\n          } else\n            node = document.createElement(rrNode.tagName);\n          break;\n        }\n        case NodeType$1.Text:\n          node = document.createTextNode(rrNode.data);\n          break;\n        case NodeType$1.Comment:\n          node = document.createComment(rrNode.data);\n          break;\n        case NodeType$1.CDATA:\n          node = document.createCDATASection(rrNode.data);\n          break;\n      }\n      if (sn)\n        domMirror.add(node, Object.assign({}, sn));\n      return node;\n    }\n    class RRDocument extends BaseRRDocumentImpl(BaseRRNode) {\n      constructor(mirror) {\n        super();\n        this.UNSERIALIZED_STARTING_ID = -2;\n        this._unserializedId = this.UNSERIALIZED_STARTING_ID;\n        this.mirror = createMirror();\n        this.scrollData = null;\n        if (mirror) {\n          this.mirror = mirror;\n        }\n      }\n      get unserializedId() {\n        return this._unserializedId--;\n      }\n      createDocument(_namespace, _qualifiedName, _doctype) {\n        return new RRDocument();\n      }\n      createDocumentType(qualifiedName, publicId, systemId) {\n        const documentTypeNode = new RRDocumentType(qualifiedName, publicId, systemId);\n        documentTypeNode.ownerDocument = this;\n        return documentTypeNode;\n      }\n      createElement(tagName) {\n        const upperTagName = tagName.toUpperCase();\n        let element;\n        switch (upperTagName) {\n          case \"AUDIO\":\n          case \"VIDEO\":\n            element = new RRMediaElement(upperTagName);\n            break;\n          case \"IFRAME\":\n            element = new RRIFrameElement(upperTagName, this.mirror);\n            break;\n          case \"CANVAS\":\n            element = new RRCanvasElement(upperTagName);\n            break;\n          case \"STYLE\":\n            element = new RRStyleElement(upperTagName);\n            break;\n          default:\n            element = new RRElement(upperTagName);\n            break;\n        }\n        element.ownerDocument = this;\n        return element;\n      }\n      createComment(data) {\n        const commentNode = new RRComment(data);\n        commentNode.ownerDocument = this;\n        return commentNode;\n      }\n      createCDATASection(data) {\n        const sectionNode = new RRCDATASection(data);\n        sectionNode.ownerDocument = this;\n        return sectionNode;\n      }\n      createTextNode(data) {\n        const textNode = new RRText(data);\n        textNode.ownerDocument = this;\n        return textNode;\n      }\n      destroyTree() {\n        this.childNodes = [];\n        this.mirror.reset();\n      }\n      open() {\n        super.open();\n        this._unserializedId = this.UNSERIALIZED_STARTING_ID;\n      }\n    }\n    const RRDocumentType = BaseRRDocumentTypeImpl(BaseRRNode);\n    class RRElement extends BaseRRElementImpl(BaseRRNode) {\n      constructor() {\n        super(...arguments);\n        this.inputData = null;\n        this.scrollData = null;\n      }\n    }\n    class RRMediaElement extends BaseRRMediaElementImpl(RRElement) {\n    }\n    class RRCanvasElement extends RRElement {\n      constructor() {\n        super(...arguments);\n        this.rr_dataURL = null;\n        this.canvasMutations = [];\n      }\n      getContext() {\n        return null;\n      }\n    }\n    class RRStyleElement extends RRElement {\n      constructor() {\n        super(...arguments);\n        this.rules = [];\n      }\n    }\n    class RRIFrameElement extends RRElement {\n      constructor(upperTagName, mirror) {\n        super(upperTagName);\n        this.contentDocument = new RRDocument();\n        this.contentDocument.mirror = mirror;\n      }\n    }\n    const RRText = BaseRRTextImpl(BaseRRNode);\n    const RRComment = BaseRRCommentImpl(BaseRRNode);\n    const RRCDATASection = BaseRRCDATASectionImpl(BaseRRNode);\n    function getValidTagName(element) {\n      if (element instanceof HTMLFormElement) {\n        return \"FORM\";\n      }\n      return element.tagName.toUpperCase();\n    }\n    function buildFromNode(node, rrdom, domMirror, parentRRNode) {\n      let rrNode;\n      switch (node.nodeType) {\n        case NodeType.DOCUMENT_NODE:\n          if (parentRRNode && parentRRNode.nodeName === \"IFRAME\")\n            rrNode = parentRRNode.contentDocument;\n          else {\n            rrNode = rrdom;\n            rrNode.compatMode = node.compatMode;\n          }\n          break;\n        case NodeType.DOCUMENT_TYPE_NODE: {\n          const documentType = node;\n          rrNode = rrdom.createDocumentType(documentType.name, documentType.publicId, documentType.systemId);\n          break;\n        }\n        case NodeType.ELEMENT_NODE: {\n          const elementNode = node;\n          const tagName = getValidTagName(elementNode);\n          rrNode = rrdom.createElement(tagName);\n          const rrElement = rrNode;\n          for (const { name, value } of Array.from(elementNode.attributes)) {\n            rrElement.attributes[name] = value;\n          }\n          elementNode.scrollLeft && (rrElement.scrollLeft = elementNode.scrollLeft);\n          elementNode.scrollTop && (rrElement.scrollTop = elementNode.scrollTop);\n          break;\n        }\n        case NodeType.TEXT_NODE:\n          rrNode = rrdom.createTextNode(node.textContent || \"\");\n          break;\n        case NodeType.CDATA_SECTION_NODE:\n          rrNode = rrdom.createCDATASection(node.data);\n          break;\n        case NodeType.COMMENT_NODE:\n          rrNode = rrdom.createComment(node.textContent || \"\");\n          break;\n        case NodeType.DOCUMENT_FRAGMENT_NODE:\n          rrNode = parentRRNode.attachShadow({ mode: \"open\" });\n          break;\n        default:\n          return null;\n      }\n      let sn = domMirror.getMeta(node);\n      if (rrdom instanceof RRDocument) {\n        if (!sn) {\n          sn = getDefaultSN(rrNode, rrdom.unserializedId);\n          domMirror.add(node, sn);\n        }\n        rrdom.mirror.add(rrNode, Object.assign({}, sn));\n      }\n      return rrNode;\n    }\n    function buildFromDom(dom, domMirror = createMirror$1(), rrdom = new RRDocument()) {\n      function walk2(node, parentRRNode) {\n        const rrNode = buildFromNode(node, rrdom, domMirror, parentRRNode);\n        if (rrNode === null)\n          return;\n        if ((parentRRNode === null || parentRRNode === void 0 ? void 0 : parentRRNode.nodeName) !== \"IFRAME\" && node.nodeType !== NodeType.DOCUMENT_FRAGMENT_NODE) {\n          parentRRNode === null || parentRRNode === void 0 ? void 0 : parentRRNode.appendChild(rrNode);\n          rrNode.parentNode = parentRRNode;\n          rrNode.parentElement = parentRRNode;\n        }\n        if (node.nodeName === \"IFRAME\") {\n          const iframeDoc = node.contentDocument;\n          iframeDoc && walk2(iframeDoc, rrNode);\n        } else if (node.nodeType === NodeType.DOCUMENT_NODE || node.nodeType === NodeType.ELEMENT_NODE || node.nodeType === NodeType.DOCUMENT_FRAGMENT_NODE) {\n          if (node.nodeType === NodeType.ELEMENT_NODE && node.shadowRoot)\n            walk2(node.shadowRoot, rrNode);\n          node.childNodes.forEach((childNode) => walk2(childNode, rrNode));\n        }\n      }\n      walk2(dom, null);\n      return rrdom;\n    }\n    function createMirror() {\n      return new Mirror();\n    }\n    class Mirror {\n      constructor() {\n        this.idNodeMap = /* @__PURE__ */ new Map();\n        this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n      }\n      getId(n) {\n        var _a;\n        if (!n)\n          return -1;\n        const id = (_a = this.getMeta(n)) === null || _a === void 0 ? void 0 : _a.id;\n        return id !== null && id !== void 0 ? id : -1;\n      }\n      getNode(id) {\n        return this.idNodeMap.get(id) || null;\n      }\n      getIds() {\n        return Array.from(this.idNodeMap.keys());\n      }\n      getMeta(n) {\n        return this.nodeMetaMap.get(n) || null;\n      }\n      removeNodeFromMap(n) {\n        const id = this.getId(n);\n        this.idNodeMap.delete(id);\n        if (n.childNodes) {\n          n.childNodes.forEach((childNode) => this.removeNodeFromMap(childNode));\n        }\n      }\n      has(id) {\n        return this.idNodeMap.has(id);\n      }\n      hasNode(node) {\n        return this.nodeMetaMap.has(node);\n      }\n      add(n, meta) {\n        const id = meta.id;\n        this.idNodeMap.set(id, n);\n        this.nodeMetaMap.set(n, meta);\n      }\n      replace(id, n) {\n        const oldNode = this.getNode(id);\n        if (oldNode) {\n          const meta = this.nodeMetaMap.get(oldNode);\n          if (meta)\n            this.nodeMetaMap.set(n, meta);\n        }\n        this.idNodeMap.set(id, n);\n      }\n      reset() {\n        this.idNodeMap = /* @__PURE__ */ new Map();\n        this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n      }\n    }\n    function getDefaultSN(node, id) {\n      switch (node.RRNodeType) {\n        case NodeType$1.Document:\n          return {\n            id,\n            type: node.RRNodeType,\n            childNodes: []\n          };\n        case NodeType$1.DocumentType: {\n          const doctype = node;\n          return {\n            id,\n            type: node.RRNodeType,\n            name: doctype.name,\n            publicId: doctype.publicId,\n            systemId: doctype.systemId\n          };\n        }\n        case NodeType$1.Element:\n          return {\n            id,\n            type: node.RRNodeType,\n            tagName: node.tagName.toLowerCase(),\n            attributes: {},\n            childNodes: []\n          };\n        case NodeType$1.Text:\n          return {\n            id,\n            type: node.RRNodeType,\n            textContent: node.textContent || \"\"\n          };\n        case NodeType$1.Comment:\n          return {\n            id,\n            type: node.RRNodeType,\n            textContent: node.textContent || \"\"\n          };\n        case NodeType$1.CDATA:\n          return {\n            id,\n            type: node.RRNodeType,\n            textContent: \"\"\n          };\n      }\n    }\n\n    function mitt$1(n){return {all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e]);},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]));},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e);}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e);});}}}\n\n    var mittProxy = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        'default': mitt$1\n    });\n\n    function polyfill(w = window, d = document) {\n      if (\"scrollBehavior\" in d.documentElement.style && w.__forceSmoothScrollPolyfill__ !== true) {\n        return;\n      }\n      const Element = w.HTMLElement || w.Element;\n      const SCROLL_TIME = 468;\n      const original = {\n        scroll: w.scroll || w.scrollTo,\n        scrollBy: w.scrollBy,\n        elementScroll: Element.prototype.scroll || scrollElement,\n        scrollIntoView: Element.prototype.scrollIntoView\n      };\n      const now = w.performance && w.performance.now ? w.performance.now.bind(w.performance) : Date.now;\n      function isMicrosoftBrowser(userAgent) {\n        const userAgentPatterns = [\"MSIE \", \"Trident/\", \"Edge/\"];\n        return new RegExp(userAgentPatterns.join(\"|\")).test(userAgent);\n      }\n      const ROUNDING_TOLERANCE = isMicrosoftBrowser(w.navigator.userAgent) ? 1 : 0;\n      function scrollElement(x, y) {\n        this.scrollLeft = x;\n        this.scrollTop = y;\n      }\n      function ease(k) {\n        return 0.5 * (1 - Math.cos(Math.PI * k));\n      }\n      function shouldBailOut(firstArg) {\n        if (firstArg === null || typeof firstArg !== \"object\" || firstArg.behavior === void 0 || firstArg.behavior === \"auto\" || firstArg.behavior === \"instant\") {\n          return true;\n        }\n        if (typeof firstArg === \"object\" && firstArg.behavior === \"smooth\") {\n          return false;\n        }\n        throw new TypeError(\"behavior member of ScrollOptions \" + firstArg.behavior + \" is not a valid value for enumeration ScrollBehavior.\");\n      }\n      function hasScrollableSpace(el, axis) {\n        if (axis === \"Y\") {\n          return el.clientHeight + ROUNDING_TOLERANCE < el.scrollHeight;\n        }\n        if (axis === \"X\") {\n          return el.clientWidth + ROUNDING_TOLERANCE < el.scrollWidth;\n        }\n      }\n      function canOverflow(el, axis) {\n        const overflowValue = w.getComputedStyle(el, null)[\"overflow\" + axis];\n        return overflowValue === \"auto\" || overflowValue === \"scroll\";\n      }\n      function isScrollable(el) {\n        const isScrollableY = hasScrollableSpace(el, \"Y\") && canOverflow(el, \"Y\");\n        const isScrollableX = hasScrollableSpace(el, \"X\") && canOverflow(el, \"X\");\n        return isScrollableY || isScrollableX;\n      }\n      function findScrollableParent(el) {\n        while (el !== d.body && isScrollable(el) === false) {\n          el = el.parentNode || el.host;\n        }\n        return el;\n      }\n      function step(context) {\n        const time = now();\n        let value;\n        let currentX;\n        let currentY;\n        let elapsed = (time - context.startTime) / SCROLL_TIME;\n        elapsed = elapsed > 1 ? 1 : elapsed;\n        value = ease(elapsed);\n        currentX = context.startX + (context.x - context.startX) * value;\n        currentY = context.startY + (context.y - context.startY) * value;\n        context.method.call(context.scrollable, currentX, currentY);\n        if (currentX !== context.x || currentY !== context.y) {\n          w.requestAnimationFrame(step.bind(w, context));\n        }\n      }\n      function smoothScroll(el, x, y) {\n        let scrollable;\n        let startX;\n        let startY;\n        let method;\n        const startTime = now();\n        if (el === d.body) {\n          scrollable = w;\n          startX = w.scrollX || w.pageXOffset;\n          startY = w.scrollY || w.pageYOffset;\n          method = original.scroll;\n        } else {\n          scrollable = el;\n          startX = el.scrollLeft;\n          startY = el.scrollTop;\n          method = scrollElement;\n        }\n        step({\n          scrollable,\n          method,\n          startTime,\n          startX,\n          startY,\n          x,\n          y\n        });\n      }\n      w.scroll = w.scrollTo = function() {\n        if (arguments[0] === void 0) {\n          return;\n        }\n        if (shouldBailOut(arguments[0]) === true) {\n          original.scroll.call(w, arguments[0].left !== void 0 ? arguments[0].left : typeof arguments[0] !== \"object\" ? arguments[0] : w.scrollX || w.pageXOffset, arguments[0].top !== void 0 ? arguments[0].top : arguments[1] !== void 0 ? arguments[1] : w.scrollY || w.pageYOffset);\n          return;\n        }\n        smoothScroll.call(w, d.body, arguments[0].left !== void 0 ? ~~arguments[0].left : w.scrollX || w.pageXOffset, arguments[0].top !== void 0 ? ~~arguments[0].top : w.scrollY || w.pageYOffset);\n      };\n      w.scrollBy = function() {\n        if (arguments[0] === void 0) {\n          return;\n        }\n        if (shouldBailOut(arguments[0])) {\n          original.scrollBy.call(w, arguments[0].left !== void 0 ? arguments[0].left : typeof arguments[0] !== \"object\" ? arguments[0] : 0, arguments[0].top !== void 0 ? arguments[0].top : arguments[1] !== void 0 ? arguments[1] : 0);\n          return;\n        }\n        smoothScroll.call(w, d.body, ~~arguments[0].left + (w.scrollX || w.pageXOffset), ~~arguments[0].top + (w.scrollY || w.pageYOffset));\n      };\n      Element.prototype.scroll = Element.prototype.scrollTo = function() {\n        if (arguments[0] === void 0) {\n          return;\n        }\n        if (shouldBailOut(arguments[0]) === true) {\n          if (typeof arguments[0] === \"number\" && arguments[1] === void 0) {\n            throw new SyntaxError(\"Value could not be converted\");\n          }\n          original.elementScroll.call(this, arguments[0].left !== void 0 ? ~~arguments[0].left : typeof arguments[0] !== \"object\" ? ~~arguments[0] : this.scrollLeft, arguments[0].top !== void 0 ? ~~arguments[0].top : arguments[1] !== void 0 ? ~~arguments[1] : this.scrollTop);\n          return;\n        }\n        const left = arguments[0].left;\n        const top = arguments[0].top;\n        smoothScroll.call(this, this, typeof left === \"undefined\" ? this.scrollLeft : ~~left, typeof top === \"undefined\" ? this.scrollTop : ~~top);\n      };\n      Element.prototype.scrollBy = function() {\n        if (arguments[0] === void 0) {\n          return;\n        }\n        if (shouldBailOut(arguments[0]) === true) {\n          original.elementScroll.call(this, arguments[0].left !== void 0 ? ~~arguments[0].left + this.scrollLeft : ~~arguments[0] + this.scrollLeft, arguments[0].top !== void 0 ? ~~arguments[0].top + this.scrollTop : ~~arguments[1] + this.scrollTop);\n          return;\n        }\n        this.scroll({\n          left: ~~arguments[0].left + this.scrollLeft,\n          top: ~~arguments[0].top + this.scrollTop,\n          behavior: arguments[0].behavior\n        });\n      };\n      Element.prototype.scrollIntoView = function() {\n        if (shouldBailOut(arguments[0]) === true) {\n          original.scrollIntoView.call(this, arguments[0] === void 0 ? true : arguments[0]);\n          return;\n        }\n        const scrollableParent = findScrollableParent(this);\n        const parentRects = scrollableParent.getBoundingClientRect();\n        const clientRects = this.getBoundingClientRect();\n        if (scrollableParent !== d.body) {\n          smoothScroll.call(this, scrollableParent, scrollableParent.scrollLeft + clientRects.left - parentRects.left, scrollableParent.scrollTop + clientRects.top - parentRects.top);\n          if (w.getComputedStyle(scrollableParent).position !== \"fixed\") {\n            w.scrollBy({\n              left: parentRects.left,\n              top: parentRects.top,\n              behavior: \"smooth\"\n            });\n          }\n        } else {\n          w.scrollBy({\n            left: clientRects.left,\n            top: clientRects.top,\n            behavior: \"smooth\"\n          });\n        }\n      };\n    }\n\n    class Timer {\n      constructor(actions = [], config) {\n        this.timeOffset = 0;\n        this.raf = null;\n        this.actions = actions;\n        this.speed = config.speed;\n        this.liveMode = config.liveMode;\n      }\n      addAction(action) {\n        if (!this.actions.length || this.actions[this.actions.length - 1].delay <= action.delay) {\n          this.actions.push(action);\n          return;\n        }\n        const index = this.findActionIndex(action);\n        this.actions.splice(index, 0, action);\n      }\n      start() {\n        this.timeOffset = 0;\n        let lastTimestamp = performance.now();\n        const check = () => {\n          const time = performance.now();\n          this.timeOffset += (time - lastTimestamp) * this.speed;\n          lastTimestamp = time;\n          while (this.actions.length) {\n            const action = this.actions[0];\n            if (this.timeOffset >= action.delay) {\n              this.actions.shift();\n              action.doAction();\n            } else {\n              break;\n            }\n          }\n          if (this.actions.length > 0 || this.liveMode) {\n            this.raf = requestAnimationFrame(check);\n          }\n        };\n        this.raf = requestAnimationFrame(check);\n      }\n      clear() {\n        if (this.raf) {\n          cancelAnimationFrame(this.raf);\n          this.raf = null;\n        }\n        this.actions.length = 0;\n      }\n      setSpeed(speed) {\n        this.speed = speed;\n      }\n      toggleLiveMode(mode) {\n        this.liveMode = mode;\n      }\n      isActive() {\n        return this.raf !== null;\n      }\n      findActionIndex(action) {\n        let start = 0;\n        let end = this.actions.length - 1;\n        while (start <= end) {\n          const mid = Math.floor((start + end) / 2);\n          if (this.actions[mid].delay < action.delay) {\n            start = mid + 1;\n          } else if (this.actions[mid].delay > action.delay) {\n            end = mid - 1;\n          } else {\n            return mid + 1;\n          }\n        }\n        return start;\n      }\n    }\n    function addDelay(event, baselineTime) {\n      if (event.type === EventType.IncrementalSnapshot && event.data.source === IncrementalSource.MouseMove && event.data.positions && event.data.positions.length) {\n        const firstOffset = event.data.positions[0].timeOffset;\n        const firstTimestamp = event.timestamp + firstOffset;\n        event.delay = firstTimestamp - baselineTime;\n        return firstTimestamp - baselineTime;\n      }\n      event.delay = event.timestamp - baselineTime;\n      return event.delay;\n    }\n\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n    function t(t,n){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value);}catch(t){o={error:t};}finally{try{r&&!r.done&&(e=i.return)&&e.call(i);}finally{if(o)throw o.error}}return a}var n;!function(t){t[t.NotStarted=0]=\"NotStarted\",t[t.Running=1]=\"Running\",t[t.Stopped=2]=\"Stopped\";}(n||(n={}));var e={type:\"xstate.init\"};function r(t){return void 0===t?[]:[].concat(t)}function o(t){return {type:\"xstate.assign\",assignment:t}}function i$1(t,n){return \"string\"==typeof(t=\"string\"==typeof t&&n&&n[t]?n[t]:t)?{type:t}:\"function\"==typeof t?{type:t.name,exec:t}:t}function a(t){return function(n){return t===n}}function u(t){return \"string\"==typeof t?{type:t}:t}function c(t,n){return {value:t,context:n,actions:[],changed:!1,matches:a(t)}}function f(t,n,e){var r=n,o=!1;return [t.filter((function(t){if(\"xstate.assign\"===t.type){o=!0;var n=Object.assign({},r);return \"function\"==typeof t.assignment?n=t.assignment(r,e):Object.keys(t.assignment).forEach((function(o){n[o]=\"function\"==typeof t.assignment[o]?t.assignment[o](r,e):t.assignment[o];})),r=n,!1}return !0})),r,o]}function s(n,o){void 0===o&&(o={});var s=t(f(r(n.states[n.initial].entry).map((function(t){return i$1(t,o.actions)})),n.context,e),2),l=s[0],v=s[1],y={config:n,_options:o,initialState:{value:n.initial,actions:l,context:v,matches:a(n.initial)},transition:function(e,o){var s,l,v=\"string\"==typeof e?{value:e,context:n.context}:e,p=v.value,g=v.context,d=u(o),x=n.states[p];if(x.on){var m=r(x.on[d.type]);try{for(var h=function(t){var n=\"function\"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&\"number\"==typeof t.length)return {next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}(m),b=h.next();!b.done;b=h.next()){var S=b.value;if(void 0===S)return c(p,g);var w=\"string\"==typeof S?{target:S}:S,j=w.target,E=w.actions,R=void 0===E?[]:E,N=w.cond,O=void 0===N?function(){return !0}:N,_=void 0===j,k=null!=j?j:p,T=n.states[k];if(O(g,d)){var q=t(f((_?r(R):[].concat(x.exit,R,T.entry).filter((function(t){return t}))).map((function(t){return i$1(t,y._options.actions)})),g,d),3),z=q[0],A=q[1],B=q[2],C=null!=j?j:p;return {value:C,context:A,actions:z,changed:j!==p||z.length>0||B,matches:a(C)}}}}catch(t){s={error:t};}finally{try{b&&!b.done&&(l=h.return)&&l.call(h);}finally{if(s)throw s.error}}}return c(p,g)}};return y}var l=function(t,n){return t.actions.forEach((function(e){var r=e.exec;return r&&r(t.context,n)}))};function v(t){var r=t.initialState,o=n.NotStarted,i=new Set,c={_machine:t,send:function(e){o===n.Running&&(r=t.transition(r,e),l(r,u(e)),i.forEach((function(t){return t(r)})));},subscribe:function(t){return i.add(t),t(r),{unsubscribe:function(){return i.delete(t)}}},start:function(i){if(i){var u=\"object\"==typeof i?i:{context:t.config.context,value:i};r={value:u.value,actions:[],context:u.context,matches:a(u.value)};}return o=n.Running,l(r,e),c},stop:function(){return o=n.Stopped,i.clear(),c},get state(){return r},get status(){return o}};return c}\n\n    var __defProp$2 = Object.defineProperty;\n    var __defProps$2 = Object.defineProperties;\n    var __getOwnPropDescs$2 = Object.getOwnPropertyDescriptors;\n    var __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\n    var __hasOwnProp$2 = Object.prototype.hasOwnProperty;\n    var __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\n    var __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\n    var __spreadValues$2 = (a, b) => {\n      for (var prop in b || (b = {}))\n        if (__hasOwnProp$2.call(b, prop))\n          __defNormalProp$2(a, prop, b[prop]);\n      if (__getOwnPropSymbols$2)\n        for (var prop of __getOwnPropSymbols$2(b)) {\n          if (__propIsEnum$2.call(b, prop))\n            __defNormalProp$2(a, prop, b[prop]);\n        }\n      return a;\n    };\n    var __spreadProps$2 = (a, b) => __defProps$2(a, __getOwnPropDescs$2(b));\n    function discardPriorSnapshots(events, baselineTime) {\n      for (let idx = events.length - 1; idx >= 0; idx--) {\n        const event = events[idx];\n        if (event.type === EventType.Meta) {\n          if (event.timestamp <= baselineTime) {\n            return events.slice(idx);\n          }\n        }\n      }\n      return events;\n    }\n    function createPlayerService(context, { getCastFn, applyEventsSynchronously, emitter }) {\n      const playerMachine = s({\n        id: \"player\",\n        context,\n        initial: \"paused\",\n        states: {\n          playing: {\n            on: {\n              PAUSE: {\n                target: \"paused\",\n                actions: [\"pause\"]\n              },\n              CAST_EVENT: {\n                target: \"playing\",\n                actions: \"castEvent\"\n              },\n              END: {\n                target: \"paused\",\n                actions: [\"resetLastPlayedEvent\", \"pause\"]\n              },\n              ADD_EVENT: {\n                target: \"playing\",\n                actions: [\"addEvent\"]\n              }\n            }\n          },\n          paused: {\n            on: {\n              PLAY: {\n                target: \"playing\",\n                actions: [\"recordTimeOffset\", \"play\"]\n              },\n              CAST_EVENT: {\n                target: \"paused\",\n                actions: \"castEvent\"\n              },\n              TO_LIVE: {\n                target: \"live\",\n                actions: [\"startLive\"]\n              },\n              ADD_EVENT: {\n                target: \"paused\",\n                actions: [\"addEvent\"]\n              }\n            }\n          },\n          live: {\n            on: {\n              ADD_EVENT: {\n                target: \"live\",\n                actions: [\"addEvent\"]\n              },\n              CAST_EVENT: {\n                target: \"live\",\n                actions: [\"castEvent\"]\n              }\n            }\n          }\n        }\n      }, {\n        actions: {\n          castEvent: o({\n            lastPlayedEvent: (ctx, event) => {\n              if (event.type === \"CAST_EVENT\") {\n                return event.payload.event;\n              }\n              return ctx.lastPlayedEvent;\n            }\n          }),\n          recordTimeOffset: o((ctx, event) => {\n            let timeOffset = ctx.timeOffset;\n            if (\"payload\" in event && \"timeOffset\" in event.payload) {\n              timeOffset = event.payload.timeOffset;\n            }\n            return __spreadProps$2(__spreadValues$2({}, ctx), {\n              timeOffset,\n              baselineTime: ctx.events[0].timestamp + timeOffset\n            });\n          }),\n          play(ctx) {\n            var _a;\n            const { timer, events, baselineTime, lastPlayedEvent } = ctx;\n            timer.clear();\n            for (const event of events) {\n              addDelay(event, baselineTime);\n            }\n            const neededEvents = discardPriorSnapshots(events, baselineTime);\n            let lastPlayedTimestamp = lastPlayedEvent == null ? void 0 : lastPlayedEvent.timestamp;\n            if ((lastPlayedEvent == null ? void 0 : lastPlayedEvent.type) === EventType.IncrementalSnapshot && lastPlayedEvent.data.source === IncrementalSource.MouseMove) {\n              lastPlayedTimestamp = lastPlayedEvent.timestamp + ((_a = lastPlayedEvent.data.positions[0]) == null ? void 0 : _a.timeOffset);\n            }\n            if (baselineTime < (lastPlayedTimestamp || 0)) {\n              emitter.emit(ReplayerEvents.PlayBack);\n            }\n            const syncEvents = new Array();\n            for (const event of neededEvents) {\n              if (lastPlayedTimestamp && lastPlayedTimestamp < baselineTime && (event.timestamp <= lastPlayedTimestamp || event === lastPlayedEvent)) {\n                continue;\n              }\n              if (event.timestamp < baselineTime) {\n                syncEvents.push(event);\n              } else {\n                const castFn = getCastFn(event, false);\n                timer.addAction({\n                  doAction: () => {\n                    castFn();\n                  },\n                  delay: event.delay\n                });\n              }\n            }\n            applyEventsSynchronously(syncEvents);\n            emitter.emit(ReplayerEvents.Flush);\n            timer.start();\n          },\n          pause(ctx) {\n            ctx.timer.clear();\n          },\n          resetLastPlayedEvent: o((ctx) => {\n            return __spreadProps$2(__spreadValues$2({}, ctx), {\n              lastPlayedEvent: null\n            });\n          }),\n          startLive: o({\n            baselineTime: (ctx, event) => {\n              ctx.timer.toggleLiveMode(true);\n              ctx.timer.start();\n              if (event.type === \"TO_LIVE\" && event.payload.baselineTime) {\n                return event.payload.baselineTime;\n              }\n              return Date.now();\n            }\n          }),\n          addEvent: o((ctx, machineEvent) => {\n            const { baselineTime, timer, events } = ctx;\n            if (machineEvent.type === \"ADD_EVENT\") {\n              const { event } = machineEvent.payload;\n              addDelay(event, baselineTime);\n              let end = events.length - 1;\n              if (!events[end] || events[end].timestamp <= event.timestamp) {\n                events.push(event);\n              } else {\n                let insertionIndex = -1;\n                let start = 0;\n                while (start <= end) {\n                  const mid = Math.floor((start + end) / 2);\n                  if (events[mid].timestamp <= event.timestamp) {\n                    start = mid + 1;\n                  } else {\n                    end = mid - 1;\n                  }\n                }\n                if (insertionIndex === -1) {\n                  insertionIndex = start;\n                }\n                events.splice(insertionIndex, 0, event);\n              }\n              const isSync = event.timestamp < baselineTime;\n              const castFn = getCastFn(event, isSync);\n              if (isSync) {\n                castFn();\n              } else if (timer.isActive()) {\n                timer.addAction({\n                  doAction: () => {\n                    castFn();\n                  },\n                  delay: event.delay\n                });\n              }\n            }\n            return __spreadProps$2(__spreadValues$2({}, ctx), { events });\n          })\n        }\n      });\n      return v(playerMachine);\n    }\n    function createSpeedService(context) {\n      const speedMachine = s({\n        id: \"speed\",\n        context,\n        initial: \"normal\",\n        states: {\n          normal: {\n            on: {\n              FAST_FORWARD: {\n                target: \"skipping\",\n                actions: [\"recordSpeed\", \"setSpeed\"]\n              },\n              SET_SPEED: {\n                target: \"normal\",\n                actions: [\"setSpeed\"]\n              }\n            }\n          },\n          skipping: {\n            on: {\n              BACK_TO_NORMAL: {\n                target: \"normal\",\n                actions: [\"restoreSpeed\"]\n              },\n              SET_SPEED: {\n                target: \"normal\",\n                actions: [\"setSpeed\"]\n              }\n            }\n          }\n        }\n      }, {\n        actions: {\n          setSpeed: (ctx, event) => {\n            if (\"payload\" in event) {\n              ctx.timer.setSpeed(event.payload.speed);\n            }\n          },\n          recordSpeed: o({\n            normalSpeed: (ctx) => ctx.timer.speed\n          }),\n          restoreSpeed: (ctx) => {\n            ctx.timer.setSpeed(ctx.normalSpeed);\n          }\n        }\n      });\n      return v(speedMachine);\n    }\n\n    const rules = (blockClass) => [\n      `.${blockClass} { background: currentColor }`,\n      \"noscript { display: none !important; }\"\n    ];\n\n    var __async$4 = (__this, __arguments, generator) => {\n      return new Promise((resolve, reject) => {\n        var fulfilled = (value) => {\n          try {\n            step(generator.next(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var rejected = (value) => {\n          try {\n            step(generator.throw(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n        step((generator = generator.apply(__this, __arguments)).next());\n      });\n    };\n    const webGLVarMap = /* @__PURE__ */ new Map();\n    function variableListFor(ctx, ctor) {\n      let contextMap = webGLVarMap.get(ctx);\n      if (!contextMap) {\n        contextMap = /* @__PURE__ */ new Map();\n        webGLVarMap.set(ctx, contextMap);\n      }\n      if (!contextMap.has(ctor)) {\n        contextMap.set(ctor, []);\n      }\n      return contextMap.get(ctor);\n    }\n    function deserializeArg(imageMap, ctx, preload) {\n      return (arg) => __async$4(this, null, function* () {\n        if (arg && typeof arg === \"object\" && \"rr_type\" in arg) {\n          if (preload)\n            preload.isUnchanged = false;\n          if (arg.rr_type === \"ImageBitmap\" && \"args\" in arg) {\n            const args = yield deserializeArg(imageMap, ctx, preload)(arg.args);\n            return yield createImageBitmap.apply(null, args);\n          } else if (\"index\" in arg) {\n            if (preload || ctx === null)\n              return arg;\n            const { rr_type: name, index } = arg;\n            return variableListFor(ctx, name)[index];\n          } else if (\"args\" in arg) {\n            const { rr_type: name, args } = arg;\n            const ctor = window[name];\n            return new ctor(...yield Promise.all(args.map(deserializeArg(imageMap, ctx, preload))));\n          } else if (\"base64\" in arg) {\n            return decode(arg.base64);\n          } else if (\"src\" in arg) {\n            const image = imageMap.get(arg.src);\n            if (image) {\n              return image;\n            } else {\n              const image2 = new Image();\n              image2.src = arg.src;\n              imageMap.set(arg.src, image2);\n              return image2;\n            }\n          } else if (\"data\" in arg && arg.rr_type === \"Blob\") {\n            const blobContents = yield Promise.all(arg.data.map(deserializeArg(imageMap, ctx, preload)));\n            const blob = new Blob(blobContents, {\n              type: arg.type\n            });\n            return blob;\n          }\n        } else if (Array.isArray(arg)) {\n          const result = yield Promise.all(arg.map(deserializeArg(imageMap, ctx, preload)));\n          return result;\n        }\n        return arg;\n      });\n    }\n\n    var __async$3 = (__this, __arguments, generator) => {\n      return new Promise((resolve, reject) => {\n        var fulfilled = (value) => {\n          try {\n            step(generator.next(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var rejected = (value) => {\n          try {\n            step(generator.throw(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n        step((generator = generator.apply(__this, __arguments)).next());\n      });\n    };\n    function getContext(target, type) {\n      try {\n        if (type === CanvasContext.WebGL) {\n          return target.getContext(\"webgl\") || target.getContext(\"experimental-webgl\");\n        }\n        return target.getContext(\"webgl2\");\n      } catch (e) {\n        return null;\n      }\n    }\n    const WebGLVariableConstructorsNames = [\n      \"WebGLActiveInfo\",\n      \"WebGLBuffer\",\n      \"WebGLFramebuffer\",\n      \"WebGLProgram\",\n      \"WebGLRenderbuffer\",\n      \"WebGLShader\",\n      \"WebGLShaderPrecisionFormat\",\n      \"WebGLTexture\",\n      \"WebGLUniformLocation\",\n      \"WebGLVertexArrayObject\"\n    ];\n    function saveToWebGLVarMap(ctx, result) {\n      if (!(result == null ? void 0 : result.constructor))\n        return;\n      const { name } = result.constructor;\n      if (!WebGLVariableConstructorsNames.includes(name))\n        return;\n      const variables = variableListFor(ctx, name);\n      if (!variables.includes(result))\n        variables.push(result);\n    }\n    function webglMutation(_0) {\n      return __async$3(this, arguments, function* ({\n        mutation,\n        target,\n        type,\n        imageMap,\n        errorHandler\n      }) {\n        try {\n          const ctx = getContext(target, type);\n          if (!ctx)\n            return;\n          if (mutation.setter) {\n            ctx[mutation.property] = mutation.args[0];\n            return;\n          }\n          const original = ctx[mutation.property];\n          const args = yield Promise.all(mutation.args.map(deserializeArg(imageMap, ctx)));\n          const result = original.apply(ctx, args);\n          saveToWebGLVarMap(ctx, result);\n          const debugMode = false;\n          if (debugMode) ;\n        } catch (error) {\n          errorHandler(mutation, error);\n        }\n      });\n    }\n\n    var __async$2 = (__this, __arguments, generator) => {\n      return new Promise((resolve, reject) => {\n        var fulfilled = (value) => {\n          try {\n            step(generator.next(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var rejected = (value) => {\n          try {\n            step(generator.throw(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n        step((generator = generator.apply(__this, __arguments)).next());\n      });\n    };\n    function canvasMutation$1(_0) {\n      return __async$2(this, arguments, function* ({\n        event,\n        mutation,\n        target,\n        imageMap,\n        errorHandler\n      }) {\n        try {\n          const ctx = target.getContext(\"2d\");\n          if (mutation.setter) {\n            ctx[mutation.property] = mutation.args[0];\n            return;\n          }\n          const original = ctx[mutation.property];\n          if (mutation.property === \"drawImage\" && typeof mutation.args[0] === \"string\") {\n            imageMap.get(event);\n            original.apply(ctx, mutation.args);\n          } else {\n            const args = yield Promise.all(mutation.args.map(deserializeArg(imageMap, ctx)));\n            original.apply(ctx, args);\n          }\n        } catch (error) {\n          errorHandler(mutation, error);\n        }\n      });\n    }\n\n    var __async$1 = (__this, __arguments, generator) => {\n      return new Promise((resolve, reject) => {\n        var fulfilled = (value) => {\n          try {\n            step(generator.next(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var rejected = (value) => {\n          try {\n            step(generator.throw(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n        step((generator = generator.apply(__this, __arguments)).next());\n      });\n    };\n    function canvasMutation(_0) {\n      return __async$1(this, arguments, function* ({\n        event,\n        mutation,\n        target,\n        imageMap,\n        canvasEventMap,\n        errorHandler\n      }) {\n        try {\n          const precomputedMutation = canvasEventMap.get(event) || mutation;\n          const commands = \"commands\" in precomputedMutation ? precomputedMutation.commands : [precomputedMutation];\n          if ([CanvasContext.WebGL, CanvasContext.WebGL2].includes(mutation.type)) {\n            for (let i = 0; i < commands.length; i++) {\n              const command = commands[i];\n              yield webglMutation({\n                mutation: command,\n                type: mutation.type,\n                target,\n                imageMap,\n                errorHandler\n              });\n            }\n            return;\n          }\n          for (let i = 0; i < commands.length; i++) {\n            const command = commands[i];\n            yield canvasMutation$1({\n              event,\n              mutation: command,\n              target,\n              imageMap,\n              errorHandler\n            });\n          }\n        } catch (error) {\n          errorHandler(mutation, error);\n        }\n      });\n    }\n\n    var __defProp$1 = Object.defineProperty;\n    var __defProps$1 = Object.defineProperties;\n    var __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\n    var __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\n    var __hasOwnProp$1 = Object.prototype.hasOwnProperty;\n    var __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\n    var __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\n    var __spreadValues$1 = (a, b) => {\n      for (var prop in b || (b = {}))\n        if (__hasOwnProp$1.call(b, prop))\n          __defNormalProp$1(a, prop, b[prop]);\n      if (__getOwnPropSymbols$1)\n        for (var prop of __getOwnPropSymbols$1(b)) {\n          if (__propIsEnum$1.call(b, prop))\n            __defNormalProp$1(a, prop, b[prop]);\n        }\n      return a;\n    };\n    var __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\n    var __async = (__this, __arguments, generator) => {\n      return new Promise((resolve, reject) => {\n        var fulfilled = (value) => {\n          try {\n            step(generator.next(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var rejected = (value) => {\n          try {\n            step(generator.throw(value));\n          } catch (e) {\n            reject(e);\n          }\n        };\n        var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n        step((generator = generator.apply(__this, __arguments)).next());\n      });\n    };\n    const SKIP_TIME_THRESHOLD = 10 * 1e3;\n    const SKIP_TIME_INTERVAL = 5 * 1e3;\n    const mitt = mitt$1 || mittProxy;\n    const REPLAY_CONSOLE_PREFIX = \"[replayer]\";\n    const defaultMouseTailConfig = {\n      duration: 500,\n      lineCap: \"round\",\n      lineWidth: 3,\n      strokeStyle: \"red\"\n    };\n    function indicatesTouchDevice(e) {\n      return e.type == EventType.IncrementalSnapshot && (e.data.source == IncrementalSource.TouchMove || e.data.source == IncrementalSource.MouseInteraction && e.data.type == MouseInteractions.TouchStart);\n    }\n    class Replayer {\n      constructor(events, config) {\n        this.usingVirtualDom = false;\n        this.virtualDom = new RRDocument();\n        this.mouseTail = null;\n        this.tailPositions = [];\n        this.emitter = mitt();\n        this.legacy_missingNodeRetryMap = {};\n        this.cache = createCache();\n        this.imageMap = /* @__PURE__ */ new Map();\n        this.canvasEventMap = /* @__PURE__ */ new Map();\n        this.mirror = createMirror$2();\n        this.styleMirror = new StyleSheetMirror();\n        this.firstFullSnapshot = null;\n        this.newDocumentQueue = [];\n        this.mousePos = null;\n        this.touchActive = null;\n        this.lastSelectionData = null;\n        this.constructedStyleMutations = [];\n        this.adoptedStyleSheets = [];\n        this.handleResize = (dimension) => {\n          this.iframe.style.display = \"inherit\";\n          for (const el of [this.mouseTail, this.iframe]) {\n            if (!el) {\n              continue;\n            }\n            el.setAttribute(\"width\", String(dimension.width));\n            el.setAttribute(\"height\", String(dimension.height));\n          }\n        };\n        this.applyEventsSynchronously = (events) => {\n          for (const event of events) {\n            switch (event.type) {\n              case EventType.DomContentLoaded:\n              case EventType.Load:\n              case EventType.Custom:\n                continue;\n              case EventType.FullSnapshot:\n              case EventType.Meta:\n              case EventType.Plugin:\n              case EventType.IncrementalSnapshot:\n                break;\n            }\n            const castFn = this.getCastFn(event, true);\n            castFn();\n          }\n          if (this.touchActive === true) {\n            this.mouse.classList.add(\"touch-active\");\n          } else if (this.touchActive === false) {\n            this.mouse.classList.remove(\"touch-active\");\n          }\n          this.touchActive = null;\n        };\n        this.getCastFn = (event, isSync = false) => {\n          let castFn;\n          switch (event.type) {\n            case EventType.DomContentLoaded:\n            case EventType.Load:\n              break;\n            case EventType.Custom:\n              castFn = () => {\n                this.emitter.emit(ReplayerEvents.CustomEvent, event);\n              };\n              break;\n            case EventType.Meta:\n              castFn = () => this.emitter.emit(ReplayerEvents.Resize, {\n                width: event.data.width,\n                height: event.data.height\n              });\n              break;\n            case EventType.FullSnapshot:\n              castFn = () => {\n                var _a;\n                if (this.firstFullSnapshot) {\n                  if (this.firstFullSnapshot === event) {\n                    this.firstFullSnapshot = true;\n                    return;\n                  }\n                } else {\n                  this.firstFullSnapshot = true;\n                }\n                this.rebuildFullSnapshot(event, isSync);\n                (_a = this.iframe.contentWindow) == null ? void 0 : _a.scrollTo(event.data.initialOffset);\n                this.styleMirror.reset();\n              };\n              break;\n            case EventType.IncrementalSnapshot:\n              castFn = () => {\n                this.applyIncremental(event, isSync);\n                if (isSync) {\n                  return;\n                }\n                if (event === this.nextUserInteractionEvent) {\n                  this.nextUserInteractionEvent = null;\n                  this.backToNormal();\n                }\n                if (this.config.skipInactive && !this.nextUserInteractionEvent) {\n                  for (const _event of this.service.state.context.events) {\n                    if (_event.timestamp <= event.timestamp) {\n                      continue;\n                    }\n                    if (this.isUserInteraction(_event)) {\n                      if (_event.delay - event.delay > SKIP_TIME_THRESHOLD * this.speedService.state.context.timer.speed) {\n                        this.nextUserInteractionEvent = _event;\n                      }\n                      break;\n                    }\n                  }\n                  if (this.nextUserInteractionEvent) {\n                    const skipTime = this.nextUserInteractionEvent.delay - event.delay;\n                    const payload = {\n                      speed: Math.min(Math.round(skipTime / SKIP_TIME_INTERVAL), this.config.maxSpeed)\n                    };\n                    this.speedService.send({ type: \"FAST_FORWARD\", payload });\n                    this.emitter.emit(ReplayerEvents.SkipStart, payload);\n                  }\n                }\n              };\n              break;\n          }\n          const wrappedCastFn = () => {\n            if (castFn) {\n              castFn();\n            }\n            for (const plugin of this.config.plugins || []) {\n              if (plugin.handler)\n                plugin.handler(event, isSync, { replayer: this });\n            }\n            this.service.send({ type: \"CAST_EVENT\", payload: { event } });\n            const last_index = this.service.state.context.events.length - 1;\n            if (event === this.service.state.context.events[last_index]) {\n              const finish = () => {\n                if (last_index < this.service.state.context.events.length - 1) {\n                  return;\n                }\n                this.backToNormal();\n                this.service.send(\"END\");\n                this.emitter.emit(ReplayerEvents.Finish);\n              };\n              if (event.type === EventType.IncrementalSnapshot && event.data.source === IncrementalSource.MouseMove && event.data.positions.length) {\n                setTimeout(() => {\n                  finish();\n                }, Math.max(0, -event.data.positions[0].timeOffset + 50));\n              } else {\n                finish();\n              }\n            }\n            this.emitter.emit(ReplayerEvents.EventCast, event);\n          };\n          return wrappedCastFn;\n        };\n        if (!(config == null ? void 0 : config.liveMode) && events.length < 2) {\n          throw new Error(\"Replayer need at least 2 events.\");\n        }\n        const defaultConfig = {\n          speed: 1,\n          maxSpeed: 360,\n          root: document.body,\n          loadTimeout: 0,\n          skipInactive: false,\n          showWarning: true,\n          showDebug: false,\n          blockClass: \"rr-block\",\n          liveMode: false,\n          insertStyleRules: [],\n          triggerFocus: true,\n          UNSAFE_replayCanvas: false,\n          pauseAnimation: true,\n          mouseTail: defaultMouseTailConfig,\n          useVirtualDom: true\n        };\n        this.config = Object.assign({}, defaultConfig, config);\n        this.handleResize = this.handleResize.bind(this);\n        this.getCastFn = this.getCastFn.bind(this);\n        this.applyEventsSynchronously = this.applyEventsSynchronously.bind(this);\n        this.emitter.on(ReplayerEvents.Resize, this.handleResize);\n        this.setupDom();\n        for (const plugin of this.config.plugins || []) {\n          if (plugin.getMirror)\n            plugin.getMirror({ nodeMirror: this.mirror });\n        }\n        this.emitter.on(ReplayerEvents.Flush, () => {\n          if (this.usingVirtualDom) {\n            const replayerHandler = {\n              mirror: this.mirror,\n              applyCanvas: (canvasEvent, canvasMutationData2, target) => {\n                void canvasMutation({\n                  event: canvasEvent,\n                  mutation: canvasMutationData2,\n                  target,\n                  imageMap: this.imageMap,\n                  canvasEventMap: this.canvasEventMap,\n                  errorHandler: this.warnCanvasMutationFailed.bind(this)\n                });\n              },\n              applyInput: this.applyInput.bind(this),\n              applyScroll: this.applyScroll.bind(this),\n              applyStyleSheetMutation: (data, styleSheet) => {\n                if (data.source === IncrementalSource.StyleSheetRule)\n                  this.applyStyleSheetRule(data, styleSheet);\n                else if (data.source === IncrementalSource.StyleDeclaration)\n                  this.applyStyleDeclaration(data, styleSheet);\n              }\n            };\n            this.iframe.contentDocument && diff(this.iframe.contentDocument, this.virtualDom, replayerHandler, this.virtualDom.mirror);\n            this.virtualDom.destroyTree();\n            this.usingVirtualDom = false;\n            if (Object.keys(this.legacy_missingNodeRetryMap).length) {\n              for (const key in this.legacy_missingNodeRetryMap) {\n                try {\n                  const value = this.legacy_missingNodeRetryMap[key];\n                  const realNode = createOrGetNode(value.node, this.mirror, this.virtualDom.mirror);\n                  diff(realNode, value.node, replayerHandler, this.virtualDom.mirror);\n                  value.node = realNode;\n                } catch (error) {\n                  if (this.config.showWarning) {\n                    console.warn(error);\n                  }\n                }\n              }\n            }\n            this.constructedStyleMutations.forEach((data) => {\n              this.applyStyleSheetMutation(data);\n            });\n            this.constructedStyleMutations = [];\n            this.adoptedStyleSheets.forEach((data) => {\n              this.applyAdoptedStyleSheet(data);\n            });\n            this.adoptedStyleSheets = [];\n          }\n          if (this.mousePos) {\n            this.moveAndHover(this.mousePos.x, this.mousePos.y, this.mousePos.id, true, this.mousePos.debugData);\n            this.mousePos = null;\n          }\n          if (this.lastSelectionData) {\n            this.applySelection(this.lastSelectionData);\n            this.lastSelectionData = null;\n          }\n        });\n        this.emitter.on(ReplayerEvents.PlayBack, () => {\n          this.firstFullSnapshot = null;\n          this.mirror.reset();\n          this.styleMirror.reset();\n        });\n        const timer = new Timer([], {\n          speed: this.config.speed,\n          liveMode: this.config.liveMode\n        });\n        this.service = createPlayerService({\n          events: events.map((e) => {\n            if (config && config.unpackFn) {\n              return config.unpackFn(e);\n            }\n            return e;\n          }).sort((a1, a2) => a1.timestamp - a2.timestamp),\n          timer,\n          timeOffset: 0,\n          baselineTime: 0,\n          lastPlayedEvent: null\n        }, {\n          getCastFn: this.getCastFn,\n          applyEventsSynchronously: this.applyEventsSynchronously,\n          emitter: this.emitter\n        });\n        this.service.start();\n        this.service.subscribe((state) => {\n          this.emitter.emit(ReplayerEvents.StateChange, {\n            player: state\n          });\n        });\n        this.speedService = createSpeedService({\n          normalSpeed: -1,\n          timer\n        });\n        this.speedService.start();\n        this.speedService.subscribe((state) => {\n          this.emitter.emit(ReplayerEvents.StateChange, {\n            speed: state\n          });\n        });\n        const firstMeta = this.service.state.context.events.find((e) => e.type === EventType.Meta);\n        const firstFullsnapshot = this.service.state.context.events.find((e) => e.type === EventType.FullSnapshot);\n        if (firstMeta) {\n          const { width, height } = firstMeta.data;\n          setTimeout(() => {\n            this.emitter.emit(ReplayerEvents.Resize, {\n              width,\n              height\n            });\n          }, 0);\n        }\n        if (firstFullsnapshot) {\n          setTimeout(() => {\n            var _a;\n            if (this.firstFullSnapshot) {\n              return;\n            }\n            this.firstFullSnapshot = firstFullsnapshot;\n            this.rebuildFullSnapshot(firstFullsnapshot);\n            (_a = this.iframe.contentWindow) == null ? void 0 : _a.scrollTo(firstFullsnapshot.data.initialOffset);\n          }, 1);\n        }\n        if (this.service.state.context.events.find(indicatesTouchDevice)) {\n          this.mouse.classList.add(\"touch-device\");\n        }\n      }\n      get timer() {\n        return this.service.state.context.timer;\n      }\n      on(event, handler) {\n        this.emitter.on(event, handler);\n        return this;\n      }\n      off(event, handler) {\n        this.emitter.off(event, handler);\n        return this;\n      }\n      setConfig(config) {\n        Object.keys(config).forEach((key) => {\n          config[key];\n          this.config[key] = config[key];\n        });\n        if (!this.config.skipInactive) {\n          this.backToNormal();\n        }\n        if (typeof config.speed !== \"undefined\") {\n          this.speedService.send({\n            type: \"SET_SPEED\",\n            payload: {\n              speed: config.speed\n            }\n          });\n        }\n        if (typeof config.mouseTail !== \"undefined\") {\n          if (config.mouseTail === false) {\n            if (this.mouseTail) {\n              this.mouseTail.style.display = \"none\";\n            }\n          } else {\n            if (!this.mouseTail) {\n              this.mouseTail = document.createElement(\"canvas\");\n              this.mouseTail.width = Number.parseFloat(this.iframe.width);\n              this.mouseTail.height = Number.parseFloat(this.iframe.height);\n              this.mouseTail.classList.add(\"replayer-mouse-tail\");\n              this.wrapper.insertBefore(this.mouseTail, this.iframe);\n            }\n            this.mouseTail.style.display = \"inherit\";\n          }\n        }\n      }\n      getMetaData() {\n        const firstEvent = this.service.state.context.events[0];\n        const lastEvent = this.service.state.context.events[this.service.state.context.events.length - 1];\n        return {\n          startTime: firstEvent.timestamp,\n          endTime: lastEvent.timestamp,\n          totalTime: lastEvent.timestamp - firstEvent.timestamp\n        };\n      }\n      getCurrentTime() {\n        return this.timer.timeOffset + this.getTimeOffset();\n      }\n      getTimeOffset() {\n        const { baselineTime, events } = this.service.state.context;\n        return baselineTime - events[0].timestamp;\n      }\n      getMirror() {\n        return this.mirror;\n      }\n      play(timeOffset = 0) {\n        var _a, _b;\n        if (this.service.state.matches(\"paused\")) {\n          this.service.send({ type: \"PLAY\", payload: { timeOffset } });\n        } else {\n          this.service.send({ type: \"PAUSE\" });\n          this.service.send({ type: \"PLAY\", payload: { timeOffset } });\n        }\n        (_b = (_a = this.iframe.contentDocument) == null ? void 0 : _a.getElementsByTagName(\"html\")[0]) == null ? void 0 : _b.classList.remove(\"rrweb-paused\");\n        this.emitter.emit(ReplayerEvents.Start);\n      }\n      pause(timeOffset) {\n        var _a, _b;\n        if (timeOffset === void 0 && this.service.state.matches(\"playing\")) {\n          this.service.send({ type: \"PAUSE\" });\n        }\n        if (typeof timeOffset === \"number\") {\n          this.play(timeOffset);\n          this.service.send({ type: \"PAUSE\" });\n        }\n        (_b = (_a = this.iframe.contentDocument) == null ? void 0 : _a.getElementsByTagName(\"html\")[0]) == null ? void 0 : _b.classList.add(\"rrweb-paused\");\n        this.emitter.emit(ReplayerEvents.Pause);\n      }\n      resume(timeOffset = 0) {\n        console.warn(`The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface.`);\n        this.play(timeOffset);\n        this.emitter.emit(ReplayerEvents.Resume);\n      }\n      destroy() {\n        this.pause();\n        this.config.root.removeChild(this.wrapper);\n        this.emitter.emit(ReplayerEvents.Destroy);\n      }\n      startLive(baselineTime) {\n        this.service.send({ type: \"TO_LIVE\", payload: { baselineTime } });\n      }\n      addEvent(rawEvent) {\n        const event = this.config.unpackFn ? this.config.unpackFn(rawEvent) : rawEvent;\n        if (indicatesTouchDevice(event)) {\n          this.mouse.classList.add(\"touch-device\");\n        }\n        void Promise.resolve().then(() => this.service.send({ type: \"ADD_EVENT\", payload: { event } }));\n      }\n      enableInteract() {\n        this.iframe.setAttribute(\"scrolling\", \"auto\");\n        this.iframe.style.pointerEvents = \"auto\";\n      }\n      disableInteract() {\n        this.iframe.setAttribute(\"scrolling\", \"no\");\n        this.iframe.style.pointerEvents = \"none\";\n      }\n      resetCache() {\n        this.cache = createCache();\n      }\n      setupDom() {\n        this.wrapper = document.createElement(\"div\");\n        this.wrapper.classList.add(\"replayer-wrapper\");\n        this.config.root.appendChild(this.wrapper);\n        this.mouse = document.createElement(\"div\");\n        this.mouse.classList.add(\"replayer-mouse\");\n        this.wrapper.appendChild(this.mouse);\n        if (this.config.mouseTail !== false) {\n          this.mouseTail = document.createElement(\"canvas\");\n          this.mouseTail.classList.add(\"replayer-mouse-tail\");\n          this.mouseTail.style.display = \"inherit\";\n          this.wrapper.appendChild(this.mouseTail);\n        }\n        this.iframe = document.createElement(\"iframe\");\n        const attributes2 = [\"allow-same-origin\"];\n        if (this.config.UNSAFE_replayCanvas) {\n          attributes2.push(\"allow-scripts\");\n        }\n        this.iframe.style.display = \"none\";\n        this.iframe.setAttribute(\"sandbox\", attributes2.join(\" \"));\n        this.disableInteract();\n        this.wrapper.appendChild(this.iframe);\n        if (this.iframe.contentWindow && this.iframe.contentDocument) {\n          polyfill(this.iframe.contentWindow, this.iframe.contentDocument);\n          polyfill$1(this.iframe.contentWindow);\n        }\n      }\n      rebuildFullSnapshot(event, isSync = false) {\n        if (!this.iframe.contentDocument) {\n          return console.warn(\"Looks like your replayer has been destroyed.\");\n        }\n        if (Object.keys(this.legacy_missingNodeRetryMap).length) {\n          console.warn(\"Found unresolved missing node map\", this.legacy_missingNodeRetryMap);\n        }\n        this.legacy_missingNodeRetryMap = {};\n        const collected = [];\n        const afterAppend = (builtNode, id) => {\n          this.collectIframeAndAttachDocument(collected, builtNode);\n          for (const plugin of this.config.plugins || []) {\n            if (plugin.onBuild)\n              plugin.onBuild(builtNode, {\n                id,\n                replayer: this\n              });\n          }\n        };\n        rebuild(event.data.node, {\n          doc: this.iframe.contentDocument,\n          afterAppend,\n          cache: this.cache,\n          mirror: this.mirror\n        });\n        afterAppend(this.iframe.contentDocument, event.data.node.id);\n        for (const { mutationInQueue, builtNode } of collected) {\n          this.attachDocumentToIframe(mutationInQueue, builtNode);\n          this.newDocumentQueue = this.newDocumentQueue.filter((m) => m !== mutationInQueue);\n        }\n        const { documentElement, head } = this.iframe.contentDocument;\n        this.insertStyleRules(documentElement, head);\n        if (!this.service.state.matches(\"playing\")) {\n          this.iframe.contentDocument.getElementsByTagName(\"html\")[0].classList.add(\"rrweb-paused\");\n        }\n        this.emitter.emit(ReplayerEvents.FullsnapshotRebuilded, event);\n        if (!isSync) {\n          this.waitForStylesheetLoad();\n        }\n        if (this.config.UNSAFE_replayCanvas) {\n          void this.preloadAllImages();\n        }\n      }\n      insertStyleRules(documentElement, head) {\n        var _a;\n        const injectStylesRules = rules(this.config.blockClass).concat(this.config.insertStyleRules);\n        if (this.config.pauseAnimation) {\n          injectStylesRules.push(\"html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }\");\n        }\n        if (this.usingVirtualDom) {\n          const styleEl = this.virtualDom.createElement(\"style\");\n          this.virtualDom.mirror.add(styleEl, getDefaultSN(styleEl, this.virtualDom.unserializedId));\n          documentElement.insertBefore(styleEl, head);\n          styleEl.rules.push({\n            source: IncrementalSource.StyleSheetRule,\n            adds: injectStylesRules.map((cssText, index) => ({\n              rule: cssText,\n              index\n            }))\n          });\n        } else {\n          const styleEl = document.createElement(\"style\");\n          documentElement.insertBefore(styleEl, head);\n          for (let idx = 0; idx < injectStylesRules.length; idx++) {\n            (_a = styleEl.sheet) == null ? void 0 : _a.insertRule(injectStylesRules[idx], idx);\n          }\n        }\n      }\n      attachDocumentToIframe(mutation, iframeEl) {\n        const mirror = this.usingVirtualDom ? this.virtualDom.mirror : this.mirror;\n        const collected = [];\n        const afterAppend = (builtNode, id) => {\n          this.collectIframeAndAttachDocument(collected, builtNode);\n          const sn = mirror.getMeta(builtNode);\n          if ((sn == null ? void 0 : sn.type) === NodeType$2.Element && (sn == null ? void 0 : sn.tagName.toUpperCase()) === \"HTML\") {\n            const { documentElement, head } = iframeEl.contentDocument;\n            this.insertStyleRules(documentElement, head);\n          }\n          for (const plugin of this.config.plugins || []) {\n            if (plugin.onBuild)\n              plugin.onBuild(builtNode, {\n                id,\n                replayer: this\n              });\n          }\n        };\n        buildNodeWithSN(mutation.node, {\n          doc: iframeEl.contentDocument,\n          mirror,\n          hackCss: true,\n          skipChild: false,\n          afterAppend,\n          cache: this.cache\n        });\n        afterAppend(iframeEl.contentDocument, mutation.node.id);\n        for (const { mutationInQueue, builtNode } of collected) {\n          this.attachDocumentToIframe(mutationInQueue, builtNode);\n          this.newDocumentQueue = this.newDocumentQueue.filter((m) => m !== mutationInQueue);\n        }\n      }\n      collectIframeAndAttachDocument(collected, builtNode) {\n        if (isSerializedIframe(builtNode, this.mirror)) {\n          const mutationInQueue = this.newDocumentQueue.find((m) => m.parentId === this.mirror.getId(builtNode));\n          if (mutationInQueue) {\n            collected.push({\n              mutationInQueue,\n              builtNode\n            });\n          }\n        }\n      }\n      waitForStylesheetLoad() {\n        var _a;\n        const head = (_a = this.iframe.contentDocument) == null ? void 0 : _a.head;\n        if (head) {\n          const unloadSheets = /* @__PURE__ */ new Set();\n          let timer;\n          let beforeLoadState = this.service.state;\n          const stateHandler = () => {\n            beforeLoadState = this.service.state;\n          };\n          this.emitter.on(ReplayerEvents.Start, stateHandler);\n          this.emitter.on(ReplayerEvents.Pause, stateHandler);\n          const unsubscribe = () => {\n            this.emitter.off(ReplayerEvents.Start, stateHandler);\n            this.emitter.off(ReplayerEvents.Pause, stateHandler);\n          };\n          head.querySelectorAll('link[rel=\"stylesheet\"]').forEach((css) => {\n            if (!css.sheet) {\n              unloadSheets.add(css);\n              css.addEventListener(\"load\", () => {\n                unloadSheets.delete(css);\n                if (unloadSheets.size === 0 && timer !== -1) {\n                  if (beforeLoadState.matches(\"playing\")) {\n                    this.play(this.getCurrentTime());\n                  }\n                  this.emitter.emit(ReplayerEvents.LoadStylesheetEnd);\n                  if (timer) {\n                    clearTimeout(timer);\n                  }\n                  unsubscribe();\n                }\n              });\n            }\n          });\n          if (unloadSheets.size > 0) {\n            this.service.send({ type: \"PAUSE\" });\n            this.emitter.emit(ReplayerEvents.LoadStylesheetStart);\n            timer = setTimeout(() => {\n              if (beforeLoadState.matches(\"playing\")) {\n                this.play(this.getCurrentTime());\n              }\n              timer = -1;\n              unsubscribe();\n            }, this.config.loadTimeout);\n          }\n        }\n      }\n      preloadAllImages() {\n        return __async(this, null, function* () {\n          this.service.state;\n          const stateHandler = () => {\n            this.service.state;\n          };\n          this.emitter.on(ReplayerEvents.Start, stateHandler);\n          this.emitter.on(ReplayerEvents.Pause, stateHandler);\n          const promises = [];\n          for (const event of this.service.state.context.events) {\n            if (event.type === EventType.IncrementalSnapshot && event.data.source === IncrementalSource.CanvasMutation) {\n              promises.push(this.deserializeAndPreloadCanvasEvents(event.data, event));\n              const commands = \"commands\" in event.data ? event.data.commands : [event.data];\n              commands.forEach((c) => {\n                this.preloadImages(c, event);\n              });\n            }\n          }\n          return Promise.all(promises);\n        });\n      }\n      preloadImages(data, event) {\n        if (data.property === \"drawImage\" && typeof data.args[0] === \"string\" && !this.imageMap.has(event)) {\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\");\n          const imgd = ctx == null ? void 0 : ctx.createImageData(canvas.width, canvas.height);\n          imgd == null ? void 0 : imgd.data;\n          JSON.parse(data.args[0]);\n          ctx == null ? void 0 : ctx.putImageData(imgd, 0, 0);\n        }\n      }\n      deserializeAndPreloadCanvasEvents(data, event) {\n        return __async(this, null, function* () {\n          if (!this.canvasEventMap.has(event)) {\n            const status = {\n              isUnchanged: true\n            };\n            if (\"commands\" in data) {\n              const commands = yield Promise.all(data.commands.map((c) => __async(this, null, function* () {\n                const args = yield Promise.all(c.args.map(deserializeArg(this.imageMap, null, status)));\n                return __spreadProps$1(__spreadValues$1({}, c), { args });\n              })));\n              if (status.isUnchanged === false)\n                this.canvasEventMap.set(event, __spreadProps$1(__spreadValues$1({}, data), { commands }));\n            } else {\n              const args = yield Promise.all(data.args.map(deserializeArg(this.imageMap, null, status)));\n              if (status.isUnchanged === false)\n                this.canvasEventMap.set(event, __spreadProps$1(__spreadValues$1({}, data), { args }));\n            }\n          }\n        });\n      }\n      applyIncremental(e, isSync) {\n        var _a, _b, _c;\n        const { data: d } = e;\n        switch (d.source) {\n          case IncrementalSource.Mutation: {\n            try {\n              this.applyMutation(d, isSync);\n            } catch (error) {\n              this.warn(`Exception in mutation ${error.message || error}`, d);\n            }\n            break;\n          }\n          case IncrementalSource.Drag:\n          case IncrementalSource.TouchMove:\n          case IncrementalSource.MouseMove:\n            if (isSync) {\n              const lastPosition = d.positions[d.positions.length - 1];\n              this.mousePos = {\n                x: lastPosition.x,\n                y: lastPosition.y,\n                id: lastPosition.id,\n                debugData: d\n              };\n            } else {\n              d.positions.forEach((p) => {\n                const action = {\n                  doAction: () => {\n                    this.moveAndHover(p.x, p.y, p.id, isSync, d);\n                  },\n                  delay: p.timeOffset + e.timestamp - this.service.state.context.baselineTime\n                };\n                this.timer.addAction(action);\n              });\n              this.timer.addAction({\n                doAction() {\n                },\n                delay: e.delay - ((_a = d.positions[0]) == null ? void 0 : _a.timeOffset)\n              });\n            }\n            break;\n          case IncrementalSource.MouseInteraction: {\n            if (d.id === -1 || isSync) {\n              break;\n            }\n            const event = new Event(MouseInteractions[d.type].toLowerCase());\n            const target = this.mirror.getNode(d.id);\n            if (!target) {\n              return this.debugNodeNotFound(d, d.id);\n            }\n            this.emitter.emit(ReplayerEvents.MouseInteraction, {\n              type: d.type,\n              target\n            });\n            const { triggerFocus } = this.config;\n            switch (d.type) {\n              case MouseInteractions.Blur:\n                if (\"blur\" in target) {\n                  target.blur();\n                }\n                break;\n              case MouseInteractions.Focus:\n                if (triggerFocus && target.focus) {\n                  target.focus({\n                    preventScroll: true\n                  });\n                }\n                break;\n              case MouseInteractions.Click:\n              case MouseInteractions.TouchStart:\n              case MouseInteractions.TouchEnd:\n                if (isSync) {\n                  if (d.type === MouseInteractions.TouchStart) {\n                    this.touchActive = true;\n                  } else if (d.type === MouseInteractions.TouchEnd) {\n                    this.touchActive = false;\n                  }\n                  this.mousePos = {\n                    x: d.x,\n                    y: d.y,\n                    id: d.id,\n                    debugData: d\n                  };\n                } else {\n                  if (d.type === MouseInteractions.TouchStart) {\n                    this.tailPositions.length = 0;\n                  }\n                  this.moveAndHover(d.x, d.y, d.id, isSync, d);\n                  if (d.type === MouseInteractions.Click) {\n                    this.mouse.classList.remove(\"active\");\n                    void this.mouse.offsetWidth;\n                    this.mouse.classList.add(\"active\");\n                  } else if (d.type === MouseInteractions.TouchStart) {\n                    void this.mouse.offsetWidth;\n                    this.mouse.classList.add(\"touch-active\");\n                  } else if (d.type === MouseInteractions.TouchEnd) {\n                    this.mouse.classList.remove(\"touch-active\");\n                  }\n                }\n                break;\n              case MouseInteractions.TouchCancel:\n                if (isSync) {\n                  this.touchActive = false;\n                } else {\n                  this.mouse.classList.remove(\"touch-active\");\n                }\n                break;\n              default:\n                target.dispatchEvent(event);\n            }\n            break;\n          }\n          case IncrementalSource.Scroll: {\n            if (d.id === -1) {\n              break;\n            }\n            if (this.usingVirtualDom) {\n              const target = this.virtualDom.mirror.getNode(d.id);\n              if (!target) {\n                return this.debugNodeNotFound(d, d.id);\n              }\n              target.scrollData = d;\n              break;\n            }\n            this.applyScroll(d, isSync);\n            break;\n          }\n          case IncrementalSource.ViewportResize:\n            this.emitter.emit(ReplayerEvents.Resize, {\n              width: d.width,\n              height: d.height\n            });\n            break;\n          case IncrementalSource.Input: {\n            if (d.id === -1) {\n              break;\n            }\n            if (this.usingVirtualDom) {\n              const target = this.virtualDom.mirror.getNode(d.id);\n              if (!target) {\n                return this.debugNodeNotFound(d, d.id);\n              }\n              target.inputData = d;\n              break;\n            }\n            this.applyInput(d);\n            break;\n          }\n          case IncrementalSource.MediaInteraction: {\n            const target = this.usingVirtualDom ? this.virtualDom.mirror.getNode(d.id) : this.mirror.getNode(d.id);\n            if (!target) {\n              return this.debugNodeNotFound(d, d.id);\n            }\n            const mediaEl = target;\n            try {\n              if (d.currentTime) {\n                mediaEl.currentTime = d.currentTime;\n              }\n              if (d.volume) {\n                mediaEl.volume = d.volume;\n              }\n              if (d.muted) {\n                mediaEl.muted = d.muted;\n              }\n              if (d.type === MediaInteractions.Pause) {\n                mediaEl.pause();\n              }\n              if (d.type === MediaInteractions.Play) {\n                void mediaEl.play();\n              }\n              if (d.type === MediaInteractions.RateChange) {\n                mediaEl.playbackRate = d.playbackRate;\n              }\n            } catch (error) {\n              if (this.config.showWarning) {\n                console.warn(`Failed to replay media interactions: ${error.message || error}`);\n              }\n            }\n            break;\n          }\n          case IncrementalSource.StyleSheetRule:\n          case IncrementalSource.StyleDeclaration: {\n            if (this.usingVirtualDom) {\n              if (d.styleId)\n                this.constructedStyleMutations.push(d);\n              else if (d.id)\n                (_b = this.virtualDom.mirror.getNode(d.id)) == null ? void 0 : _b.rules.push(d);\n            } else\n              this.applyStyleSheetMutation(d);\n            break;\n          }\n          case IncrementalSource.CanvasMutation: {\n            if (!this.config.UNSAFE_replayCanvas) {\n              return;\n            }\n            if (this.usingVirtualDom) {\n              const target = this.virtualDom.mirror.getNode(d.id);\n              if (!target) {\n                return this.debugNodeNotFound(d, d.id);\n              }\n              target.canvasMutations.push({\n                event: e,\n                mutation: d\n              });\n            } else {\n              const target = this.mirror.getNode(d.id);\n              if (!target) {\n                return this.debugNodeNotFound(d, d.id);\n              }\n              void canvasMutation({\n                event: e,\n                mutation: d,\n                target,\n                imageMap: this.imageMap,\n                canvasEventMap: this.canvasEventMap,\n                errorHandler: this.warnCanvasMutationFailed.bind(this)\n              });\n            }\n            break;\n          }\n          case IncrementalSource.Font: {\n            try {\n              const fontFace = new FontFace(d.family, d.buffer ? new Uint8Array(JSON.parse(d.fontSource)) : d.fontSource, d.descriptors);\n              (_c = this.iframe.contentDocument) == null ? void 0 : _c.fonts.add(fontFace);\n            } catch (error) {\n              if (this.config.showWarning) {\n                console.warn(error);\n              }\n            }\n            break;\n          }\n          case IncrementalSource.Selection: {\n            if (isSync) {\n              this.lastSelectionData = d;\n              break;\n            }\n            this.applySelection(d);\n            break;\n          }\n          case IncrementalSource.AdoptedStyleSheet: {\n            if (this.usingVirtualDom)\n              this.adoptedStyleSheets.push(d);\n            else\n              this.applyAdoptedStyleSheet(d);\n            break;\n          }\n        }\n      }\n      applyMutation(d, isSync) {\n        if (this.config.useVirtualDom && !this.usingVirtualDom && isSync) {\n          this.usingVirtualDom = true;\n          buildFromDom(this.iframe.contentDocument, this.mirror, this.virtualDom);\n          if (Object.keys(this.legacy_missingNodeRetryMap).length) {\n            for (const key in this.legacy_missingNodeRetryMap) {\n              try {\n                const value = this.legacy_missingNodeRetryMap[key];\n                const virtualNode = buildFromNode(value.node, this.virtualDom, this.mirror);\n                if (virtualNode)\n                  value.node = virtualNode;\n              } catch (error) {\n                if (this.config.showWarning) {\n                  console.warn(error);\n                }\n              }\n            }\n          }\n        }\n        const mirror = this.usingVirtualDom ? this.virtualDom.mirror : this.mirror;\n        d.removes.forEach((mutation) => {\n          var _a;\n          const target = mirror.getNode(mutation.id);\n          if (!target) {\n            if (d.removes.find((r) => r.id === mutation.parentId)) {\n              return;\n            }\n            return this.warnNodeNotFound(d, mutation.id);\n          }\n          let parent = mirror.getNode(mutation.parentId);\n          if (!parent) {\n            return this.warnNodeNotFound(d, mutation.parentId);\n          }\n          if (mutation.isShadow && hasShadowRoot(parent)) {\n            parent = parent.shadowRoot;\n          }\n          mirror.removeNodeFromMap(target);\n          if (parent)\n            try {\n              parent.removeChild(target);\n              if (this.usingVirtualDom && target.nodeName === \"#text\" && parent.nodeName === \"STYLE\" && ((_a = parent.rules) == null ? void 0 : _a.length) > 0)\n                parent.rules = [];\n            } catch (error) {\n              if (error instanceof DOMException) {\n                this.warn(\"parent could not remove child in mutation\", parent, target, d);\n              } else {\n                throw error;\n              }\n            }\n        });\n        const legacy_missingNodeMap = __spreadValues$1({}, this.legacy_missingNodeRetryMap);\n        const queue = [];\n        const nextNotInDOM = (mutation) => {\n          let next = null;\n          if (mutation.nextId) {\n            next = mirror.getNode(mutation.nextId);\n          }\n          if (mutation.nextId !== null && mutation.nextId !== void 0 && mutation.nextId !== -1 && !next) {\n            return true;\n          }\n          return false;\n        };\n        const appendNode = (mutation) => {\n          var _a;\n          if (!this.iframe.contentDocument) {\n            return console.warn(\"Looks like your replayer has been destroyed.\");\n          }\n          let parent = mirror.getNode(mutation.parentId);\n          if (!parent) {\n            if (mutation.node.type === NodeType$2.Document) {\n              return this.newDocumentQueue.push(mutation);\n            }\n            return queue.push(mutation);\n          }\n          if (mutation.node.isShadow) {\n            if (!hasShadowRoot(parent)) {\n              parent.attachShadow({ mode: \"open\" });\n              parent = parent.shadowRoot;\n            } else\n              parent = parent.shadowRoot;\n          }\n          let previous = null;\n          let next = null;\n          if (mutation.previousId) {\n            previous = mirror.getNode(mutation.previousId);\n          }\n          if (mutation.nextId) {\n            next = mirror.getNode(mutation.nextId);\n          }\n          if (nextNotInDOM(mutation)) {\n            return queue.push(mutation);\n          }\n          if (mutation.node.rootId && !mirror.getNode(mutation.node.rootId)) {\n            return;\n          }\n          const targetDoc = mutation.node.rootId ? mirror.getNode(mutation.node.rootId) : this.usingVirtualDom ? this.virtualDom : this.iframe.contentDocument;\n          if (isSerializedIframe(parent, mirror)) {\n            this.attachDocumentToIframe(mutation, parent);\n            return;\n          }\n          const afterAppend = (node, id) => {\n            for (const plugin of this.config.plugins || []) {\n              if (plugin.onBuild)\n                plugin.onBuild(node, { id, replayer: this });\n            }\n          };\n          const target = buildNodeWithSN(mutation.node, {\n            doc: targetDoc,\n            mirror,\n            skipChild: true,\n            hackCss: true,\n            cache: this.cache,\n            afterAppend\n          });\n          if (mutation.previousId === -1 || mutation.nextId === -1) {\n            legacy_missingNodeMap[mutation.node.id] = {\n              node: target,\n              mutation\n            };\n            return;\n          }\n          const parentSn = mirror.getMeta(parent);\n          if (parentSn && parentSn.type === NodeType$2.Element && parentSn.tagName === \"textarea\" && mutation.node.type === NodeType$2.Text) {\n            const childNodeArray = Array.isArray(parent.childNodes) ? parent.childNodes : Array.from(parent.childNodes);\n            for (const c of childNodeArray) {\n              if (c.nodeType === parent.TEXT_NODE) {\n                parent.removeChild(c);\n              }\n            }\n          }\n          if (previous && previous.nextSibling && previous.nextSibling.parentNode) {\n            parent.insertBefore(target, previous.nextSibling);\n          } else if (next && next.parentNode) {\n            parent.contains(next) ? parent.insertBefore(target, next) : parent.insertBefore(target, null);\n          } else {\n            if (parent === targetDoc) {\n              while (targetDoc.firstChild) {\n                targetDoc.removeChild(targetDoc.firstChild);\n              }\n            }\n            parent.appendChild(target);\n          }\n          afterAppend(target, mutation.node.id);\n          if (this.usingVirtualDom && target.nodeName === \"#text\" && parent.nodeName === \"STYLE\" && ((_a = parent.rules) == null ? void 0 : _a.length) > 0)\n            parent.rules = [];\n          if (isSerializedIframe(target, this.mirror)) {\n            const targetId = this.mirror.getId(target);\n            const mutationInQueue = this.newDocumentQueue.find((m) => m.parentId === targetId);\n            if (mutationInQueue) {\n              this.attachDocumentToIframe(mutationInQueue, target);\n              this.newDocumentQueue = this.newDocumentQueue.filter((m) => m !== mutationInQueue);\n            }\n          }\n          if (mutation.previousId || mutation.nextId) {\n            this.legacy_resolveMissingNode(legacy_missingNodeMap, parent, target, mutation);\n          }\n        };\n        d.adds.forEach((mutation) => {\n          appendNode(mutation);\n        });\n        const startTime = Date.now();\n        while (queue.length) {\n          const resolveTrees = queueToResolveTrees(queue);\n          queue.length = 0;\n          if (Date.now() - startTime > 500) {\n            this.warn(\"Timeout in the loop, please check the resolve tree data:\", resolveTrees);\n            break;\n          }\n          for (const tree of resolveTrees) {\n            const parent = mirror.getNode(tree.value.parentId);\n            if (!parent) {\n              this.debug(\"Drop resolve tree since there is no parent for the root node.\", tree);\n            } else {\n              iterateResolveTree(tree, (mutation) => {\n                appendNode(mutation);\n              });\n            }\n          }\n        }\n        if (Object.keys(legacy_missingNodeMap).length) {\n          Object.assign(this.legacy_missingNodeRetryMap, legacy_missingNodeMap);\n        }\n        uniqueTextMutations(d.texts).forEach((mutation) => {\n          var _a;\n          const target = mirror.getNode(mutation.id);\n          if (!target) {\n            if (d.removes.find((r) => r.id === mutation.id)) {\n              return;\n            }\n            return this.warnNodeNotFound(d, mutation.id);\n          }\n          target.textContent = mutation.value;\n          if (this.usingVirtualDom) {\n            const parent = target.parentNode;\n            if (((_a = parent == null ? void 0 : parent.rules) == null ? void 0 : _a.length) > 0)\n              parent.rules = [];\n          }\n        });\n        d.attributes.forEach((mutation) => {\n          const target = mirror.getNode(mutation.id);\n          if (!target) {\n            if (d.removes.find((r) => r.id === mutation.id)) {\n              return;\n            }\n            return this.warnNodeNotFound(d, mutation.id);\n          }\n          for (const attributeName in mutation.attributes) {\n            if (typeof attributeName === \"string\") {\n              const value = mutation.attributes[attributeName];\n              if (value === null) {\n                target.removeAttribute(attributeName);\n              } else if (typeof value === \"string\") {\n                try {\n                  if (attributeName === \"_cssText\" && (target.nodeName === \"LINK\" || target.nodeName === \"STYLE\")) {\n                    try {\n                      const newSn = mirror.getMeta(target);\n                      Object.assign(newSn.attributes, mutation.attributes);\n                      const newNode = buildNodeWithSN(newSn, {\n                        doc: target.ownerDocument,\n                        mirror,\n                        skipChild: true,\n                        hackCss: true,\n                        cache: this.cache\n                      });\n                      const siblingNode = target.nextSibling;\n                      const parentNode = target.parentNode;\n                      if (newNode && parentNode) {\n                        parentNode.removeChild(target);\n                        parentNode.insertBefore(newNode, siblingNode);\n                        mirror.replace(mutation.id, newNode);\n                        break;\n                      }\n                    } catch (e) {\n                    }\n                  }\n                  target.setAttribute(attributeName, value);\n                } catch (error) {\n                  if (this.config.showWarning) {\n                    console.warn(\"An error occurred may due to the checkout feature.\", error);\n                  }\n                }\n              } else if (attributeName === \"style\") {\n                const styleValues = value;\n                const targetEl = target;\n                for (const s in styleValues) {\n                  if (styleValues[s] === false) {\n                    targetEl.style.removeProperty(s);\n                  } else if (styleValues[s] instanceof Array) {\n                    const svp = styleValues[s];\n                    targetEl.style.setProperty(s, svp[0], svp[1]);\n                  } else {\n                    const svs = styleValues[s];\n                    targetEl.style.setProperty(s, svs);\n                  }\n                }\n              }\n            }\n          }\n        });\n      }\n      applyScroll(d, isSync) {\n        var _a, _b;\n        const target = this.mirror.getNode(d.id);\n        if (!target) {\n          return this.debugNodeNotFound(d, d.id);\n        }\n        const sn = this.mirror.getMeta(target);\n        if (target === this.iframe.contentDocument) {\n          (_a = this.iframe.contentWindow) == null ? void 0 : _a.scrollTo({\n            top: d.y,\n            left: d.x,\n            behavior: isSync ? \"auto\" : \"smooth\"\n          });\n        } else if ((sn == null ? void 0 : sn.type) === NodeType$2.Document) {\n          (_b = target.defaultView) == null ? void 0 : _b.scrollTo({\n            top: d.y,\n            left: d.x,\n            behavior: isSync ? \"auto\" : \"smooth\"\n          });\n        } else {\n          try {\n            target.scrollTo({\n              top: d.y,\n              left: d.x,\n              behavior: isSync ? \"auto\" : \"smooth\"\n            });\n          } catch (error) {\n          }\n        }\n      }\n      applyInput(d) {\n        const target = this.mirror.getNode(d.id);\n        if (!target) {\n          return this.debugNodeNotFound(d, d.id);\n        }\n        try {\n          target.checked = d.isChecked;\n          target.value = d.text;\n        } catch (error) {\n        }\n      }\n      applySelection(d) {\n        try {\n          const selectionSet = /* @__PURE__ */ new Set();\n          const ranges = d.ranges.map(({ start, startOffset, end, endOffset }) => {\n            const startContainer = this.mirror.getNode(start);\n            const endContainer = this.mirror.getNode(end);\n            if (!startContainer || !endContainer)\n              return;\n            const result = new Range();\n            result.setStart(startContainer, startOffset);\n            result.setEnd(endContainer, endOffset);\n            const doc = startContainer.ownerDocument;\n            const selection = doc == null ? void 0 : doc.getSelection();\n            selection && selectionSet.add(selection);\n            return {\n              range: result,\n              selection\n            };\n          });\n          selectionSet.forEach((s) => s.removeAllRanges());\n          ranges.forEach((r) => {\n            var _a;\n            return r && ((_a = r.selection) == null ? void 0 : _a.addRange(r.range));\n          });\n        } catch (error) {\n        }\n      }\n      applyStyleSheetMutation(data) {\n        var _a;\n        let styleSheet = null;\n        if (data.styleId)\n          styleSheet = this.styleMirror.getStyle(data.styleId);\n        else if (data.id)\n          styleSheet = ((_a = this.mirror.getNode(data.id)) == null ? void 0 : _a.sheet) || null;\n        if (!styleSheet)\n          return;\n        if (data.source === IncrementalSource.StyleSheetRule)\n          this.applyStyleSheetRule(data, styleSheet);\n        else if (data.source === IncrementalSource.StyleDeclaration)\n          this.applyStyleDeclaration(data, styleSheet);\n      }\n      applyStyleSheetRule(data, styleSheet) {\n        var _a, _b, _c, _d;\n        (_a = data.adds) == null ? void 0 : _a.forEach(({ rule, index: nestedIndex }) => {\n          try {\n            if (Array.isArray(nestedIndex)) {\n              const { positions, index } = getPositionsAndIndex(nestedIndex);\n              const nestedRule = getNestedRule(styleSheet.cssRules, positions);\n              nestedRule.insertRule(rule, index);\n            } else {\n              const index = nestedIndex === void 0 ? void 0 : Math.min(nestedIndex, styleSheet.cssRules.length);\n              styleSheet == null ? void 0 : styleSheet.insertRule(rule, index);\n            }\n          } catch (e) {\n          }\n        });\n        (_b = data.removes) == null ? void 0 : _b.forEach(({ index: nestedIndex }) => {\n          try {\n            if (Array.isArray(nestedIndex)) {\n              const { positions, index } = getPositionsAndIndex(nestedIndex);\n              const nestedRule = getNestedRule(styleSheet.cssRules, positions);\n              nestedRule.deleteRule(index || 0);\n            } else {\n              styleSheet == null ? void 0 : styleSheet.deleteRule(nestedIndex);\n            }\n          } catch (e) {\n          }\n        });\n        if (data.replace)\n          try {\n            void ((_c = styleSheet.replace) == null ? void 0 : _c.call(styleSheet, data.replace));\n          } catch (e) {\n          }\n        if (data.replaceSync)\n          try {\n            (_d = styleSheet.replaceSync) == null ? void 0 : _d.call(styleSheet, data.replaceSync);\n          } catch (e) {\n          }\n      }\n      applyStyleDeclaration(data, styleSheet) {\n        if (data.set) {\n          const rule = getNestedRule(styleSheet.rules, data.index);\n          rule.style.setProperty(data.set.property, data.set.value, data.set.priority);\n        }\n        if (data.remove) {\n          const rule = getNestedRule(styleSheet.rules, data.index);\n          rule.style.removeProperty(data.remove.property);\n        }\n      }\n      applyAdoptedStyleSheet(data) {\n        var _a;\n        const targetHost = this.mirror.getNode(data.id);\n        if (!targetHost)\n          return;\n        (_a = data.styles) == null ? void 0 : _a.forEach((style) => {\n          var _a2;\n          let newStyleSheet = null;\n          let hostWindow = null;\n          if (hasShadowRoot(targetHost))\n            hostWindow = ((_a2 = targetHost.ownerDocument) == null ? void 0 : _a2.defaultView) || null;\n          else if (targetHost.nodeName === \"#document\")\n            hostWindow = targetHost.defaultView;\n          if (!hostWindow)\n            return;\n          try {\n            newStyleSheet = new hostWindow.CSSStyleSheet();\n            this.styleMirror.add(newStyleSheet, style.styleId);\n            this.applyStyleSheetRule({\n              source: IncrementalSource.StyleSheetRule,\n              adds: style.rules\n            }, newStyleSheet);\n          } catch (e) {\n          }\n        });\n        const MAX_RETRY_TIME = 10;\n        let count = 0;\n        const adoptStyleSheets = (targetHost2, styleIds) => {\n          const stylesToAdopt = styleIds.map((styleId) => this.styleMirror.getStyle(styleId)).filter((style) => style !== null);\n          if (hasShadowRoot(targetHost2))\n            targetHost2.shadowRoot.adoptedStyleSheets = stylesToAdopt;\n          else if (targetHost2.nodeName === \"#document\")\n            targetHost2.adoptedStyleSheets = stylesToAdopt;\n          if (stylesToAdopt.length !== styleIds.length && count < MAX_RETRY_TIME) {\n            setTimeout(() => adoptStyleSheets(targetHost2, styleIds), 0 + 100 * count);\n            count++;\n          }\n        };\n        adoptStyleSheets(targetHost, data.styleIds);\n      }\n      legacy_resolveMissingNode(map, parent, target, targetMutation) {\n        const { previousId, nextId } = targetMutation;\n        const previousInMap = previousId && map[previousId];\n        const nextInMap = nextId && map[nextId];\n        if (previousInMap) {\n          const { node, mutation } = previousInMap;\n          parent.insertBefore(node, target);\n          delete map[mutation.node.id];\n          delete this.legacy_missingNodeRetryMap[mutation.node.id];\n          if (mutation.previousId || mutation.nextId) {\n            this.legacy_resolveMissingNode(map, parent, node, mutation);\n          }\n        }\n        if (nextInMap) {\n          const { node, mutation } = nextInMap;\n          parent.insertBefore(node, target.nextSibling);\n          delete map[mutation.node.id];\n          delete this.legacy_missingNodeRetryMap[mutation.node.id];\n          if (mutation.previousId || mutation.nextId) {\n            this.legacy_resolveMissingNode(map, parent, node, mutation);\n          }\n        }\n      }\n      moveAndHover(x, y, id, isSync, debugData) {\n        const target = this.mirror.getNode(id);\n        if (!target) {\n          return this.debugNodeNotFound(debugData, id);\n        }\n        const base = getBaseDimension(target, this.iframe);\n        const _x = x * base.absoluteScale + base.x;\n        const _y = y * base.absoluteScale + base.y;\n        this.mouse.style.left = `${_x}px`;\n        this.mouse.style.top = `${_y}px`;\n        if (!isSync) {\n          this.drawMouseTail({ x: _x, y: _y });\n        }\n        this.hoverElements(target);\n      }\n      drawMouseTail(position) {\n        if (!this.mouseTail) {\n          return;\n        }\n        const { lineCap, lineWidth, strokeStyle, duration } = this.config.mouseTail === true ? defaultMouseTailConfig : Object.assign({}, defaultMouseTailConfig, this.config.mouseTail);\n        const draw = () => {\n          if (!this.mouseTail) {\n            return;\n          }\n          const ctx = this.mouseTail.getContext(\"2d\");\n          if (!ctx || !this.tailPositions.length) {\n            return;\n          }\n          ctx.clearRect(0, 0, this.mouseTail.width, this.mouseTail.height);\n          ctx.beginPath();\n          ctx.lineWidth = lineWidth;\n          ctx.lineCap = lineCap;\n          ctx.strokeStyle = strokeStyle;\n          ctx.moveTo(this.tailPositions[0].x, this.tailPositions[0].y);\n          this.tailPositions.forEach((p) => ctx.lineTo(p.x, p.y));\n          ctx.stroke();\n        };\n        this.tailPositions.push(position);\n        draw();\n        setTimeout(() => {\n          this.tailPositions = this.tailPositions.filter((p) => p !== position);\n          draw();\n        }, duration / this.speedService.state.context.timer.speed);\n      }\n      hoverElements(el) {\n        var _a;\n        (_a = this.iframe.contentDocument) == null ? void 0 : _a.querySelectorAll(\".\\\\:hover\").forEach((hoveredEl) => {\n          hoveredEl.classList.remove(\":hover\");\n        });\n        let currentEl = el;\n        while (currentEl) {\n          if (currentEl.classList) {\n            currentEl.classList.add(\":hover\");\n          }\n          currentEl = currentEl.parentElement;\n        }\n      }\n      isUserInteraction(event) {\n        if (event.type !== EventType.IncrementalSnapshot) {\n          return false;\n        }\n        return event.data.source > IncrementalSource.Mutation && event.data.source <= IncrementalSource.Input;\n      }\n      backToNormal() {\n        this.nextUserInteractionEvent = null;\n        if (this.speedService.state.matches(\"normal\")) {\n          return;\n        }\n        this.speedService.send({ type: \"BACK_TO_NORMAL\" });\n        this.emitter.emit(ReplayerEvents.SkipEnd, {\n          speed: this.speedService.state.context.normalSpeed\n        });\n      }\n      warnNodeNotFound(d, id) {\n        this.warn(`Node with id '${id}' not found. `, d);\n      }\n      warnCanvasMutationFailed(d, error) {\n        this.warn(`Has error on canvas update`, error, \"canvas mutation:\", d);\n      }\n      debugNodeNotFound(d, id) {\n        this.debug(REPLAY_CONSOLE_PREFIX, `Node with id '${id}' not found. `, d);\n      }\n      warn(...args) {\n        if (!this.config.showWarning) {\n          return;\n        }\n        console.warn(REPLAY_CONSOLE_PREFIX, ...args);\n      }\n      debug(...args) {\n        if (!this.config.showDebug) {\n          return;\n        }\n        console.log(REPLAY_CONSOLE_PREFIX, ...args);\n      }\n    }\n\n    const { addCustomEvent } = record;\n    const { freezePage } = record;\n\n    // DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n\n    // aliases for shorter compressed code (most minifers don't do this)\n    var u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n    // fixed length extra bits\n    var fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n    // fixed distance extra bits\n    // see fleb note\n    var fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n    // code length index map\n    var clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n    // get base, reverse index map from extra bits\n    var freb = function (eb, start) {\n        var b = new u16(31);\n        for (var i = 0; i < 31; ++i) {\n            b[i] = start += 1 << eb[i - 1];\n        }\n        // numbers here are at max 18 bits\n        var r = new u32(b[30]);\n        for (var i = 1; i < 30; ++i) {\n            for (var j = b[i]; j < b[i + 1]; ++j) {\n                r[j] = ((j - b[i]) << 5) | i;\n            }\n        }\n        return [b, r];\n    };\n    var _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n    // we can ignore the fact that the other numbers are wrong; they never happen anyway\n    fl[28] = 258, revfl[258] = 28;\n    var _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n    // map of value to reverse (assuming 16 bits)\n    var rev = new u16(32768);\n    for (var i = 0; i < 32768; ++i) {\n        // reverse table algorithm from SO\n        var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n        x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n        x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n        rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n    }\n    // create huffman tree from u8 \"map\": index -> code length for code index\n    // mb (max bits) must be at most 15\n    // TODO: optimize/split up?\n    var hMap = (function (cd, mb, r) {\n        var s = cd.length;\n        // index\n        var i = 0;\n        // u16 \"map\": index -> # of codes with bit length = index\n        var l = new u16(mb);\n        // length of cd must be 288 (total # of codes)\n        for (; i < s; ++i)\n            ++l[cd[i] - 1];\n        // u16 \"map\": index -> minimum code for bit length = index\n        var le = new u16(mb);\n        for (i = 0; i < mb; ++i) {\n            le[i] = (le[i - 1] + l[i - 1]) << 1;\n        }\n        var co;\n        if (r) {\n            // u16 \"map\": index -> number of actual bits, symbol for code\n            co = new u16(1 << mb);\n            // bits to remove for reverser\n            var rvb = 15 - mb;\n            for (i = 0; i < s; ++i) {\n                // ignore 0 lengths\n                if (cd[i]) {\n                    // num encoding both symbol and bits read\n                    var sv = (i << 4) | cd[i];\n                    // free bits\n                    var r_1 = mb - cd[i];\n                    // start value\n                    var v = le[cd[i] - 1]++ << r_1;\n                    // m is end value\n                    for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                        // every 16 bit value starting with the code yields the same result\n                        co[rev[v] >>> rvb] = sv;\n                    }\n                }\n            }\n        }\n        else {\n            co = new u16(s);\n            for (i = 0; i < s; ++i)\n                co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n        }\n        return co;\n    });\n    // fixed length tree\n    var flt = new u8(288);\n    for (var i = 0; i < 144; ++i)\n        flt[i] = 8;\n    for (var i = 144; i < 256; ++i)\n        flt[i] = 9;\n    for (var i = 256; i < 280; ++i)\n        flt[i] = 7;\n    for (var i = 280; i < 288; ++i)\n        flt[i] = 8;\n    // fixed distance tree\n    var fdt = new u8(32);\n    for (var i = 0; i < 32; ++i)\n        fdt[i] = 5;\n    // fixed length map\n    var flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n    // fixed distance map\n    var fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n    // find max of array\n    var max = function (a) {\n        var m = a[0];\n        for (var i = 1; i < a.length; ++i) {\n            if (a[i] > m)\n                m = a[i];\n        }\n        return m;\n    };\n    // read d, starting at bit p and mask with m\n    var bits = function (d, p, m) {\n        var o = (p / 8) >> 0;\n        return ((d[o] | (d[o + 1] << 8)) >>> (p & 7)) & m;\n    };\n    // read d, starting at bit p continuing for at least 16 bits\n    var bits16 = function (d, p) {\n        var o = (p / 8) >> 0;\n        return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >>> (p & 7));\n    };\n    // get end of byte\n    var shft = function (p) { return ((p / 8) >> 0) + (p & 7 && 1); };\n    // typed array slice - allows garbage collector to free original reference,\n    // while being more compatible than .slice\n    var slc = function (v, s, e) {\n        if (s == null || s < 0)\n            s = 0;\n        if (e == null || e > v.length)\n            e = v.length;\n        // can't use .constructor in case user-supplied\n        var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n        n.set(v.subarray(s, e));\n        return n;\n    };\n    // expands raw DEFLATE data\n    var inflt = function (dat, buf, st) {\n        // source length\n        var sl = dat.length;\n        // have to estimate size\n        var noBuf = !buf || st;\n        // no state\n        var noSt = !st || st.i;\n        if (!st)\n            st = {};\n        // Assumes roughly 33% compression ratio average\n        if (!buf)\n            buf = new u8(sl * 3);\n        // ensure buffer can fit at least l elements\n        var cbuf = function (l) {\n            var bl = buf.length;\n            // need to increase size to fit\n            if (l > bl) {\n                // Double or set to necessary, whichever is greater\n                var nbuf = new u8(Math.max(bl * 2, l));\n                nbuf.set(buf);\n                buf = nbuf;\n            }\n        };\n        //  last chunk         bitpos           bytes\n        var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n        // total bits\n        var tbts = sl * 8;\n        do {\n            if (!lm) {\n                // BFINAL - this is only 1 when last chunk is next\n                st.f = final = bits(dat, pos, 1);\n                // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n                var type = bits(dat, pos + 1, 3);\n                pos += 3;\n                if (!type) {\n                    // go to end of byte boundary\n                    var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                    if (t > sl) {\n                        if (noSt)\n                            throw 'unexpected EOF';\n                        break;\n                    }\n                    // ensure size\n                    if (noBuf)\n                        cbuf(bt + l);\n                    // Copy over uncompressed data\n                    buf.set(dat.subarray(s, t), bt);\n                    // Get new bitpos, update byte count\n                    st.b = bt += l, st.p = pos = t * 8;\n                    continue;\n                }\n                else if (type == 1)\n                    lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n                else if (type == 2) {\n                    //  literal                            lengths\n                    var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                    var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                    pos += 14;\n                    // length+distance tree\n                    var ldt = new u8(tl);\n                    // code length tree\n                    var clt = new u8(19);\n                    for (var i = 0; i < hcLen; ++i) {\n                        // use index map to get real code\n                        clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                    }\n                    pos += hcLen * 3;\n                    // code lengths bits\n                    var clb = max(clt), clbmsk = (1 << clb) - 1;\n                    if (!noSt && pos + tl * (clb + 7) > tbts)\n                        break;\n                    // code lengths map\n                    var clm = hMap(clt, clb, 1);\n                    for (var i = 0; i < tl;) {\n                        var r = clm[bits(dat, pos, clbmsk)];\n                        // bits read\n                        pos += r & 15;\n                        // symbol\n                        var s = r >>> 4;\n                        // code length to copy\n                        if (s < 16) {\n                            ldt[i++] = s;\n                        }\n                        else {\n                            //  copy   count\n                            var c = 0, n = 0;\n                            if (s == 16)\n                                n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                            else if (s == 17)\n                                n = 3 + bits(dat, pos, 7), pos += 3;\n                            else if (s == 18)\n                                n = 11 + bits(dat, pos, 127), pos += 7;\n                            while (n--)\n                                ldt[i++] = c;\n                        }\n                    }\n                    //    length tree                 distance tree\n                    var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                    // max length bits\n                    lbt = max(lt);\n                    // max dist bits\n                    dbt = max(dt);\n                    lm = hMap(lt, lbt, 1);\n                    dm = hMap(dt, dbt, 1);\n                }\n                else\n                    throw 'invalid block type';\n                if (pos > tbts)\n                    throw 'unexpected EOF';\n            }\n            // Make sure the buffer can hold this + the largest possible addition\n            // Maximum chunk size (practically, theoretically infinite) is 2^17;\n            if (noBuf)\n                cbuf(bt + 131072);\n            var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n            var mxa = lbt + dbt + 18;\n            while (noSt || pos + mxa < tbts) {\n                // bits read, code\n                var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n                pos += c & 15;\n                if (pos > tbts)\n                    throw 'unexpected EOF';\n                if (!c)\n                    throw 'invalid length/literal';\n                if (sym < 256)\n                    buf[bt++] = sym;\n                else if (sym == 256) {\n                    lm = null;\n                    break;\n                }\n                else {\n                    var add = sym - 254;\n                    // no extra bits needed if less\n                    if (sym > 264) {\n                        // index\n                        var i = sym - 257, b = fleb[i];\n                        add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                        pos += b;\n                    }\n                    // dist\n                    var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                    if (!d)\n                        throw 'invalid distance';\n                    pos += d & 15;\n                    var dt = fd[dsym];\n                    if (dsym > 3) {\n                        var b = fdeb[dsym];\n                        dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                    }\n                    if (pos > tbts)\n                        throw 'unexpected EOF';\n                    if (noBuf)\n                        cbuf(bt + 131072);\n                    var end = bt + add;\n                    for (; bt < end; bt += 4) {\n                        buf[bt] = buf[bt - dt];\n                        buf[bt + 1] = buf[bt + 1 - dt];\n                        buf[bt + 2] = buf[bt + 2 - dt];\n                        buf[bt + 3] = buf[bt + 3 - dt];\n                    }\n                    bt = end;\n                }\n            }\n            st.l = lm, st.p = pos, st.b = bt;\n            if (lm)\n                final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n        } while (!final);\n        return bt == buf.length ? buf : slc(buf, 0, bt);\n    };\n    // starting at p, write the minimum number of bits that can hold v to d\n    var wbits = function (d, p, v) {\n        v <<= p & 7;\n        var o = (p / 8) >> 0;\n        d[o] |= v;\n        d[o + 1] |= v >>> 8;\n    };\n    // starting at p, write the minimum number of bits (>8) that can hold v to d\n    var wbits16 = function (d, p, v) {\n        v <<= p & 7;\n        var o = (p / 8) >> 0;\n        d[o] |= v;\n        d[o + 1] |= v >>> 8;\n        d[o + 2] |= v >>> 16;\n    };\n    // creates code lengths from a frequency table\n    var hTree = function (d, mb) {\n        // Need extra info to make a tree\n        var t = [];\n        for (var i = 0; i < d.length; ++i) {\n            if (d[i])\n                t.push({ s: i, f: d[i] });\n        }\n        var s = t.length;\n        var t2 = t.slice();\n        if (!s)\n            return [new u8(0), 0];\n        if (s == 1) {\n            var v = new u8(t[0].s + 1);\n            v[t[0].s] = 1;\n            return [v, 1];\n        }\n        t.sort(function (a, b) { return a.f - b.f; });\n        // after i2 reaches last ind, will be stopped\n        // freq must be greater than largest possible number of symbols\n        t.push({ s: -1, f: 25001 });\n        var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n        t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n        // efficient algorithm from UZIP.js\n        // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n        // symbols that combined have high freq, will start processing i2 (high-freq,\n        // non-composite) symbols instead\n        // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n        while (i1 != s - 1) {\n            l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n            r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n            t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n        }\n        var maxSym = t2[0].s;\n        for (var i = 1; i < s; ++i) {\n            if (t2[i].s > maxSym)\n                maxSym = t2[i].s;\n        }\n        // code lengths\n        var tr = new u16(maxSym + 1);\n        // max bits in tree\n        var mbt = ln(t[i1 - 1], tr, 0);\n        if (mbt > mb) {\n            // more algorithms from UZIP.js\n            // TODO: find out how this code works (debt)\n            //  ind    debt\n            var i = 0, dt = 0;\n            //    left            cost\n            var lft = mbt - mb, cst = 1 << lft;\n            t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n            for (; i < s; ++i) {\n                var i2_1 = t2[i].s;\n                if (tr[i2_1] > mb) {\n                    dt += cst - (1 << (mbt - tr[i2_1]));\n                    tr[i2_1] = mb;\n                }\n                else\n                    break;\n            }\n            dt >>>= lft;\n            while (dt > 0) {\n                var i2_2 = t2[i].s;\n                if (tr[i2_2] < mb)\n                    dt -= 1 << (mb - tr[i2_2]++ - 1);\n                else\n                    ++i;\n            }\n            for (; i >= 0 && dt; --i) {\n                var i2_3 = t2[i].s;\n                if (tr[i2_3] == mb) {\n                    --tr[i2_3];\n                    ++dt;\n                }\n            }\n            mbt = mb;\n        }\n        return [new u8(tr), mbt];\n    };\n    // get the max length and assign length codes\n    var ln = function (n, l, d) {\n        return n.s == -1\n            ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n            : (l[n.s] = d);\n    };\n    // length codes generation\n    var lc = function (c) {\n        var s = c.length;\n        // Note that the semicolon was intentional\n        while (s && !c[--s])\n            ;\n        var cl = new u16(++s);\n        //  ind      num         streak\n        var cli = 0, cln = c[0], cls = 1;\n        var w = function (v) { cl[cli++] = v; };\n        for (var i = 1; i <= s; ++i) {\n            if (c[i] == cln && i != s)\n                ++cls;\n            else {\n                if (!cln && cls > 2) {\n                    for (; cls > 138; cls -= 138)\n                        w(32754);\n                    if (cls > 2) {\n                        w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                        cls = 0;\n                    }\n                }\n                else if (cls > 3) {\n                    w(cln), --cls;\n                    for (; cls > 6; cls -= 6)\n                        w(8304);\n                    if (cls > 2)\n                        w(((cls - 3) << 5) | 8208), cls = 0;\n                }\n                while (cls--)\n                    w(cln);\n                cls = 1;\n                cln = c[i];\n            }\n        }\n        return [cl.subarray(0, cli), s];\n    };\n    // calculate the length of output from tree, code lengths\n    var clen = function (cf, cl) {\n        var l = 0;\n        for (var i = 0; i < cl.length; ++i)\n            l += cf[i] * cl[i];\n        return l;\n    };\n    // writes a fixed block\n    // returns the new bit pos\n    var wfblk = function (out, pos, dat) {\n        // no need to write 00 as type: TypedArray defaults to 0\n        var s = dat.length;\n        var o = shft(pos + 2);\n        out[o] = s & 255;\n        out[o + 1] = s >>> 8;\n        out[o + 2] = out[o] ^ 255;\n        out[o + 3] = out[o + 1] ^ 255;\n        for (var i = 0; i < s; ++i)\n            out[o + i + 4] = dat[i];\n        return (o + 4 + s) * 8;\n    };\n    // writes a block\n    var wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n        wbits(out, p++, final);\n        ++lf[256];\n        var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n        var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n        var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n        var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n        var lcfreq = new u16(19);\n        for (var i = 0; i < lclt.length; ++i)\n            lcfreq[lclt[i] & 31]++;\n        for (var i = 0; i < lcdt.length; ++i)\n            lcfreq[lcdt[i] & 31]++;\n        var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n        var nlcc = 19;\n        for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n            ;\n        var flen = (bl + 5) << 3;\n        var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n        var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n        if (flen <= ftlen && flen <= dtlen)\n            return wfblk(out, p, dat.subarray(bs, bs + bl));\n        var lm, ll, dm, dl;\n        wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n        if (dtlen < ftlen) {\n            lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n            var llm = hMap(lct, mlcb, 0);\n            wbits(out, p, nlc - 257);\n            wbits(out, p + 5, ndc - 1);\n            wbits(out, p + 10, nlcc - 4);\n            p += 14;\n            for (var i = 0; i < nlcc; ++i)\n                wbits(out, p + 3 * i, lct[clim[i]]);\n            p += 3 * nlcc;\n            var lcts = [lclt, lcdt];\n            for (var it = 0; it < 2; ++it) {\n                var clct = lcts[it];\n                for (var i = 0; i < clct.length; ++i) {\n                    var len = clct[i] & 31;\n                    wbits(out, p, llm[len]), p += lct[len];\n                    if (len > 15)\n                        wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n                }\n            }\n        }\n        else {\n            lm = flm, ll = flt, dm = fdm, dl = fdt;\n        }\n        for (var i = 0; i < li; ++i) {\n            if (syms[i] > 255) {\n                var len = (syms[i] >>> 18) & 31;\n                wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n                if (len > 7)\n                    wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n                var dst = syms[i] & 31;\n                wbits16(out, p, dm[dst]), p += dl[dst];\n                if (dst > 3)\n                    wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n            }\n            else {\n                wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n            }\n        }\n        wbits16(out, p, lm[256]);\n        return p + ll[256];\n    };\n    // deflate options (nice << 13) | chain\n    var deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n    // empty\n    var et = /*#__PURE__*/ new u8(0);\n    // compresses data into a raw DEFLATE buffer\n    var dflt = function (dat, lvl, plvl, pre, post, lst) {\n        var s = dat.length;\n        var o = new u8(pre + s + 5 * (1 + Math.floor(s / 7000)) + post);\n        // writing to this writes to the output buffer\n        var w = o.subarray(pre, o.length - post);\n        var pos = 0;\n        if (!lvl || s < 8) {\n            for (var i = 0; i <= s; i += 65535) {\n                // end\n                var e = i + 65535;\n                if (e < s) {\n                    // write full block\n                    pos = wfblk(w, pos, dat.subarray(i, e));\n                }\n                else {\n                    // write final block\n                    w[i] = lst;\n                    pos = wfblk(w, pos, dat.subarray(i, s));\n                }\n            }\n        }\n        else {\n            var opt = deo[lvl - 1];\n            var n = opt >>> 13, c = opt & 8191;\n            var msk_1 = (1 << plvl) - 1;\n            //    prev 2-byte val map    curr 2-byte val map\n            var prev = new u16(32768), head = new u16(msk_1 + 1);\n            var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n            var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n            // 24576 is an arbitrary number of maximum symbols per block\n            // 424 buffer for last block\n            var syms = new u32(25000);\n            // length/literal freq   distance freq\n            var lf = new u16(288), df = new u16(32);\n            //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n            var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n            for (; i < s; ++i) {\n                // hash value\n                var hv = hsh(i);\n                // index mod 32768\n                var imod = i & 32767;\n                // previous index with this value\n                var pimod = head[hv];\n                prev[imod] = pimod;\n                head[hv] = imod;\n                // We always should modify head and prev, but only add symbols if\n                // this data is not yet processed (\"wait\" for wait index)\n                if (wi <= i) {\n                    // bytes remaining\n                    var rem = s - i;\n                    if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                        pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                        li = lc_1 = eb = 0, bs = i;\n                        for (var j = 0; j < 286; ++j)\n                            lf[j] = 0;\n                        for (var j = 0; j < 30; ++j)\n                            df[j] = 0;\n                    }\n                    //  len    dist   chain\n                    var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                    if (rem > 2 && hv == hsh(i - dif)) {\n                        var maxn = Math.min(n, rem) - 1;\n                        var maxd = Math.min(32767, i);\n                        // max possible length\n                        // not capped at dif because decompressors implement \"rolling\" index population\n                        var ml = Math.min(258, rem);\n                        while (dif <= maxd && --ch_1 && imod != pimod) {\n                            if (dat[i + l] == dat[i + l - dif]) {\n                                var nl = 0;\n                                for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                    ;\n                                if (nl > l) {\n                                    l = nl, d = dif;\n                                    // break out early when we reach \"nice\" (we are satisfied enough)\n                                    if (nl > maxn)\n                                        break;\n                                    // now, find the rarest 2-byte sequence within this\n                                    // length of literals and search for that instead.\n                                    // Much faster than just using the start\n                                    var mmd = Math.min(dif, nl - 2);\n                                    var md = 0;\n                                    for (var j = 0; j < mmd; ++j) {\n                                        var ti = (i - dif + j + 32768) & 32767;\n                                        var pti = prev[ti];\n                                        var cd = (ti - pti + 32768) & 32767;\n                                        if (cd > md)\n                                            md = cd, pimod = ti;\n                                    }\n                                }\n                            }\n                            // check the previous match\n                            imod = pimod, pimod = prev[imod];\n                            dif += (imod - pimod + 32768) & 32767;\n                        }\n                    }\n                    // d will be nonzero only when a match was found\n                    if (d) {\n                        // store both dist and len data in one Uint32\n                        // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                        syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                        var lin = revfl[l] & 31, din = revfd[d] & 31;\n                        eb += fleb[lin] + fdeb[din];\n                        ++lf[257 + lin];\n                        ++df[din];\n                        wi = i + l;\n                        ++lc_1;\n                    }\n                    else {\n                        syms[li++] = dat[i];\n                        ++lf[dat[i]];\n                    }\n                }\n            }\n            pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n            // this is the easiest way to avoid needing to maintain state\n            if (!lst)\n                pos = wfblk(w, pos, et);\n        }\n        return slc(o, 0, pre + shft(pos) + post);\n    };\n    // Alder32\n    var adler = function () {\n        var a = 1, b = 0;\n        return {\n            p: function (d) {\n                // closures have awful performance\n                var n = a, m = b;\n                var l = d.length;\n                for (var i = 0; i != l;) {\n                    var e = Math.min(i + 5552, l);\n                    for (; i < e; ++i)\n                        n += d[i], m += n;\n                    n %= 65521, m %= 65521;\n                }\n                a = n, b = m;\n            },\n            d: function () { return ((a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8)) + ((a & 255) << 23) * 2; }\n        };\n    };\n    // deflate with opts\n    var dopt = function (dat, opt, pre, post, st) {\n        return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n    };\n    // write bytes\n    var wbytes = function (d, b, v) {\n        for (; v; ++b)\n            d[b] = v, v >>>= 8;\n    };\n    // zlib header\n    var zlh = function (c, o) {\n        var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n        c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n    };\n    // zlib valid\n    var zlv = function (d) {\n        if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n            throw 'invalid zlib data';\n        if (d[1] & 32)\n            throw 'invalid zlib data: preset dictionaries not supported';\n    };\n    /**\n     * Compress data with Zlib\n     * @param data The data to compress\n     * @param opts The compression options\n     * @returns The zlib-compressed version of the data\n     */\n    function zlibSync(data, opts) {\n        if (opts === void 0) { opts = {}; }\n        var a = adler();\n        a.p(data);\n        var d = dopt(data, opts, 2, 4);\n        return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n    }\n    /**\n     * Expands Zlib data\n     * @param data The data to decompress\n     * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n     * @returns The decompressed version of the data\n     */\n    function unzlibSync(data, out) {\n        return inflt((zlv(data), data.subarray(2, -4)), out);\n    }\n    /**\n     * Converts a string into a Uint8Array for use with compression/decompression methods\n     * @param str The string to encode\n     * @param latin1 Whether or not to interpret the data as Latin-1. This should\n     *               not need to be true unless decoding a binary string.\n     * @returns The string encoded in UTF-8/Latin-1 binary\n     */\n    function strToU8(str, latin1) {\n        var l = str.length;\n        if (!latin1 && typeof TextEncoder != 'undefined')\n            return new TextEncoder().encode(str);\n        var ar = new u8(str.length + (str.length >>> 1));\n        var ai = 0;\n        var w = function (v) { ar[ai++] = v; };\n        for (var i = 0; i < l; ++i) {\n            if (ai + 5 > ar.length) {\n                var n = new u8(ai + 8 + ((l - i) << 1));\n                n.set(ar);\n                ar = n;\n            }\n            var c = str.charCodeAt(i);\n            if (c < 128 || latin1)\n                w(c);\n            else if (c < 2048)\n                w(192 | (c >>> 6)), w(128 | (c & 63));\n            else if (c > 55295 && c < 57344)\n                c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                    w(240 | (c >>> 18)), w(128 | ((c >>> 12) & 63)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n            else\n                w(224 | (c >>> 12)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n        }\n        return slc(ar, 0, ai);\n    }\n    /**\n     * Converts a Uint8Array to a string\n     * @param dat The data to decode to string\n     * @param latin1 Whether or not to interpret the data as Latin-1. This should\n     *               not need to be true unless encoding to binary string.\n     * @returns The original UTF-8/Latin-1 string\n     */\n    function strFromU8(dat, latin1) {\n        var r = '';\n        if (!latin1 && typeof TextDecoder != 'undefined')\n            return new TextDecoder().decode(dat);\n        for (var i = 0; i < dat.length;) {\n            var c = dat[i++];\n            if (c < 128 || latin1)\n                r += String.fromCharCode(c);\n            else if (c < 224)\n                r += String.fromCharCode((c & 31) << 6 | (dat[i++] & 63));\n            else if (c < 240)\n                r += String.fromCharCode((c & 15) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63));\n            else\n                c = ((c & 15) << 18 | (dat[i++] & 63) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63)) - 65536,\n                    r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        return r;\n    }\n\n    const MARK = \"v1\";\n\n    var __defProp = Object.defineProperty;\n    var __defProps = Object.defineProperties;\n    var __getOwnPropDescs = Object.getOwnPropertyDescriptors;\n    var __getOwnPropSymbols = Object.getOwnPropertySymbols;\n    var __hasOwnProp = Object.prototype.hasOwnProperty;\n    var __propIsEnum = Object.prototype.propertyIsEnumerable;\n    var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\n    var __spreadValues = (a, b) => {\n      for (var prop in b || (b = {}))\n        if (__hasOwnProp.call(b, prop))\n          __defNormalProp(a, prop, b[prop]);\n      if (__getOwnPropSymbols)\n        for (var prop of __getOwnPropSymbols(b)) {\n          if (__propIsEnum.call(b, prop))\n            __defNormalProp(a, prop, b[prop]);\n        }\n      return a;\n    };\n    var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n    const pack = (event) => {\n      const _e = __spreadProps(__spreadValues({}, event), {\n        v: MARK\n      });\n      return strFromU8(zlibSync(strToU8(JSON.stringify(_e))), true);\n    };\n\n    const unpack = (raw) => {\n      if (typeof raw !== \"string\") {\n        return raw;\n      }\n      try {\n        const e = JSON.parse(raw);\n        if (e.timestamp) {\n          return e;\n        }\n      } catch (error) {\n      }\n      try {\n        const e = JSON.parse(strFromU8(unzlibSync(strToU8(raw, true))));\n        if (e.v === MARK) {\n          return e;\n        }\n        throw new Error(`These events were packed with packer ${e.v} which is incompatible with current packer ${MARK}.`);\n      } catch (error) {\n        console.error(error);\n        throw new Error(\"Unknown data format.\");\n      }\n    };\n\n    class StackFrame {\n      constructor(obj) {\n        this.fileName = obj.fileName || \"\";\n        this.functionName = obj.functionName || \"\";\n        this.lineNumber = obj.lineNumber;\n        this.columnNumber = obj.columnNumber;\n      }\n      toString() {\n        const lineNumber = this.lineNumber || \"\";\n        const columnNumber = this.columnNumber || \"\";\n        if (this.functionName)\n          return `${this.functionName} (${this.fileName}:${lineNumber}:${columnNumber})`;\n        return `${this.fileName}:${lineNumber}:${columnNumber}`;\n      }\n    }\n    const FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    const CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    const SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n    const ErrorStackParser = {\n      parse: function(error) {\n        if (!error) {\n          return [];\n        }\n        if (typeof error.stacktrace !== \"undefined\" || typeof error[\"opera#sourceloc\"] !== \"undefined\") {\n          return this.parseOpera(error);\n        } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n          return this.parseV8OrIE(error);\n        } else if (error.stack) {\n          return this.parseFFOrSafari(error);\n        } else {\n          throw new Error(\"Cannot parse given Error object\");\n        }\n      },\n      extractLocation: function(urlLike) {\n        if (urlLike.indexOf(\":\") === -1) {\n          return [urlLike];\n        }\n        const regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n        const parts = regExp.exec(urlLike.replace(/[()]/g, \"\"));\n        if (!parts)\n          throw new Error(`Cannot parse given url: ${urlLike}`);\n        return [parts[1], parts[2] || void 0, parts[3] || void 0];\n      },\n      parseV8OrIE: function(error) {\n        const filtered = error.stack.split(\"\\n\").filter(function(line) {\n          return !!line.match(CHROME_IE_STACK_REGEXP);\n        }, this);\n        return filtered.map(function(line) {\n          if (line.indexOf(\"(eval \") > -1) {\n            line = line.replace(/eval code/g, \"eval\").replace(/(\\(eval at [^()]*)|(\\),.*$)/g, \"\");\n          }\n          let sanitizedLine = line.replace(/^\\s+/, \"\").replace(/\\(eval code/g, \"(\");\n          const location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n          sanitizedLine = location ? sanitizedLine.replace(location[0], \"\") : sanitizedLine;\n          const tokens = sanitizedLine.split(/\\s+/).slice(1);\n          const locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n          const functionName = tokens.join(\" \") || void 0;\n          const fileName = [\"eval\", \"<anonymous>\"].indexOf(locationParts[0]) > -1 ? void 0 : locationParts[0];\n          return new StackFrame({\n            functionName,\n            fileName,\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2]\n          });\n        }, this);\n      },\n      parseFFOrSafari: function(error) {\n        const filtered = error.stack.split(\"\\n\").filter(function(line) {\n          return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n        }, this);\n        return filtered.map(function(line) {\n          if (line.indexOf(\" > eval\") > -1) {\n            line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, \":$1\");\n          }\n          if (line.indexOf(\"@\") === -1 && line.indexOf(\":\") === -1) {\n            return new StackFrame({\n              functionName: line\n            });\n          } else {\n            const functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n            const matches = line.match(functionNameRegex);\n            const functionName = matches && matches[1] ? matches[1] : void 0;\n            const locationParts = this.extractLocation(line.replace(functionNameRegex, \"\"));\n            return new StackFrame({\n              functionName,\n              fileName: locationParts[0],\n              lineNumber: locationParts[1],\n              columnNumber: locationParts[2]\n            });\n          }\n        }, this);\n      },\n      parseOpera: function(e) {\n        if (!e.stacktrace || e.message.indexOf(\"\\n\") > -1 && e.message.split(\"\\n\").length > e.stacktrace.split(\"\\n\").length) {\n          return this.parseOpera9(e);\n        } else if (!e.stack) {\n          return this.parseOpera10(e);\n        } else {\n          return this.parseOpera11(e);\n        }\n      },\n      parseOpera9: function(e) {\n        const lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n        const lines = e.message.split(\"\\n\");\n        const result = [];\n        for (let i = 2, len = lines.length; i < len; i += 2) {\n          const match = lineRE.exec(lines[i]);\n          if (match) {\n            result.push(new StackFrame({\n              fileName: match[2],\n              lineNumber: parseFloat(match[1])\n            }));\n          }\n        }\n        return result;\n      },\n      parseOpera10: function(e) {\n        const lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n        const lines = e.stacktrace.split(\"\\n\");\n        const result = [];\n        for (let i = 0, len = lines.length; i < len; i += 2) {\n          const match = lineRE.exec(lines[i]);\n          if (match) {\n            result.push(new StackFrame({\n              functionName: match[3] || void 0,\n              fileName: match[2],\n              lineNumber: parseFloat(match[1])\n            }));\n          }\n        }\n        return result;\n      },\n      parseOpera11: function(error) {\n        const filtered = error.stack.split(\"\\n\").filter(function(line) {\n          return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n        }, this);\n        return filtered.map(function(line) {\n          const tokens = line.split(\"@\");\n          const locationParts = this.extractLocation(tokens.pop());\n          const functionCall = tokens.shift() || \"\";\n          const functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, \"$2\").replace(/\\([^)]*\\)/g, \"\") || void 0;\n          return new StackFrame({\n            functionName,\n            fileName: locationParts[0],\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2]\n          });\n        }, this);\n      }\n    };\n\n    function pathToSelector(node) {\n      if (!node || !node.outerHTML) {\n        return \"\";\n      }\n      let path = \"\";\n      while (node.parentElement) {\n        let name = node.localName;\n        if (!name) {\n          break;\n        }\n        name = name.toLowerCase();\n        const parent = node.parentElement;\n        const domSiblings = [];\n        if (parent.children && parent.children.length > 0) {\n          for (let i = 0; i < parent.children.length; i++) {\n            const sibling = parent.children[i];\n            if (sibling.localName && sibling.localName.toLowerCase) {\n              if (sibling.localName.toLowerCase() === name) {\n                domSiblings.push(sibling);\n              }\n            }\n          }\n        }\n        if (domSiblings.length > 1) {\n          name += `:eq(${domSiblings.indexOf(node)})`;\n        }\n        path = name + (path ? \">\" + path : \"\");\n        node = parent;\n      }\n      return path;\n    }\n    function isObject(obj) {\n      return Object.prototype.toString.call(obj) === \"[object Object]\";\n    }\n    function isObjTooDeep(obj, limit) {\n      if (limit === 0) {\n        return true;\n      }\n      const keys = Object.keys(obj);\n      for (const key of keys) {\n        if (isObject(obj[key]) && isObjTooDeep(obj[key], limit - 1)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    function stringify(obj, stringifyOptions) {\n      const options = {\n        numOfKeysLimit: 50,\n        depthOfLimit: 4\n      };\n      Object.assign(options, stringifyOptions);\n      const stack = [];\n      const keys = [];\n      return JSON.stringify(obj, function(key, value) {\n        if (stack.length > 0) {\n          const thisPos = stack.indexOf(this);\n          ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n          ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n          if (~stack.indexOf(value)) {\n            if (stack[0] === value) {\n              value = \"[Circular ~]\";\n            } else {\n              value = \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\n            }\n          }\n        } else {\n          stack.push(value);\n        }\n        if (value === null)\n          return value;\n        if (value === void 0)\n          return \"undefined\";\n        if (shouldIgnore(value)) {\n          return toString(value);\n        }\n        if (value instanceof Event) {\n          const eventResult = {};\n          for (const eventKey in value) {\n            const eventValue = value[eventKey];\n            if (Array.isArray(eventValue)) {\n              eventResult[eventKey] = pathToSelector(eventValue.length ? eventValue[0] : null);\n            } else {\n              eventResult[eventKey] = eventValue;\n            }\n          }\n          return eventResult;\n        } else if (value instanceof Node) {\n          if (value instanceof HTMLElement) {\n            return value ? value.outerHTML : \"\";\n          }\n          return value.nodeName;\n        } else if (value instanceof Error) {\n          return value.stack ? value.stack + \"\\nEnd of stack for Error object\" : value.name + \": \" + value.message;\n        }\n        return value;\n      });\n      function shouldIgnore(_obj) {\n        if (isObject(_obj) && Object.keys(_obj).length > options.numOfKeysLimit) {\n          return true;\n        }\n        if (typeof _obj === \"function\") {\n          return true;\n        }\n        if (isObject(_obj) && isObjTooDeep(_obj, options.depthOfLimit)) {\n          return true;\n        }\n        return false;\n      }\n      function toString(_obj) {\n        let str = _obj.toString();\n        if (options.stringLengthLimit && str.length > options.stringLengthLimit) {\n          str = `${str.slice(0, options.stringLengthLimit)}...`;\n        }\n        return str;\n      }\n    }\n\n    const defaultLogOptions = {\n      level: [\n        \"assert\",\n        \"clear\",\n        \"count\",\n        \"countReset\",\n        \"debug\",\n        \"dir\",\n        \"dirxml\",\n        \"error\",\n        \"group\",\n        \"groupCollapsed\",\n        \"groupEnd\",\n        \"info\",\n        \"log\",\n        \"table\",\n        \"time\",\n        \"timeEnd\",\n        \"timeLog\",\n        \"trace\",\n        \"warn\"\n      ],\n      lengthThreshold: 1e3,\n      logger: \"console\"\n    };\n    function initLogObserver(cb, win, options) {\n      const logOptions = options ? Object.assign({}, defaultLogOptions, options) : defaultLogOptions;\n      const loggerType = logOptions.logger;\n      if (!loggerType) {\n        return () => {\n        };\n      }\n      let logger;\n      if (typeof loggerType === \"string\") {\n        logger = win[loggerType];\n      } else {\n        logger = loggerType;\n      }\n      let logCount = 0;\n      const cancelHandlers = [];\n      if (logOptions.level.includes(\"error\")) {\n        if (window) {\n          const errorHandler = (event) => {\n            const message = event.message, error = event.error;\n            const trace = ErrorStackParser.parse(error).map((stackFrame) => stackFrame.toString());\n            const payload = [stringify(message, logOptions.stringifyOptions)];\n            cb({\n              level: \"error\",\n              trace,\n              payload\n            });\n          };\n          window.addEventListener(\"error\", errorHandler);\n          cancelHandlers.push(() => {\n            if (window)\n              window.removeEventListener(\"error\", errorHandler);\n          });\n        }\n      }\n      for (const levelType of logOptions.level) {\n        cancelHandlers.push(replace(logger, levelType));\n      }\n      return () => {\n        cancelHandlers.forEach((h) => h());\n      };\n      function replace(_logger, level) {\n        if (!_logger[level]) {\n          return () => {\n          };\n        }\n        return patch(_logger, level, (original) => {\n          return (...args) => {\n            original.apply(this, args);\n            try {\n              const trace = ErrorStackParser.parse(new Error()).map((stackFrame) => stackFrame.toString()).splice(1);\n              const payload = args.map((s) => stringify(s, logOptions.stringifyOptions));\n              logCount++;\n              if (logCount < logOptions.lengthThreshold) {\n                cb({\n                  level,\n                  trace,\n                  payload\n                });\n              } else if (logCount === logOptions.lengthThreshold) {\n                cb({\n                  level: \"warn\",\n                  trace: [],\n                  payload: [\n                    stringify(\"The number of log records reached the threshold.\")\n                  ]\n                });\n              }\n            } catch (error) {\n              original(\"rrweb logger error:\", error, ...args);\n            }\n          };\n        });\n      }\n    }\n    const PLUGIN_NAME = \"rrweb/console@1\";\n    const getRecordConsolePlugin = (options) => ({\n      name: PLUGIN_NAME,\n      observer: initLogObserver,\n      options\n    });\n\n    const ORIGINAL_ATTRIBUTE_NAME = \"__rrweb_original__\";\n    const defaultLogConfig = {\n      level: [\n        \"assert\",\n        \"clear\",\n        \"count\",\n        \"countReset\",\n        \"debug\",\n        \"dir\",\n        \"dirxml\",\n        \"error\",\n        \"group\",\n        \"groupCollapsed\",\n        \"groupEnd\",\n        \"info\",\n        \"log\",\n        \"table\",\n        \"time\",\n        \"timeEnd\",\n        \"timeLog\",\n        \"trace\",\n        \"warn\"\n      ],\n      replayLogger: void 0\n    };\n    class LogReplayPlugin {\n      constructor(config) {\n        this.config = Object.assign(defaultLogConfig, config);\n      }\n      getConsoleLogger() {\n        const replayLogger = {};\n        for (const level of this.config.level) {\n          if (level === \"trace\") {\n            replayLogger[level] = (data) => {\n              const logger = console.log[ORIGINAL_ATTRIBUTE_NAME] ? console.log[ORIGINAL_ATTRIBUTE_NAME] : console.log;\n              logger(...data.payload.map((s) => JSON.parse(s)), this.formatMessage(data));\n            };\n          } else {\n            replayLogger[level] = (data) => {\n              const logger = console[level][ORIGINAL_ATTRIBUTE_NAME] ? console[level][ORIGINAL_ATTRIBUTE_NAME] : console[level];\n              logger(...data.payload.map((s) => JSON.parse(s)), this.formatMessage(data));\n            };\n          }\n        }\n        return replayLogger;\n      }\n      formatMessage(data) {\n        if (data.trace.length === 0) {\n          return \"\";\n        }\n        const stackPrefix = \"\\n\tat \";\n        let result = stackPrefix;\n        result += data.trace.join(stackPrefix);\n        return result;\n      }\n    }\n    const getReplayConsolePlugin = (options) => {\n      const replayLogger = (options == null ? void 0 : options.replayLogger) || new LogReplayPlugin(options).getConsoleLogger();\n      return {\n        handler(event, _isSync, context) {\n          let logData = null;\n          if (event.type === EventType.IncrementalSnapshot && event.data.source === IncrementalSource.Log) {\n            logData = event.data;\n          } else if (event.type === EventType.Plugin && event.data.plugin === PLUGIN_NAME) {\n            logData = event.data.payload;\n          }\n          if (logData) {\n            try {\n              if (typeof replayLogger[logData.level] === \"function\") {\n                replayLogger[logData.level](logData);\n              }\n            } catch (error) {\n              if (context.replayer.config.showWarning) {\n                console.warn(error);\n              }\n            }\n          }\n        }\n      };\n    };\n\n    exports.EventType = EventType;\n    exports.IncrementalSource = IncrementalSource;\n    exports.MouseInteractions = MouseInteractions;\n    exports.PLUGIN_NAME = PLUGIN_NAME;\n    exports.Replayer = Replayer;\n    exports.ReplayerEvents = ReplayerEvents;\n    exports.addCustomEvent = addCustomEvent;\n    exports.freezePage = freezePage;\n    exports.getRecordConsolePlugin = getRecordConsolePlugin;\n    exports.getReplayConsolePlugin = getReplayConsolePlugin;\n    exports.pack = pack;\n    exports.record = record;\n    exports.unpack = unpack;\n    exports.utils = utils;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n    return exports;\n\n})({});\n"],"names":["root","factory","exports","module","define","amd","a","i","self","Symbol","toStringTag","Object","defineProperty","value","NodeType$2","NodeType2","isElement","n","nodeType","ELEMENT_NODE","isShadowRoot","host","Boolean","shadowRoot","isNativeShadowDom","prototype","toString","call","getCssRulesString","s","rules","cssRules","cssText","Array","from","map","getCssRuleString","join","includes","replace","error","rule","cssStringified","isCSSImportRule","styleSheet","_a","Mirror$2","Mirror2","this","idNodeMap","Map","nodeMetaMap","WeakMap","getId","id","getMeta","getNode","get","getIds","keys","removeNodeFromMap","_this","childNodes","forEach","childNode","has","hasNode","node","add","meta","set","oldNode","reset","createMirror$2","maskInputValue","maskInputOptions","tagName","type","maskInputFn","text","toLowerCase","repeat","length","canvasService","canvasCtx","ORIGINAL_ATTRIBUTE_NAME$1","_id","tagNameRegex","RegExp","IGNORED_NODE","genId","URL_IN_CSS_REF","RELATIVE_PATH","DATA_URI","absoluteToStylesheet","href","origin","quote1","path1","quote2","path2","path3","url","filePath","maybeQuote","test","concat","indexOf","split","slice","stack","parts","pop","_i","parts_1","part","push","SRCSET_NOT_SPACES","SRCSET_COMMAS_OR_SPACES","absoluteToDoc","doc","attributeValue","trim","createElement","getHref","document","transformAttribute","name","pos","collectCharacters","regEx","chars","match","exec","substring","output","descriptorsStr","inParens","c","charAt","getAbsoluteSrcsetString","classMatchesRegex","regex","checkAncestors","parentNode","eIndex","classList","className","needMaskingText","maskTextClass","maskTextSelector","el","parentElement","contains","closest","matches","lowerIfExists","maybeAttr","serializeNodeWithId","options","mirror","blockClass","blockSelector","skipChild","_b","inlineStylesheet","_c","maskTextFn","slimDOMOptions","_d","dataURLOptions","_e","inlineImages","_f","recordCanvas","onSerialize","onIframeLoad","_g","iframeLoadTimeout","onStylesheetLoad","_h","stylesheetLoadTimeout","_j","keepIframeSrcFn","_k","newlyAddedElement","_l","preserveWhiteSpace","_serializedNode","rootId","docId","getRootId","DOCUMENT_NODE","compatMode","Document","DOCUMENT_TYPE_NODE","DocumentType","publicId","systemId","needBlock","element","_isBlockedElement","HTMLFormElement","processedTagName","getValidTagName$1","attributes","len","attr","stylesheet","styleSheets","find","rel","_cssText","sheet","innerText","textContent","checked","selected","__context","canvas","ctx","getContext","x","width","y","height","getImageData","originalGetImageData","Uint32Array","Math","min","data","buffer","some","pixel","is2DCanvasBlank","rr_dataURL","toDataURL","quality","canvasDataURL","blankCanvas","image_1","oldValue_1","crossOrigin","recordInlineImage","naturalWidth","naturalHeight","drawImage","err","console","warn","currentSrc","removeAttribute","complete","onload","rr_mediaState","paused","rr_mediaCurrentTime","currentTime","scrollLeft","rr_scrollLeft","scrollTop","rr_scrollTop","getBoundingClientRect","rr_width","rr_height","src","contentDocument","rr_src","Element","isSVG","ownerSVGElement","serializeElementNode","TEXT_NODE","parentTagName","isStyle","isScript","nextSibling","previousSibling","Text","serializeTextNode","CDATA_SECTION_NODE","CDATA","COMMENT_NODE","Comment","serializeNode","sn","comment","script","as","endsWith","headFavicon","headMetaDescKeywords","headMetaSocial","property","headMetaRobots","headMetaHttpEquiv","headMetaAuthorship","headMetaVerification","slimDOMExcluded","serializedNode","assign","recordChild","isShadowHost","headWhitespace","bypassOptions","_m","serializedChildNode","_o","_p","isShadow","iframeEl","listener","win","contentWindow","readyState","fired","blankUrl","location","setTimeout","addEventListener","timer_1","clearTimeout","onceIframeLoaded","iframeDoc","serializedIframeNode","link","styleSheetLoadTimeout","styleSheetLoaded","timer","onceStylesheetLoaded","serializedLinkNode","commentre","parse","css","lineno","column","updatePosition","str","lines","lastIndexOf","position","start","line","Position","whitespace","end","source","content","errorsList","msg","Error","reason","filename","silent","open","close","sel","rules2","comments","atrule","selector","selectors","declarations","re","m","m2","declaration","propMatch","prop","val","ret","decl","decls","keyframe","vals","values","rulesList","atimport","_compileAtrule","atcharset","atnamespace","vendor","frame","frames","keyframes","atkeyframes","media","style","atmedia","atcustommedia","supports","atsupports","atdocument","atpage","athost","atfontface","addParent","parsingErrors","obj","parent","isNode","childParent","isArray","v","configurable","writable","enumerable","tagMap","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","clippath","feblend","fecolormatrix","fecomponenttransfer","fecomposite","feconvolvematrix","fediffuselighting","fedisplacementmap","fedistantlight","fedropshadow","feflood","fefunca","fefuncb","fefuncg","fefuncr","fegaussianblur","feimage","femerge","femergenode","femorphology","feoffset","fepointlight","fespecularlighting","fespotlight","fetile","feturbulence","foreignobject","glyphref","lineargradient","radialgradient","HOVER_SELECTOR","HOVER_SELECTOR_GLOBAL","addHoverClass","cache","cachedStyle","stylesWithHoverClass","ast","selectorMatcher","filter","index","sort","b","result","newSelector","createCache","buildNodeWithSN","hackCss","afterAppend","implementation","createDocument","createDocumentType","node_1","getTagName","createElementNS","specialAttributes","name_1","hasOwnProperty","startsWith","isTextarea","isRemoteOrDynamicCss","setAttributeNS","setAttribute","srcset","child","createTextNode","removeChild","appendChild","_loop_1","name_22","value2","RRNodeType","image","play","e","pause","name_2","firstChild","attachShadow","mode","createCDATASection","createComment","buildNode","xmlns","write","childN","on","fn","target","capture","passive","removeEventListener","DEPARTED_MIRROR_ACCESS_WARNING","throttle","func","wait","timeout","previous","args","now","Date","leading","remaining","context","apply","trailing","hookSetter","key","d","isRevoked","window","original","getOwnPropertyDescriptor","patch","replacement","wrapped","defineProperties","__rrweb_original__","getWindowHeight","innerHeight","documentElement","clientHeight","body","getWindowWidth","innerWidth","clientWidth","isBlocked","isSerialized","isIgnored","isAncestorRemoved","isTouchEvent","event","changedTouches","polyfill$1","NodeList","DOMTokenList","Node","TypeError","queueToResolveTrees","queue","queueNodeMap","putIntoMap","nodeInTree","children","queueNodeTrees","mutation","nextId","parentId","nextInTree","idx","splice","parentInTree","iterateResolveTree","tree","cb","isSerializedIframe","nodeName","isSerializedStylesheet","getAttribute","getBaseDimension","rootIframe","frameElement","ownerDocument","defaultView","relativeScale","absoluteScale","frameDimension","frameBaseDimension","hasShadowRoot","getNestedRule","getPositionsAndIndex","nestedIndex","positions","uniqueTextMutations","mutations","idSet","Set","uniqueMutations","Proxy","Reflect","receiver","StyleSheetMirror","constructor","styleIDMap","idStyleMap","newId","getStyle","generateId","utils","freeze","__proto__","_mirror","polyfill","EventType","EventType2","IncrementalSource","IncrementalSource2","MouseInteractions","MouseInteractions2","CanvasContext","CanvasContext2","MediaInteractions","MediaInteractions2","ReplayerEvents","ReplayerEvents2","isNodeInLinkedList","DoubleLinkedList","head","current","next","addNode","__ln","removeNode","moveKey","MutationBuffer","frozen","locked","texts","removes","mapRemoves","movedMap","addedSet","movedSet","droppedSet","processMutations","processMutation","emit","adds","addList","getNextId","ns","pushAdd","shadowHost","getRootNode","DOCUMENT_FRAGMENT_NODE","rootShadowHost","notInDoc","currentN","iframeManager","addIframe","stylesheetManager","trackLinkElement","shadowDomManager","addShadowRoot","iframe","childSn","attachIframe","observeAttachShadow","attachLinkElement","shift","isParentRemoved","isAncestorInSet","candidate","_node","unhandledNode","payload","attribute","mutationCb","oldValue","attributeName","item","old","styleObj","pname","newValue","getPropertyValue","newPriority","getPropertyPriority","addedNodes","genAdds","removedNodes","nodeId","deepDelete","targetId","delete","init","canvasManager","unfreeze","isFrozen","lock","unlock","addsSet","_isParentRemoved","r","size","_isAncestorInSet","__defProp$5","__defProps$5","__getOwnPropDescs$5","getOwnPropertyDescriptors","__getOwnPropSymbols$6","getOwnPropertySymbols","__hasOwnProp$6","__propIsEnum$6","propertyIsEnumerable","__defNormalProp$5","__spreadValues$5","__spreadProps$5","mutationBuffers","isCSSGroupingRuleSupported","CSSGroupingRule","isCSSMediaRuleSupported","CSSMediaRule","isCSSSupportsRuleSupported","CSSSupportsRule","isCSSConditionRuleSupported","CSSConditionRule","getEventTarget","path","composedPath","initMutationObserver","rootEl","mutationBuffer","mutationObserverCtor","MutationObserver","__rrMutationObserver","angularZoneSymbol","Zone","__symbol__","observer","bind","observe","attributeOldValue","characterData","characterDataOldValue","childList","subtree","initScrollObserver","scrollCb","sampling","evt","scrollEl","scrollingElement","scroll","wrapEventWithUserTriggeredFlag","enable","userTriggered","INPUT_TAGS","lastInputValueMap","getNestedCSSRulePositions","childRule","parentRule","unshift","parentStyleSheet","recurse","getIdAndStyleId","styleMirror","styleId","ownerNode","initAdoptedStyleSheetObserver","hostId","patchTarget","ShadowRoot","originalPropertyDescriptor","_a2","sheets","adoptStyleSheets","initObservers","o","hooks","currentWindow","mousemoveCb","mouseInteractionCb","viewportResizeCb","inputCb","mediaInteractionCb","styleSheetRuleCb","styleDeclarationCb","canvasMutationCb","fontCb","selectionCb","p","mousemove","mouseInteraction","viewportResize","input","mediaInteaction","styleSheetRule","styleDeclaration","canvasMutation","font","selection","mergeHooks","mutationObserver","mousemoveHandler","threshold","callbackThreshold","mousemoveCallback","timeBaseline","wrappedCb","totalOffset","timeOffset","clientX","clientY","DragEvent","Drag","MouseEvent","MouseMove","TouchMove","handlers","h","initMoveObserver","mouseInteractionHandler","disableMap","Number","isNaN","eventKey","eventName","handler","getHandler","initMouseInteractionObserver","scrollHandler","viewportResizeHandler","lastH","lastW","initViewportResizeObserver","inputHandler","ignoreClass","userTriggeredOnInput","eventHandler","isTrusted","isChecked","cbWithDedup","querySelectorAll","lastInputValue","propertyDescriptor","HTMLInputElement","hookProperties","HTMLSelectElement","HTMLTextAreaElement","HTMLOptionElement","initInputObserver","mediaInteractionHandler","volume","muted","playbackRate","Play","Pause","Seeked","VolumeChange","RateChange","initMediaInteractionObserver","styleSheetObserver","insertRule","CSSStyleSheet","deleteRule","replaceSync","supportedNestedCSSRuleTypes","unmodifiedFunctions","entries","typeKey","initStyleSheetObserver","adoptedStyleSheetObserver","styleDeclarationObserver","ignoreCSSAttributes","setProperty","CSSStyleDeclaration","priority","removeProperty","remove","initStyleDeclarationObserver","fontObserver","collectFonts","fontMap","originalFontFace","FontFace","family","descriptors","fontFace","fontSource","JSON","stringify","Uint8Array","restoreHandler","fonts","initFontObserver","selectionObserver","param","collapsed","updateSelection","getSelection","isCollapsed","ranges","count","rangeCount","range","getRangeAt","startContainer","startOffset","endContainer","endOffset","initSelectionObserver","pluginHandlers","plugin","plugins","callback","disconnect","CrossOriginIframeMirror","generateIdFn","iframeIdToRemoteIdMap","iframeRemoteIdToIdMap","remoteId","idToRemoteMap","remoteToIdMap","idToRemoteIdMap","getIdToRemoteIdMap","remoteIdToIdMap","getRemoteIdToIdMap","getRemoteId","getRemoteIds","ids","IframeManager","iframes","crossOriginIframeMap","crossOriginIframeMirror","wrappedEmit","recordCrossOriginIframes","crossOriginIframeStyleMirror","handleMessage","addLoadListener","loadListener","isAttachIframe","adoptedStyleSheets","message","transformedEvent","transformCrossOriginEvent","isCheckout","FullSnapshot","replaceIdOnNode","timestamp","IncrementalSnapshot","Mutation","Meta","Load","DomContentLoaded","Plugin","Custom","replaceIds","ViewportResize","MediaInteraction","MouseInteraction","Scroll","CanvasMutation","Input","StyleSheetRule","StyleDeclaration","replaceStyleIds","Font","Selection","AdoptedStyleSheet","styles","iframeMirror","__defProp$4","__defProps$4","__getOwnPropDescs$4","__getOwnPropSymbols$5","__hasOwnProp$5","__propIsEnum$5","__defNormalProp$4","__spreadValues$4","__spreadProps$4","ShadowDomManager","shadowDoms","WeakSet","restorePatches","manager","option","iframeElement","HTMLElement","restorePatch","lookup","i$2","charCodeAt","decode","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","arraybuffer","ArrayBuffer","bytes","canvasVarMap","saveWebGLVar","isInstanceOfWebGLObject","list","ctor","contextMap","variableListFor$1","serializeArg","arg","Float32Array","Float64Array","Int32Array","Uint16Array","Int16Array","Int8Array","Uint8ClampedArray","rr_type","encode","DataView","byteOffset","byteLength","HTMLImageElement","HTMLCanvasElement","ImageData","serializeArgs","supportedWebGLConstructorNames","initCanvasContextObserver","contextType","patchGLPrototype","blockClass2","props","getOwnPropertyNames","recordArgs","hookHandler","setter","WorkerFactory","sourcemapArg","enableUnicodeArg","sourcemap","undefined","enableUnicode","binaryString","atob","binaryView","String","fromCharCode","decodeBase64","blob","Blob","URL","createObjectURL","createURL","Worker","__getOwnPropSymbols$4","__hasOwnProp$4","__propIsEnum$4","CanvasManager","pendingCanvasMutations","rafStamps","latestId","invokeId","initCanvasMutationObserver","initCanvasFPSObserver","clear","resetObservers","fps","canvasContextReset","snapshotInProgressMap","worker","onmessage","commands","timeBetweenSnapshots","rafId","lastSnapshotTime","takeCanvasSnapshots","getCanvas","matchedCanvas","__async$5","__this","generator","getContextAttributes","preserveDrawingBuffer","COLOR_BUFFER_BIT","bitmap","createImageBitmap","postMessage","Promise","resolve","reject","fulfilled","step","rejected","throw","done","then","requestAnimationFrame","cancelAnimationFrame","startRAFTimestamping","startPendingCanvasMutationFlusher","canvas2DReset","props2D","CanvasRenderingContext2D","initCanvas2DMutationObserver","canvasWebGL1and2Reset","WebGLRenderingContext","WebGL","WebGL2RenderingContext","WebGL2","initCanvasWebGLMutationObserver","flushPendingCanvasMutations","setLatestRAFTimestamp","flushPendingCanvasMutationFor","valuesWithType","__objRest","exclude","StylesheetManager","trackedLinkElements","adoptedStyleSheetCb","linkEl","trackStylesheetInLinkElement","adoptedStyleSheetData","styleIds","CSSRule","__defProp$3","__defProps$3","__getOwnPropDescs$3","__getOwnPropSymbols$3","__hasOwnProp$3","__propIsEnum$3","__defNormalProp$3","__spreadValues$3","__spreadProps$3","wrapEvent","takeFullSnapshot","recording","record","checkoutEveryNms","checkoutEveryNth","maskAllInputs","_maskInputOptions","_slimDOMOptions","packFn","mousemoveWait","inEmittingFrame","passEmitsToParent","color","date","email","month","number","search","tel","time","week","textarea","select","password","lastFullSnapshotEvent","incrementalSnapshotCount","eventProcessor","buf","exceedCount","exceedTime","wrappedMutationEmit","wrappedScrollEmit","wrappedCanvasMutationEmit","getMirror","nodeMirror","slimDOM","snapshot","initialOffset","left","pageXOffset","top","pageYOffset","NodeType$1","addCustomEvent","tag","freezePage","Mirror$1","toCSSText","properties","normalizedName","hyphenate","camelizeRE","CUSTOM_PROPERTY_REGEX","camelize","_","toUpperCase","hyphenateRE","BaseRRNode","_args","NodeType","lastChild","siblings","_newChild","insertBefore","_refChild","BaseRRDocumentTypeImpl","RRNodeClass","qualifiedName","super","BaseRRElementImpl","ClassList","class","newClassName","res","propertyDelimiter","tmp","parseCSSText","hyphenateRE2","_namespace","newChild","refChild","childIndex","indexOfChild","_init","dispatchEvent","_event","attributeString","BaseRRTextImpl","BaseRRCommentImpl","BaseRRCDATASectionImpl","classText","onChange","classes","classNames","NAMESPACES","svg","SVGTagMap","diff","oldTree","newTree","replayer","rrnodeMirror","oldChildren","newChildren","diffChildren","inputDataToApply","scrollDataToApply","scrollData","oldElement","newRRElement","oldAttributes","newAttributes","diffProps","inputData","oldMediaElement","newMediaRRElement","rrCanvasElement","canvasMutations","applyCanvas","applyStyleSheetMutation","oldChildren2","newChildren2","applyScroll","applyInput","oldContentDocument","newIFrameElement","oldIdToIndex","indexInOld","oldStartIndex","oldEndIndex","newStartIndex","newEndIndex","oldStartNode","oldEndNode","newStartNode","newEndNode","oldStartId","oldEndId","newStartId","newEndId","oldChild","nodeToMove","newNode","createOrGetNode","referenceRRNode","referenceNode","rrNode","domMirror","RRDocument","BaseRRDocument","arguments","firstElementChild","doctype","_qualifiedName","_doctype","_namespaceURI","CDATASection","BaseRRDocumentImpl","UNSERIALIZED_STARTING_ID","_unserializedId","Mirror","unserializedId","documentTypeNode","RRDocumentType","upperTagName","RRMediaElement","RRIFrameElement","RRCanvasElement","RRStyleElement","RRElement","commentNode","RRComment","sectionNode","RRCDATASection","textNode","RRText","destroyTree","RRElementClass","BaseRRMediaElementImpl","buildFromNode","rrdom","parentRRNode","documentType","elementNode","rrElement","getDefaultSN","mitt$1","all","t","off","mittProxy","w","__forceSmoothScrollPolyfill__","SCROLL_TIME","scrollTo","scrollBy","elementScroll","scrollElement","scrollIntoView","performance","ROUNDING_TOLERANCE","userAgent","navigator","shouldBailOut","firstArg","behavior","hasScrollableSpace","axis","scrollHeight","scrollWidth","canOverflow","overflowValue","getComputedStyle","isScrollable","isScrollableY","isScrollableX","currentX","currentY","elapsed","startTime","k","cos","PI","startX","startY","method","scrollable","smoothScroll","scrollX","scrollY","SyntaxError","scrollableParent","findScrollableParent","parentRects","clientRects","Timer","actions","config","raf","speed","liveMode","addAction","action","delay","findActionIndex","lastTimestamp","check","doAction","setSpeed","toggleLiveMode","isActive","mid","floor","addDelay","baselineTime","firstOffset","firstTimestamp","iterator","return","NotStarted","Running","Stopped","assignment","i$1","u","changed","f","states","initial","entry","l","_options","initialState","transition","g","S","j","E","R","N","cond","O","T","q","exit","z","A","B","C","_machine","send","subscribe","unsubscribe","stop","state","status","__defProp$2","__defProps$2","__getOwnPropDescs$2","__getOwnPropSymbols$2","__hasOwnProp$2","__propIsEnum$2","__defNormalProp$2","__spreadValues$2","__spreadProps$2","__async$4","__arguments","webGLVarMap","variableListFor","deserializeArg","imageMap","preload","isUnchanged","image2","Image","blobContents","__async$3","WebGLVariableConstructorsNames","webglMutation","_0","errorHandler","variables","saveToWebGLVarMap","__async$2","canvasMutation$1","canvasEventMap","precomputedMutation","command","__async$1","__defProp$1","__defProps$1","__getOwnPropDescs$1","__getOwnPropSymbols$1","__hasOwnProp$1","__propIsEnum$1","__defNormalProp$1","__spreadValues$1","__spreadProps$1","__async","mitt","REPLAY_CONSOLE_PREFIX","defaultMouseTailConfig","duration","lineCap","lineWidth","strokeStyle","indicatesTouchDevice","TouchStart","u8","u16","u32","fleb","fdeb","clim","freb","eb","fl","revfl","fd","revfd","rev","hMap","cd","mb","co","le","rvb","sv","r_1","flt","fdt","flm","flrm","fdm","fdrm","max","bits","bits16","shft","slc","subarray","wbits","wbits16","hTree","t2","i0","i1","i2","maxSym","tr","mbt","ln","dt","lft","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","cls","clen","cf","wfblk","out","dat","wblk","final","syms","lf","df","li","bs","bl","dlt","mlb","ddt","mdb","lclt","nlc","lcdt","ndc","lcfreq","lct","mlcb","nlcc","lm","ll","dm","dl","flen","ftlen","dtlen","llm","lcts","it","clct","dst","deo","et","zlibSync","opts","adler","opt","pre","post","st","lvl","plvl","lst","msk_1","prev","bs1_1","ceil","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","ml","nl","mmd","md","ti","lin","din","dflt","level","mem","log","lv","zlh","wbytes","strToU8","latin1","TextEncoder","ar","ai","strFromU8","TextDecoder","MARK","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","StackFrame","fileName","functionName","lineNumber","columnNumber","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","sanitizedLine","tokens","locationParts","functionNameRegex","parseOpera9","parseOpera11","parseOpera10","lineRE","parseFloat","pathToSelector","outerHTML","localName","domSiblings","sibling","isObject","isObjTooDeep","limit","stringifyOptions","numOfKeysLimit","depthOfLimit","thisPos","Infinity","_obj","stringLengthLimit","Event","eventResult","eventValue","defaultLogOptions","lengthThreshold","logger","initLogObserver","logOptions","loggerType","logCount","cancelHandlers","trace","stackFrame","levelType","_logger","PLUGIN_NAME","ORIGINAL_ATTRIBUTE_NAME","defaultLogConfig","replayLogger","LogReplayPlugin","getConsoleLogger","formatMessage","stackPrefix","Replayer","events","usingVirtualDom","virtualDom","mouseTail","tailPositions","emitter","legacy_missingNodeRetryMap","firstFullSnapshot","newDocumentQueue","mousePos","touchActive","lastSelectionData","constructedStyleMutations","handleResize","dimension","display","applyEventsSynchronously","getCastFn","castFn","mouse","isSync","CustomEvent","Resize","rebuildFullSnapshot","applyIncremental","nextUserInteractionEvent","backToNormal","skipInactive","service","isUserInteraction","speedService","skipTime","round","maxSpeed","SkipStart","wrappedCastFn","last_index","finish","Finish","EventCast","defaultConfig","loadTimeout","showWarning","showDebug","insertStyleRules","triggerFocus","UNSAFE_replayCanvas","pauseAnimation","useVirtualDom","setupDom","Flush","replayerHandler","canvasEvent","canvasMutationData2","warnCanvasMutationFailed","applyStyleSheetRule","applyStyleDeclaration","realNode","applyAdoptedStyleSheet","moveAndHover","debugData","applySelection","PlayBack","playerMachine","playing","PAUSE","CAST_EVENT","END","ADD_EVENT","PLAY","TO_LIVE","live","castEvent","lastPlayedEvent","recordTimeOffset","neededEvents","discardPriorSnapshots","lastPlayedTimestamp","syncEvents","resetLastPlayedEvent","startLive","addEvent","machineEvent","insertionIndex","createPlayerService","unpackFn","a1","a2","StateChange","player","normalSpeed","normal","FAST_FORWARD","SET_SPEED","skipping","BACK_TO_NORMAL","recordSpeed","restoreSpeed","firstMeta","firstFullsnapshot","setConfig","wrapper","getMetaData","firstEvent","lastEvent","endTime","totalTime","getCurrentTime","getTimeOffset","getElementsByTagName","Start","resume","Resume","destroy","Destroy","rawEvent","enableInteract","pointerEvents","disableInteract","resetCache","attributes2","collected","builtNode","collectIframeAndAttachDocument","onBuild","onVisit","visit","visitedNode","name_3","handleScroll","rebuild","mutationInQueue","attachDocumentToIframe","FullsnapshotRebuilded","waitForStylesheetLoad","preloadAllImages","injectStylesRules","styleEl","unloadSheets","beforeLoadState","stateHandler","LoadStylesheetEnd","LoadStylesheetStart","promises","deserializeAndPreloadCanvasEvents","preloadImages","imgd","createImageData","putImageData","applyMutation","lastPosition","debugNodeNotFound","Blur","blur","Focus","focus","preventScroll","Click","TouchEnd","offsetWidth","TouchCancel","mediaEl","dom","createMirror$1","walk2","buildFromDom","virtualNode","warnNodeNotFound","DOMException","legacy_missingNodeMap","appendNode","previousId","nextNotInDOM","targetDoc","parentSn","childNodeArray","legacy_resolveMissingNode","resolveTrees","debug","newSn","siblingNode","styleValues","targetEl","svp","svs","selectionSet","Range","setStart","setEnd","removeAllRanges","addRange","targetHost","newStyleSheet","hostWindow","targetHost2","stylesToAdopt","targetMutation","previousInMap","nextInMap","base","_x","_y","drawMouseTail","hoverElements","draw","clearRect","beginPath","moveTo","lineTo","stroke","hoveredEl","currentEl","SkipEnd","getRecordConsolePlugin","getReplayConsolePlugin","_isSync","logData","Log","pack","__spreadProps","__spreadValues","unpack","raw","sl","noBuf","noSt","cbuf","nbuf","bt","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","lms","dms","mxa","sym","dsym","inflt","zlv"],"sourceRoot":""}