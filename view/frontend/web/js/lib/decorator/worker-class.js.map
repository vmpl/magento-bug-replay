{"version":3,"file":"worker-class.js","names":["deserialize","Map","randomstring","length","outString","inOptions","i","charAt","Math","floor","random","exportToObject","target","propertyName","descriptor","hasOwnProperty","Object","defineProperty","value","configurable","enumerable","writable","exportObject","forEach","method","bind","push","parentMethod","_len","arguments","args","Array","_key","apply","map","argument","console","log"],"sources":["../../../ts/js/lib/decorator/worker-class.ts"],"sourcesContent":["declare type ObjectClass = { [property: string]: any }\nconst deserialize: Map<string, {$$deserialize: Function}> = new Map();\nexport {deserialize};\n\nfunction randomstring(length: number = 64): string {\n    let outString: string = '';\n    let inOptions: string = 'abcdefghijklmnopqrstuvwxyz0123456789';\n\n    for (let i = 0; i < length; i++) {\n        outString += inOptions.charAt(Math.floor(Math.random() * inOptions.length));\n    }\n\n    return outString;\n}\n\nexport function exportToObject(target: ObjectClass, propertyName: string, descriptor: TypedPropertyDescriptor<Function>) {\n    if (!target.hasOwnProperty('$exportMethods')) {\n        Object.defineProperty(target, '$exportMethods', {\n            value: [],\n            configurable: false,\n            enumerable: true,\n            writable: false\n        });\n    }\n\n    if (!target.hasOwnProperty('$exportObject')) {\n        Object.defineProperty(target, '$exportObject', {\n            value: function (): Object {\n                const exportObject: ObjectClass = {};\n                (target['$exportMethods']).forEach((method: string) => {\n                    exportObject[method] = target[method].bind(target);\n                })\n                return exportObject;\n            },\n            configurable: false,\n            enumerable: false,\n            writable: false\n        })\n    }\n\n    (<string[]>target['$exportMethods']).push(propertyName);\n    const parentMethod = descriptor.value!;\n    descriptor.value = function (...args: any[]) {\n        return parentMethod.apply(this, args.map(argument => {\n            if (argument.hasOwnProperty('$$classModule')) {\n                console.log('$$classModule');\n            }\n            return argument;\n        }));\n    }\n}\n"],"mappings":";;;EACA,IAAMA,WAAmD,GAAG,IAAIC,GAAG,CAAC,CAAC;EAGrE,SAASC,YAAYA,CAACC,MAAc,EAAe;IAAA,IAA7BA,MAAc;MAAdA,MAAc,GAAG,EAAE;IAAA;IACrC,IAAIC,SAAiB,GAAG,EAAE;IAC1B,IAAIC,SAAiB,GAAG,sCAAsC;IAE9D,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,EAAEG,CAAC,EAAE,EAAE;MAC7BF,SAAS,IAAIC,SAAS,CAACE,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGL,SAAS,CAACF,MAAM,CAAC,CAAC;IAC/E;IAEA,OAAOC,SAAS;EACpB;EAEO,SAASO,cAAcA,CAACC,MAAmB,EAAEC,YAAoB,EAAEC,UAA6C,EAAE;IACrH,IAAI,CAACF,MAAM,CAACG,cAAc,CAAC,gBAAgB,CAAC,EAAE;MAC1CC,MAAM,CAACC,cAAc,CAACL,MAAM,EAAE,gBAAgB,EAAE;QAC5CM,KAAK,EAAE,EAAE;QACTC,YAAY,EAAE,KAAK;QACnBC,UAAU,EAAE,IAAI;QAChBC,QAAQ,EAAE;MACd,CAAC,CAAC;IACN;IAEA,IAAI,CAACT,MAAM,CAACG,cAAc,CAAC,eAAe,CAAC,EAAE;MACzCC,MAAM,CAACC,cAAc,CAACL,MAAM,EAAE,eAAe,EAAE;QAC3CM,KAAK,EAAE,SAAAA,MAAA,EAAoB;UACvB,IAAMI,YAAyB,GAAG,CAAC,CAAC;UACnCV,MAAM,CAAC,gBAAgB,CAAC,CAAEW,OAAO,CAAC,UAACC,MAAc,EAAK;YACnDF,YAAY,CAACE,MAAM,CAAC,GAAGZ,MAAM,CAACY,MAAM,CAAC,CAACC,IAAI,CAACb,MAAM,CAAC;UACtD,CAAC,CAAC;UACF,OAAOU,YAAY;QACvB,CAAC;QACDH,YAAY,EAAE,KAAK;QACnBC,UAAU,EAAE,KAAK;QACjBC,QAAQ,EAAE;MACd,CAAC,CAAC;IACN;IAEWT,MAAM,CAAC,gBAAgB,CAAC,CAAEc,IAAI,CAACb,YAAY,CAAC;IACvD,IAAMc,YAAY,GAAGb,UAAU,CAACI,KAAM;IACtCJ,UAAU,CAACI,KAAK,GAAG,YAA0B;MAAA,SAAAU,IAAA,GAAAC,SAAA,CAAA1B,MAAA,EAAb2B,IAAI,OAAAC,KAAA,CAAAH,IAAA,GAAAI,IAAA,MAAAA,IAAA,GAAAJ,IAAA,EAAAI,IAAA;QAAJF,IAAI,CAAAE,IAAA,IAAAH,SAAA,CAAAG,IAAA;MAAA;MAChC,OAAOL,YAAY,CAACM,KAAK,CAAC,IAAI,EAAEH,IAAI,CAACI,GAAG,CAAC,UAAAC,QAAQ,EAAI;QACjD,IAAIA,QAAQ,CAACpB,cAAc,CAAC,eAAe,CAAC,EAAE;UAC1CqB,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;QAChC;QACA,OAAOF,QAAQ;MACnB,CAAC,CAAC,CAAC;IACP,CAAC;EACL;EAAC;IAAAxB,cAAA,EAAAA,cAAA;IAAAX,WAAA,EAAAA;EAAA;AAAA"}