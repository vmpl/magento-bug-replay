{"version":3,"file":"worker-class.js","names":["deserialize","Map","randomstring","length","outString","inOptions","i","charAt","Math","floor","random","injectableArgument","module","target","_target","_inheritsLoose","_class2","_this","_len","arguments","args","Array","_key","call","apply","concat","$$classModule","name","exportToObject","propertyName","descriptor","hasOwnProperty","Object","defineProperty","value","configurable","enumerable","writable","exportObject","forEach","method","bind","push","parentMethod","_len2","_key2","map","argument","console","log"],"sources":["../../../ts/js/lib/decorator/worker-class.ts"],"sourcesContent":["declare type ObjectClass = { [property: string]: any }\nconst deserialize: Map<string, {$$deserialize: Function}> = new Map();\nexport {deserialize};\n\nfunction randomstring(length: number = 64): string {\n    let outString: string = '';\n    let inOptions: string = 'abcdefghijklmnopqrstuvwxyz0123456789';\n\n    for (let i = 0; i < length; i++) {\n        outString += inOptions.charAt(Math.floor(Math.random() * inOptions.length));\n    }\n\n    return outString;\n}\n\nexport function injectableArgument(module: string) {\n    return function <T extends { new(...args: any[]): {} }>(target: T) {\n        return class extends target {\n            $$classModule: string = `${module};${target.name}`;\n        };\n    }\n}\n\nexport function exportToObject(target: ObjectClass, propertyName: string, descriptor: TypedPropertyDescriptor<Function>) {\n    if (!target.hasOwnProperty('$exportMethods')) {\n        Object.defineProperty(target, '$exportMethods', {\n            value: [],\n            configurable: false,\n            enumerable: true,\n            writable: false\n        });\n    }\n\n    if (!target.hasOwnProperty('$exportObject')) {\n        Object.defineProperty(target, '$exportObject', {\n            value: function (): Object {\n                const exportObject: ObjectClass = {};\n                (target['$exportMethods']).forEach((method: string) => {\n                    exportObject[method] = target[method].bind(target);\n                })\n                return exportObject;\n            },\n            configurable: false,\n            enumerable: false,\n            writable: false\n        })\n    }\n\n    (<string[]>target['$exportMethods']).push(propertyName);\n    const parentMethod = descriptor.value!;\n    descriptor.value = function (...args: any[]) {\n        return parentMethod.apply(this, args.map(argument => {\n            if (argument.hasOwnProperty('$$classModule')) {\n                console.log('$$classModule');\n            }\n            return argument;\n        }));\n    }\n}\n"],"mappings":"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"}