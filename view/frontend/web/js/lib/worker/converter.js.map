{"version":3,"file":"converter.js","names":["Converter","objectToClass","data","_this","Array","Promise","all","map","bind","Object","values","it","then","convertedObject","keys","key","index","fromEntries","hasOwnProperty","_data$$$classModule$s","split","ModuleClass","LoadedClass","resolve","require","modules","module","assign"],"sources":["../../../ts/js/lib/worker/converter.ts"],"sourcesContent":["export default class Converter {\n    protected constructor() {\n    }\n\n    static objectToClass(data: any): Promise<any> {\n        switch (true) {\n            case data instanceof Array:\n                return Promise.all(data.map(this.objectToClass.bind(this)));\n            case data instanceof Object:\n                return Promise.all(Object.values(data).map(it => this.objectToClass(it)))\n                    .then(values => {\n                        let convertedObject = Object.keys(data)\n                            .map((key, index) => [key, values[index]])\n                        convertedObject = Object.fromEntries(convertedObject);\n\n                        if (data.hasOwnProperty('$$classModule')) {\n                            const [ModuleClass, LoadedClass] = data['$$classModule'].split(';');\n                            return new Promise(resolve => {\n                                require([ModuleClass], function (modules: any) {\n                                    const module = new modules[LoadedClass]();\n                                    resolve(Object.assign(module, convertedObject));\n                                })\n                            });\n                        }\n\n                        return convertedObject;\n                    })\n            default:\n                return Promise.resolve(data);\n        }\n    }\n}\n"],"mappings":";;;MAAqBA,SAAS;IAAA;;IAC1B,SAAAA,UAAA,EAAwB,CACxB;IAACA,SAAA,CAEMC,aAAa,GAApB,SAAAA,cAAqBC,IAAS,EAAgB;MAAA,IAAAC,KAAA;MAC1C,QAAQ,IAAI;QACR,KAAKD,IAAI,YAAYE,KAAK;UACtB,OAAOC,OAAO,CAACC,GAAG,CAACJ,IAAI,CAACK,GAAG,CAAC,IAAI,CAACN,aAAa,CAACO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/D,KAAKN,IAAI,YAAYO,MAAM;UACvB,OAAOJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAACC,MAAM,CAACR,IAAI,CAAC,CAACK,GAAG,CAAC,UAAAI,EAAE;YAAA,OAAIR,KAAI,CAACF,aAAa,CAACU,EAAE,CAAC;UAAA,EAAC,CAAC,CACpEC,IAAI,CAAC,UAAAF,MAAM,EAAI;YACZ,IAAIG,eAAe,GAAGJ,MAAM,CAACK,IAAI,CAACZ,IAAI,CAAC,CAClCK,GAAG,CAAC,UAACQ,GAAG,EAAEC,KAAK;cAAA,OAAK,CAACD,GAAG,EAAEL,MAAM,CAACM,KAAK,CAAC,CAAC;YAAA,EAAC;YAC9CH,eAAe,GAAGJ,MAAM,CAACQ,WAAW,CAACJ,eAAe,CAAC;YAErD,IAAIX,IAAI,CAACgB,cAAc,CAAC,eAAe,CAAC,EAAE;cACtC,IAAAC,qBAAA,GAAmCjB,IAAI,CAAC,eAAe,CAAC,CAACkB,KAAK,CAAC,GAAG,CAAC;gBAA5DC,WAAW,GAAAF,qBAAA;gBAAEG,WAAW,GAAAH,qBAAA;cAC/B,OAAO,IAAId,OAAO,CAAC,UAAAkB,OAAO,EAAI;gBAC1BC,OAAO,CAAC,CAACH,WAAW,CAAC,EAAE,UAAUI,OAAY,EAAE;kBAC3C,IAAMC,MAAM,GAAG,IAAID,OAAO,CAACH,WAAW,CAAC,CAAC,CAAC;kBACzCC,OAAO,CAACd,MAAM,CAACkB,MAAM,CAACD,MAAM,EAAEb,eAAe,CAAC,CAAC;gBACnD,CAAC,CAAC;cACN,CAAC,CAAC;YACN;YAEA,OAAOA,eAAe;UAC1B,CAAC,CAAC;QACV;UACI,OAAOR,OAAO,CAACkB,OAAO,CAACrB,IAAI,CAAC;MACpC;IACJ,CAAC;IAAA,OAAAF,SAAA;EAAA;EAAA,OAAAA,SAAA;AAAA"}