{"version":3,"file":"runner.js","names":["Runner","manager","_proto","prototype","execute","startRecord","exposeDemoActions","_this","window","demo","getSessionRecords","paginator","getCurrentPage","then","items","console","log","goForPage","value","page","addFilterWithTitle","title","filter","PaginatorFilter","getTwoFirstSessionEvents","from","to","sessions","getEventsForSessionAt","slice","events","uploadSessions","runner","_recorderManager","init","_default"],"sources":["../ts/js/runner.ts"],"sourcesContent":["import RecorderManager from \"VMPL_BugReplay/js/lib/recorder-manager\";\nimport {PaginatorFilter} from \"VMPL_BugReplay/js/lib/items-paginator\";\n\nclass Runner {\n    constructor(protected readonly manager: RecorderManager) {\n    }\n\n    execute(): void {\n        this.manager.startRecord();\n        this.exposeDemoActions();\n    }\n\n    exposeDemoActions(): void {\n        // @ts-ignore\n        window.demo = {\n            getSessionRecords: () => {\n                this.manager.paginator.getCurrentPage()\n                    .then(items => console.log(items));\n            },\n            goForPage: (value: number) => (this.manager.paginator.page = value),\n            addFilterWithTitle: (title: string = 'Jackets - Tops - Women') => {\n                this.manager.paginator.filter = new PaginatorFilter('title', title);\n            },\n            getTwoFirstSessionEvents: (from: number = 0, to: number = 2) => {\n                this.manager.paginator.getCurrentPage()\n                    .then(sessions => {\n                        return this.manager.getEventsForSessionAt(sessions.slice(from, to))\n                    })\n                    .then(events => console.log(events))\n            },\n            uploadSessions: () => {\n                this.manager.uploadSessions()\n                    .then(() => console.log('finished'));\n            }\n        }\n    }\n}\nconst runner = RecorderManager.init()\n    .then(manager => new Runner(manager));\nexport default runner;\n"],"mappings":";;;MAGMA,MAAM;IAAA;;IACR,SAAAA,OAA+BC,OAAwB,EAAE;MAAA,KAA1BA,OAAwB,GAAxBA,OAAwB;IACvD;IAAC,IAAAC,MAAA,GAAAF,MAAA,CAAAG,SAAA;IAAAD,MAAA,CAEDE,OAAO,GAAP,SAAAA,QAAA,EAAgB;MACZ,IAAI,CAACH,OAAO,CAACI,WAAW,CAAC,CAAC;MAC1B,IAAI,CAACC,iBAAiB,CAAC,CAAC;IAC5B,CAAC;IAAAJ,MAAA,CAEDI,iBAAiB,GAAjB,SAAAA,kBAAA,EAA0B;MAAA,IAAAC,KAAA;MACtB;MACAC,MAAM,CAACC,IAAI,GAAG;QACVC,iBAAiB,EAAE,SAAAA,kBAAA,EAAM;UACrBH,KAAI,CAACN,OAAO,CAACU,SAAS,CAACC,cAAc,CAAC,CAAC,CAClCC,IAAI,CAAC,UAAAC,KAAK;YAAA,OAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;UAAA,EAAC;QAC1C,CAAC;QACDG,SAAS,EAAE,SAAAA,UAACC,KAAa;UAAA,OAAMX,KAAI,CAACN,OAAO,CAACU,SAAS,CAACQ,IAAI,GAAGD,KAAK;QAAA,CAAC;QACnEE,kBAAkB,EAAE,SAAAA,mBAACC,KAAa,EAAgC;UAAA,IAA7CA,KAAa;YAAbA,KAAa,GAAG,wBAAwB;UAAA;UACzDd,KAAI,CAACN,OAAO,CAACU,SAAS,CAACW,MAAM,GAAG,IAAIC,+BAAe,CAAC,OAAO,EAAEF,KAAK,CAAC;QACvE,CAAC;QACDG,wBAAwB,EAAE,SAAAA,yBAACC,IAAY,EAAMC,EAAU,EAAS;UAAA,IAArCD,IAAY;YAAZA,IAAY,GAAG,CAAC;UAAA;UAAA,IAAEC,EAAU;YAAVA,EAAU,GAAG,CAAC;UAAA;UACvDnB,KAAI,CAACN,OAAO,CAACU,SAAS,CAACC,cAAc,CAAC,CAAC,CAClCC,IAAI,CAAC,UAAAc,QAAQ,EAAI;YACd,OAAOpB,KAAI,CAACN,OAAO,CAAC2B,qBAAqB,CAACD,QAAQ,CAACE,KAAK,CAACJ,IAAI,EAAEC,EAAE,CAAC,CAAC;UACvE,CAAC,CAAC,CACDb,IAAI,CAAC,UAAAiB,MAAM;YAAA,OAAIf,OAAO,CAACC,GAAG,CAACc,MAAM,CAAC;UAAA,EAAC;QAC5C,CAAC;QACDC,cAAc,EAAE,SAAAA,eAAA,EAAM;UAClBxB,KAAI,CAACN,OAAO,CAAC8B,cAAc,CAAC,CAAC,CACxBlB,IAAI,CAAC;YAAA,OAAME,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;UAAA,EAAC;QAC5C;MACJ,CAAC;IACL,CAAC;IAAA,OAAAhB,MAAA;EAAA;EAEL,IAAMgC,MAAM,GAAGC,gBAAA,CAAgBC,IAAI,CAAC,CAAC,CAChCrB,IAAI,CAAC,UAAAZ,OAAO;IAAA,OAAI,IAAID,MAAM,CAACC,OAAO,CAAC;EAAA,EAAC;EAAC,IAAAkC,QAAA,GAC3BH,MAAM;EAAA,OAAAG,QAAA;AAAA"}